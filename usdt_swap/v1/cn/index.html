
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <title>火币USDT本位永续合约 API 文档</title>
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <header>
      <div class="flex_box">
        <img src="images/logo.svg" class="logo" alt="Logo" />
        <div class="nav_box">
          <span class="nav_cell" style="display: none">
            <a href="javascript:;" class="nav_first">v1<i class="icon_nav"></i></a>
            <ul class="nav_ul">
              <li>
                <a href="/docs/spot/v1/en/" id="v1_url">v1</a>
              </li>
              <li>
                <a href="/docs/spot/v2/en/" id="v2_url">v2</a>
              </li>
            </ul>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/spot/v1/en/" id="btn_spot">现货</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/dm/v1/en/" id="btn_dm">交割合约</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/coin_margined_swap/v1/en/" id="btn_coin_margined_swap">币本位永续合约</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/usdt_swap/v1/en/" id="btn_usdt_swap">USDT币本位永续合约</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/option/v1/en/" id="btn_option">期权合约</a>
          </span>
          <!-- <span class="nav_cell nav_tab">
            <a href="/docs/swap/v1/en/" id="btn_swap">永续合约</a>
          </span> -->
        </div>
      </div>
      <a href="/docs/spot/v1/cn/" class="lang" id="lang_box">简体中文</a>
    </header>
    <div class="toc-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#5ea2e0cde2" class="toc-h1 toc-link" data-title="简介">简介</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#usdt-api" class="toc-h2 toc-link" data-title="USDT本位永续合约API简介">USDT本位永续合约API简介</a>
                  </li>
                  <li>
                    <a href="#cc4b988593" class="toc-h2 toc-link" data-title="做市商项目">做市商项目</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#185368440e" class="toc-h1 toc-link" data-title="更新日志">更新日志</a>
          </li>
          <li>
            <a href="#0d9cec2a3b" class="toc-h1 toc-link" data-title="合约交易接入说明">合约交易接入说明</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ab0b26742c" class="toc-h2 toc-link" data-title="合约交易接口列表">合约交易接口列表</a>
                  </li>
                  <li>
                    <a href="#8664ee712b" class="toc-h2 toc-link" data-title="访问地址">访问地址</a>
                  </li>
                  <li>
                    <a href="#c64cd15fdc" class="toc-h2 toc-link" data-title="签名认证">签名认证</a>
                  </li>
                  <li>
                    <a href="#4977e9e52a" class="toc-h2 toc-link" data-title="访问次数限制">访问次数限制</a>
                  </li>
                  <li>
                    <a href="#9aaa7f5ea2" class="toc-h2 toc-link" data-title="撤单率限制【暂未启用】">撤单率限制【暂未启用】</a>
                  </li>
                  <li>
                    <a href="#bef5ec9210" class="toc-h2 toc-link" data-title="查询系统是否可用">查询系统是否可用</a>
                  </li>
                  <li>
                    <a href="#67361e2961" class="toc-h2 toc-link" data-title="获取当前系统时间戳">获取当前系统时间戳</a>
                  </li>
                  <li>
                    <a href="#f39e8d8281" class="toc-h2 toc-link" data-title="错误码详情">错误码详情</a>
                  </li>
                  <li>
                    <a href="#api" class="toc-h2 toc-link" data-title="API 最佳实践">API 最佳实践</a>
                  </li>
                  <li>
                    <a href="#2cff7db524" class="toc-h2 toc-link" data-title="代码实例">代码实例</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#0adb1147b3" class="toc-h1 toc-link" data-title="常见问题">常见问题</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#59ce3c8353" class="toc-h2 toc-link" data-title="接入验签相关">接入验签相关</a>
                  </li>
                  <li>
                    <a href="#ws" class="toc-h2 toc-link" data-title="行情及WS推送相关">行情及WS推送相关</a>
                  </li>
                  <li>
                    <a href="#d9c242c3fe" class="toc-h2 toc-link" data-title="交易相关">交易相关</a>
                  </li>
                  <li>
                    <a href="#a231eed8c5" class="toc-h2 toc-link" data-title="错误码相关">错误码相关</a>
                  </li>
                  <li>
                    <a href="#9065b72c3b" class="toc-h2 toc-link" data-title="如何更有效的解决问题">如何更有效的解决问题</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#0737c93bf7" class="toc-h1 toc-link" data-title="合约市场行情接口">合约市场行情接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#6b15dcb6a3" class="toc-h2 toc-link" data-title="获取合约信息">获取合约信息</a>
                  </li>
                  <li>
                    <a href="#1028ab8392" class="toc-h2 toc-link" data-title="获取合约指数信息">获取合约指数信息</a>
                  </li>
                  <li>
                    <a href="#025c787500" class="toc-h2 toc-link" data-title="获取合约最高限价和最低限价">获取合约最高限价和最低限价</a>
                  </li>
                  <li>
                    <a href="#e30aaa2765" class="toc-h2 toc-link" data-title="获取当前可用合约总持仓量">获取当前可用合约总持仓量</a>
                  </li>
                  <li>
                    <a href="#1716b8327e" class="toc-h2 toc-link" data-title="获取行情深度数据">获取行情深度数据</a>
                  </li>
                  <li>
                    <a href="#k" class="toc-h2 toc-link" data-title="获取K线数据">获取K线数据</a>
                  </li>
                  <li>
                    <a href="#c0732fad25" class="toc-h2 toc-link" data-title="获取聚合行情">获取聚合行情</a>
                  </li>
                  <li>
                    <a href="#a690ab6851" class="toc-h2 toc-link" data-title="获取市场最近成交记录">获取市场最近成交记录</a>
                  </li>
                  <li>
                    <a href="#8aa1eaa6bf" class="toc-h2 toc-link" data-title="批量获取最近的交易记录">批量获取最近的交易记录</a>
                  </li>
                  <li>
                    <a href="#5701be150c" class="toc-h2 toc-link" data-title="查询合约风险准备金余额和预估分摊比例">查询合约风险准备金余额和预估分摊比例</a>
                  </li>
                  <li>
                    <a href="#949887dfc5" class="toc-h2 toc-link" data-title="查询合约风险准备金余额历史数据">查询合约风险准备金余额历史数据</a>
                  </li>
                  <li>
                    <a href="#6f611742ac" class="toc-h2 toc-link" data-title="查询平台阶梯调整系数">查询平台阶梯调整系数</a>
                  </li>
                  <li>
                    <a href="#7846b9b81a" class="toc-h2 toc-link" data-title="平台持仓量的查询">平台持仓量的查询</a>
                  </li>
                  <li>
                    <a href="#06c58fa171" class="toc-h2 toc-link" data-title="精英账户多空持仓对比-账户数">精英账户多空持仓对比-账户数</a>
                  </li>
                  <li>
                    <a href="#fa6c2e10f7" class="toc-h2 toc-link" data-title="精英账户多空持仓对比-持仓量">精英账户多空持仓对比-持仓量</a>
                  </li>
                  <li>
                    <a href="#3c4726638f" class="toc-h2 toc-link" data-title="查询系统状态">查询系统状态</a>
                  </li>
                  <li>
                    <a href="#4a42f6a161" class="toc-h2 toc-link" data-title="获取合约的资金费率">获取合约的资金费率</a>
                  </li>
                  <li>
                    <a href="#db0c72a9e3" class="toc-h2 toc-link" data-title="获取合约的历史资金费率">获取合约的历史资金费率</a>
                  </li>
                  <li>
                    <a href="#78ab607a57" class="toc-h2 toc-link" data-title="获取强平订单">获取强平订单</a>
                  </li>
                  <li>
                    <a href="#k-2" class="toc-h2 toc-link" data-title="获取合约的溢价指数K线">获取合约的溢价指数K线</a>
                  </li>
                  <li>
                    <a href="#k-3" class="toc-h2 toc-link" data-title="获取实时预测资金费率的K线数据">获取实时预测资金费率的K线数据</a>
                  </li>
                  <li>
                    <a href="#8cfe8b0489" class="toc-h2 toc-link" data-title="获取基差数据">获取基差数据</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#e2d72291c6" class="toc-h1 toc-link" data-title="合约资产接口">合约资产接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#e807c44c06" class="toc-h2 toc-link" data-title="获取用户账户信息">获取用户账户信息</a>
                  </li>
                  <li>
                    <a href="#46a3ba9a2f" class="toc-h2 toc-link" data-title="获取用户持仓信息">获取用户持仓信息</a>
                  </li>
                  <li>
                    <a href="#2aa4c454c6" class="toc-h2 toc-link" data-title="查询用户账户和持仓信息">查询用户账户和持仓信息</a>
                  </li>
                  <li>
                    <a href="#a2a4472972" class="toc-h2 toc-link" data-title="查询母账户下所有子账户资产信息">查询母账户下所有子账户资产信息</a>
                  </li>
                  <li>
                    <a href="#06ecb288c9" class="toc-h2 toc-link" data-title="查询单个子账户资产信息">查询单个子账户资产信息</a>
                  </li>
                  <li>
                    <a href="#357363cd8d" class="toc-h2 toc-link" data-title="查询单个子账户持仓信息">查询单个子账户持仓信息</a>
                  </li>
                  <li>
                    <a href="#da46d99549" class="toc-h2 toc-link" data-title="查询用户财务记录">查询用户财务记录</a>
                  </li>
                  <li>
                    <a href="#6534c93810" class="toc-h2 toc-link" data-title="查询用户可用杠杆倍数">查询用户可用杠杆倍数</a>
                  </li>
                  <li>
                    <a href="#73715d9daf" class="toc-h2 toc-link" data-title="查询用户当前的下单量限制">查询用户当前的下单量限制</a>
                  </li>
                  <li>
                    <a href="#1e757a130f" class="toc-h2 toc-link" data-title="查询用户当前的手续费费率">查询用户当前的手续费费率</a>
                  </li>
                  <li>
                    <a href="#36078ddf99" class="toc-h2 toc-link" data-title="查询用户当前的划转限制">查询用户当前的划转限制</a>
                  </li>
                  <li>
                    <a href="#44a4794c9d" class="toc-h2 toc-link" data-title="用户持仓量限制的查询">用户持仓量限制的查询</a>
                  </li>
                  <li>
                    <a href="#7bc510fe47" class="toc-h2 toc-link" data-title="母子账户划转">母子账户划转</a>
                  </li>
                  <li>
                    <a href="#6381f8e39d" class="toc-h2 toc-link" data-title="获取母账户下的所有母子账户划转记录">获取母账户下的所有母子账户划转记录</a>
                  </li>
                  <li>
                    <a href="#58fc03af4e" class="toc-h2 toc-link" data-title="同账号不同保证金账户的划转">同账号不同保证金账户的划转</a>
                  </li>
                  <li>
                    <a href="#api-2" class="toc-h2 toc-link" data-title="获取用户的API指标禁用信息">获取用户的API指标禁用信息</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ea84f6c646" class="toc-h1 toc-link" data-title="合约交易接口">合约交易接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#9dc85ffb46" class="toc-h2 toc-link" data-title="合约下单">合约下单</a>
                  </li>
                  <li>
                    <a href="#33123f0c09" class="toc-h2 toc-link" data-title="合约批量下单">合约批量下单</a>
                  </li>
                  <li>
                    <a href="#4e53c0fccd" class="toc-h2 toc-link" data-title="撤销订单">撤销订单</a>
                  </li>
                  <li>
                    <a href="#f175a031e7" class="toc-h2 toc-link" data-title="全部撤单">全部撤单</a>
                  </li>
                  <li>
                    <a href="#8a15d24569" class="toc-h2 toc-link" data-title="切换杠杆">切换杠杆</a>
                  </li>
                  <li>
                    <a href="#f36cfcbaef" class="toc-h2 toc-link" data-title="获取合约订单信息">获取合约订单信息</a>
                  </li>
                  <li>
                    <a href="#81b4bd7186" class="toc-h2 toc-link" data-title="获取订单明细信息">获取订单明细信息</a>
                  </li>
                  <li>
                    <a href="#dd332a7a9c" class="toc-h2 toc-link" data-title="获取合约当前未成交委托">获取合约当前未成交委托</a>
                  </li>
                  <li>
                    <a href="#60625f16b4" class="toc-h2 toc-link" data-title="获取合约历史委托">获取合约历史委托</a>
                  </li>
                  <li>
                    <a href="#b40b26dbfd" class="toc-h2 toc-link" data-title="获取历史成交记录">获取历史成交记录</a>
                  </li>
                  <li>
                    <a href="#669c2a2e3d" class="toc-h2 toc-link" data-title="闪电平仓下单">闪电平仓下单</a>
                  </li>
                  <li>
                    <a href="#97a9bd626d" class="toc-h2 toc-link" data-title="合约计划委托下单">合约计划委托下单</a>
                  </li>
                  <li>
                    <a href="#0d42beab34" class="toc-h2 toc-link" data-title="合约计划委托撤单">合约计划委托撤单</a>
                  </li>
                  <li>
                    <a href="#3d2471d520" class="toc-h2 toc-link" data-title="合约计划委托全部撤单">合约计划委托全部撤单</a>
                  </li>
                  <li>
                    <a href="#b5280a27b3" class="toc-h2 toc-link" data-title="获取计划委托当前委托">获取计划委托当前委托</a>
                  </li>
                  <li>
                    <a href="#37aeb9f3bd" class="toc-h2 toc-link" data-title="获取计划委托历史委托">获取计划委托历史委托</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#usdt-2" class="toc-h1 toc-link" data-title="USDT本位永续合约划转接口">USDT本位永续合约划转接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#usdt-3" class="toc-h2 toc-link" data-title="现货-USDT本位永续账户间进行资金的划转">现货-USDT本位永续账户间进行资金的划转</a>
                  </li>
                  <li>
                    <a href="#86f9c9c3d1" class="toc-h2 toc-link" data-title="响应码列表">响应码列表</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket" class="toc-h1 toc-link" data-title="合约Websocket简介">合约Websocket简介</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#14f70b1746-2" class="toc-h2 toc-link" data-title="接口列表">接口列表</a>
                  </li>
                  <li>
                    <a href="#af44fd2dcc" class="toc-h2 toc-link" data-title="合约订阅地址">合约订阅地址</a>
                  </li>
                  <li>
                    <a href="#4977e9e52a-2" class="toc-h2 toc-link" data-title="访问次数限制">访问次数限制</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-2" class="toc-h1 toc-link" data-title="WebSocket心跳以及鉴权接口">WebSocket心跳以及鉴权接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#472585d15d" class="toc-h2 toc-link" data-title="市场行情心跳">市场行情心跳</a>
                  </li>
                  <li>
                    <a href="#fdaa613443" class="toc-h2 toc-link" data-title="订单推送心跳">订单推送心跳</a>
                  </li>
                  <li>
                    <a href="#449fab721e" class="toc-h2 toc-link" data-title="订单推送访问地址">订单推送访问地址</a>
                  </li>
                  <li>
                    <a href="#b1db8cc3ee" class="toc-h2 toc-link" data-title="服务方主动断开连接">服务方主动断开连接</a>
                  </li>
                  <li>
                    <a href="#47b397d5de" class="toc-h2 toc-link" data-title="服务方返回错误，但不断开连接">服务方返回错误，但不断开连接</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="鉴权-Authentication">鉴权-Authentication</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-3" class="toc-h1 toc-link" data-title="WebSocket市场行情接口">WebSocket市场行情接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#kline" class="toc-h2 toc-link" data-title="订阅 KLine 数据">订阅 KLine 数据</a>
                  </li>
                  <li>
                    <a href="#kline-2" class="toc-h2 toc-link" data-title="请求 KLine 数据">请求 KLine 数据</a>
                  </li>
                  <li>
                    <a href="#market-depth" class="toc-h2 toc-link" data-title="订阅 Market Depth 数据">订阅 Market Depth 数据</a>
                  </li>
                  <li>
                    <a href="#market-depth-2" class="toc-h2 toc-link" data-title="订阅Market Depth增量数据">订阅Market Depth增量数据</a>
                  </li>
                  <li>
                    <a href="#market-detail" class="toc-h2 toc-link" data-title="订阅 Market Detail 数据">订阅 Market Detail 数据</a>
                  </li>
                  <li>
                    <a href="#92ecc6b6d0" class="toc-h2 toc-link" data-title="订阅买一卖一逐笔行情推送">订阅买一卖一逐笔行情推送</a>
                  </li>
                  <li>
                    <a href="#trade-detail" class="toc-h2 toc-link" data-title="请求 Trade Detail 数据">请求 Trade Detail 数据</a>
                  </li>
                  <li>
                    <a href="#trade-detail-2" class="toc-h2 toc-link" data-title="订阅 Trade Detail 数据">订阅 Trade Detail 数据</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-4" class="toc-h1 toc-link" data-title="WebSocket指数与基差数据接口">WebSocket指数与基差数据接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#k-4" class="toc-h2 toc-link" data-title="订阅溢价指数K线数据">订阅溢价指数K线数据</a>
                  </li>
                  <li>
                    <a href="#k-5" class="toc-h2 toc-link" data-title="请求溢价指数K线数据">请求溢价指数K线数据</a>
                  </li>
                  <li>
                    <a href="#k-6" class="toc-h2 toc-link" data-title="订阅预测资金费率K线数据">订阅预测资金费率K线数据</a>
                  </li>
                  <li>
                    <a href="#k-7" class="toc-h2 toc-link" data-title="请求预测资金费率K线数据">请求预测资金费率K线数据</a>
                  </li>
                  <li>
                    <a href="#45aabcd3fd" class="toc-h2 toc-link" data-title="订阅基差数据">订阅基差数据</a>
                  </li>
                  <li>
                    <a href="#6997aa03db" class="toc-h2 toc-link" data-title="请求基差数据">请求基差数据</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-5" class="toc-h1 toc-link" data-title="WebSocket订单和用户数据接口">WebSocket订单和用户数据接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#sub-10" class="toc-h2 toc-link" data-title="订阅订单成交数据（sub）">订阅订单成交数据（sub）</a>
                  </li>
                  <li>
                    <a href="#unsub" class="toc-h2 toc-link" data-title="取消订阅订单成交数据（unsub）">取消订阅订单成交数据（unsub）</a>
                  </li>
                  <li>
                    <a href="#sub-11" class="toc-h2 toc-link" data-title="资产变动数据（sub）">资产变动数据（sub）</a>
                  </li>
                  <li>
                    <a href="#unsub-2" class="toc-h2 toc-link" data-title="取消订阅资产变动数据（unsub）">取消订阅资产变动数据（unsub）</a>
                  </li>
                  <li>
                    <a href="#sub-12" class="toc-h2 toc-link" data-title="持仓变动更新数据（sub）">持仓变动更新数据（sub）</a>
                  </li>
                  <li>
                    <a href="#unsub-3" class="toc-h2 toc-link" data-title="取消订阅持仓变动数据（unsub）">取消订阅持仓变动数据（unsub）</a>
                  </li>
                  <li>
                    <a href="#sub-13" class="toc-h2 toc-link" data-title="订阅合约订单撮合数据（sub）">订阅合约订单撮合数据（sub）</a>
                  </li>
                  <li>
                    <a href="#unsub-4" class="toc-h2 toc-link" data-title="取消订阅合约订单撮合数据（unsub）">取消订阅合约订单撮合数据（unsub）</a>
                  </li>
                  <li>
                    <a href="#sub-14" class="toc-h2 toc-link" data-title="订阅强平订单数据(免鉴权)（sub）">订阅强平订单数据(免鉴权)（sub）</a>
                  </li>
                  <li>
                    <a href="#unsub-5" class="toc-h2 toc-link" data-title="取消订阅强平订单(免鉴权)（unsub）">取消订阅强平订单(免鉴权)（unsub）</a>
                  </li>
                  <li>
                    <a href="#sub-15" class="toc-h2 toc-link" data-title="订阅资金费率推送(免鉴权)（sub）">订阅资金费率推送(免鉴权)（sub）</a>
                  </li>
                  <li>
                    <a href="#unsub-6" class="toc-h2 toc-link" data-title="取消订阅资金费率(免鉴权)（unsub）">取消订阅资金费率(免鉴权)（unsub）</a>
                  </li>
                  <li>
                    <a href="#sub-16" class="toc-h2 toc-link" data-title="订阅合约信息变动(免鉴权)（sub）">订阅合约信息变动(免鉴权)（sub）</a>
                  </li>
                  <li>
                    <a href="#unsub-7" class="toc-h2 toc-link" data-title="取消订阅合约信息变动(免鉴权)（unsub）">取消订阅合约信息变动(免鉴权)（unsub）</a>
                  </li>
                  <li>
                    <a href="#sub-17" class="toc-h2 toc-link" data-title="订阅计划委托订单更新(sub)">订阅计划委托订单更新(sub)</a>
                  </li>
                  <li>
                    <a href="#unsub-8" class="toc-h2 toc-link" data-title="取消订阅计划委托订单更新（unsub）">取消订阅计划委托订单更新（unsub）</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-6" class="toc-h1 toc-link" data-title="WebSocket附录">WebSocket附录</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#op" class="toc-h2 toc-link" data-title="操作类型（OP）说明">操作类型（OP）说明</a>
                  </li>
                  <li>
                    <a href="#topic" class="toc-h2 toc-link" data-title="主题（topic）类型说明">主题（topic）类型说明</a>
                  </li>
                  <li>
                    <a href="#err-code" class="toc-h2 toc-link" data-title="响应码（Err-Code）说明">响应码（Err-Code）说明</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.hbg.com/zh-cn/apikey/'>创建 API Key </a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='5ea2e0cde2'>简介</h1><h2 id='usdt-api'>USDT本位永续合约API简介</h2>
<p>欢迎使用火币USDT本位永续合约 API！ 你可以使用此 API 获得市场行情数据，进行交易，并且管理你的账户。</p>

<p>在文档的右侧是代码示例，目前我们仅提供针对 <code>shell</code> 的代码示例。</p>

<p>你可以通过选择上方下拉菜单的版本号来切换文档对应的 API 版本，也可以通过点击右上方的语言按钮来切换文档语言。</p>
<h2 id='cc4b988593'>做市商项目</h2>
<aside class="notice">
做市商项目不支持点卡抵扣、VIP、交易量相关活动以及任何形式的返佣活动。
</aside>

<p>欢迎有优秀 maker 策略交易量大的用户参与长期合约做市商项目。如果您的火币交割合约账户中有折合大于 5 BTC 资产，或火币币本位永续合约账户中有折合大于 3 BTC 资产，或火币期权合约账户中有折合大于 3 BTC 资产，或火币USDT本位永续合约账户中有大于 30000 USDT 资产，请提供以下信息到 dm_mm@huobi.com（做市商项目不支持点卡抵扣、VIP、交易量相关活动以及任何形式的返佣活动）:</p>

<ol>
<li>提供火币 UID （需不存在返佣关系的 UID）；</li>
<li>提供其他交易平台 maker 交易量截图证明（比如30天内成交量，或者 VIP 等级等）；</li>
</ol>
<h1 id='185368440e'>更新日志</h1>
<p>1.0.0 即将上线</p>
<h1 id='0d9cec2a3b'>合约交易接入说明</h1><h2 id='ab0b26742c'>合约交易接口列表</h2><h3 id='14f70b1746'>接口列表</h3>
<table><thead>
<tr>
<th>权限类型</th>
<th>接口数据类型</th>
<th>请求方法</th>
<th>类型</th>
<th>描述</th>
<th>需要验签</th>
</tr>
</thead><tbody>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>linear-swap-api/v1/swap_contract_info</td>
<td>GET</td>
<td>获取合约信息</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>linear-swap-api/v1/swap_index</td>
<td>GET</td>
<td>获取合约指数信息</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>linear-swap-api/v1/swap_price_limit</td>
<td>GET</td>
<td>获取合约最高限价和最低限价</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>linear-swap-api/v1/swap_open_interest</td>
<td>GET</td>
<td>获取当前可用合约总持仓量</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>linear-swap-api/v1/swap_risk_info</td>
<td>GET</td>
<td>查询合约风险准备金和预估分摊比例</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>linear-swap-api/v1/swap_insurance_fund</td>
<td>GET</td>
<td>获取风险准备金历史数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>linear-swap-api/v1/swap_adjustfactor</td>
<td>GET</td>
<td>查询平台阶梯调整系数</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>linear-swap-api/v1/swap_his_open_interest</td>
<td>GET</td>
<td>获取平台持仓量</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>linear-swap-api/v1/swap_elite_account_ratio</td>
<td>GET</td>
<td>精英账户多空持仓对比-账户数</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>linear-swap-api/v1/swap_elite_position_ratio</td>
<td>GET</td>
<td>精英账户多空持仓对比-持仓量</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>linear-swap-api/v1/swap_liquidation_orders</td>
<td>GET</td>
<td>获取强平订单</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>linear-swap-api/v1/swap_api_state</td>
<td>GET</td>
<td>查询系统状态</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>linear-swap-api/v1/swap_funding_rate</td>
<td>GET</td>
<td>获取合约的资金费率</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>linear-swap-api/v1/swap_historical_funding_rate</td>
<td>GET</td>
<td>获取合约的历史资金费率</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>linear-swap-ex/market/depth</td>
<td>GET</td>
<td>获取行情深度数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>linear-swap-ex/market/history/kline</td>
<td>GET</td>
<td>获取K线数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>linear-swap-ex/market/detail/merged</td>
<td>GET</td>
<td>获取聚合行情</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>index/market/history/linear_swap_basis</td>
<td>GET</td>
<td>获取基差数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>index/market/history/linear_swap_premium_index_kline</td>
<td>GET</td>
<td>获取溢价指数K线数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>index/market/history/linear_swap_estimated_rate_kline</td>
<td>GET</td>
<td>获取预测资金费率的K线数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>linear-swap-ex/market/trade</td>
<td>GET</td>
<td>获取市场最近成交记录</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-ex/market/history/trade</td>
<td>GET</td>
<td>批量获取最近的交易记录</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_account_info</td>
<td>POST</td>
<td>获取用户的合约账户信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_position_info</td>
<td>POST</td>
<td>获取用户的合约持仓信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_available_level_rate</td>
<td>POST</td>
<td>查询用户可用杠杆倍数</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_sub_account_list</td>
<td>POST</td>
<td>查询母账户下所有子账户资产信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_sub_account_info</td>
<td>POST</td>
<td>查询母账户下的单个子账户资产信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_sub_position_info</td>
<td>POST</td>
<td>查询母账户下的单个子账户持仓信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_financial_record</td>
<td>POST</td>
<td>查询用户财务记录</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_order_limit</td>
<td>POST</td>
<td>获取用户的合约下单量限制</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_fee</td>
<td>POST</td>
<td>获取用户的合约手续费费率</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_transfer_limit</td>
<td>POST</td>
<td>获取用户的合约划转限制</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_position_limit</td>
<td>POST</td>
<td>获取用户的合约持仓量限制</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_account_position_info</td>
<td>POST</td>
<td>获取用户资产和持仓信息</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_master_sub_transfer</td>
<td>POST</td>
<td>母子账户划转</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_master_sub_transfer_record</td>
<td>POST</td>
<td>获取母账户下的所有母子账户划转记录</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_transfer_inner</td>
<td>POST</td>
<td>同账号不同保证金账户的划转</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>linear-swap-api/v1/swap_api_trading_status</td>
<td>GET</td>
<td>获取用户API指标禁用信息</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_order</td>
<td>POST</td>
<td>合约下单</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_batchorder</td>
<td>POST</td>
<td>合约批量下单</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_switch_lever_rate</td>
<td>POST</td>
<td>切换杠杆</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_cancel</td>
<td>POST</td>
<td>撤销合约订单</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_cancelall</td>
<td>POST</td>
<td>撤销全部合约单</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_order_info</td>
<td>POST</td>
<td>获取用户的合约订单信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_order_detail</td>
<td>POST</td>
<td>获取用户的合约订单明细信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_openorders</td>
<td>POST</td>
<td>获取用户的合约当前未成交委托</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_hisorders</td>
<td>POST</td>
<td>获取用户的合约历史委托</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_matchresults</td>
<td>POST</td>
<td>获取用户的合约历史成交记录</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_lightning_close_position</td>
<td>POST</td>
<td>合约闪电平仓下单</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_trigger_order</td>
<td>POST</td>
<td>合约计划委托下单</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_trigger_cancel</td>
<td>POST</td>
<td>合约计划委托撤单</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_trigger_cancelall</td>
<td>POST</td>
<td>合约计划委托全部撤单</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_trigger_openorders</td>
<td>POST</td>
<td>获取计划委托当前委托</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>linear-swap-api/v1/swap_trigger_hisorders</td>
<td>POST</td>
<td>获取计划委托历史委托</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>账户接口</td>
<td>https://api.huobi.pro/v2/account/transfer</td>
<td>POST</td>
<td>现货-USDT本位永续账户间进行资金的划转</td>
<td>是</td>
</tr>
</tbody></table>
<h2 id='8664ee712b'>访问地址</h2>
<!--
访问地址 | 适用站点 | 适用功能 | 适用交易对 |
------ | ---- | ---- | ------ |
https://api.hbdm.com| 火币合约|   API     | 火币合约的交易品种  |

### 备注

"https://api.hbdm.com"如果无法访问请使用："https://api.btcgateway.pro"。
-->
<h3 id='9852b06629'>备注：</h3>
<ul>
<li>USDT本位永续合约正在真币内测，您可以发送UID与服务器IP地址到dm_mm@huobi.com 申请内测。</li>
</ul>
<h2 id='c64cd15fdc'>签名认证</h2><h3 id='34addae335'>签名说明</h3>
<p>API 请求在通过 internet 传输的过程中极有可能被篡改，为了确保请求未被更改，除公共接口（基础信息，行情数据）外的私有接口均必须使用您的 API Key 做签名认证，以校验参数或参数值在传输途中是否发生了更改。</p>

<p>一个合法的请求由以下几部分组成：</p>

<ul>
<li><p>方法请求地址：即访问服务器地址 api.hbdm.com，比如 api.hbdm.com/linear-swap-api/v1/swap_order 。</p></li>
<li><p>API 访问密钥（AccessKeyId）：您申请的 API Key 中的 Access Key。</p></li>
<li><p>签名方法（SignatureMethod）：用户计算签名的基于哈希的协议，此处使用 HmacSHA256。</p></li>
<li><p>签名版本（SignatureVersion）：签名协议的版本，此处使用2。</p></li>
<li><p>时间戳（Timestamp）：您发出请求的时间 (UTC 时区) (UTC 时区) (UTC 时区) 。如：2017-05-11T16:22:06。在查询请求中包含此值有助于防止第三方截取您的请求。</p></li>
<li><p>必选和可选参数：每个方法都有一组用于定义 API 调用的必需参数和可选参数。可以在每个方法的说明中查看这些参数及其含义。 请一定注意：对于 GET 请求，每个方法自带的参数都需要进行签名运算； 对于 POST 请求，每个方法自带的参数不进行签名认证，即 POST 请求中需要进行签名运算的只有 AccessKeyId、SignatureMethod、SignatureVersion、Timestamp 四个参数，其它参数放在 body 中。</p></li>
<li><p>签名：签名计算得出的值，用于确保签名有效和未被篡改。</p></li>
</ul>
<h3 id='api-key'>创建 API Key</h3>
<p>您可以在 <a href='https://www.hbg.com/zh-cn/apikey/'>这里 </a> 创建 API Key。</p>

<p>API Key 包括以下两部分</p>

<ul>
<li><p><code>Access Key</code>  API 访问密钥</p></li>
<li><p><code>Secret Key</code>  签名认证加密所使用的密钥（仅申请时可见）</p></li>
</ul>

<aside class="notice">
创建 API Key 时可以选择绑定 IP 地址，未绑定 IP 地址的 API Key 有效期为90天。
</aside>

<aside class="notice">
API Key 具有包括交易、借贷和充提币等所有操作权限。
</aside>

<aside class="warning">
这两个密钥与账号安全紧密相关，无论何时都请勿向其它人透露。
</aside>
<h3 id='1fbac240b7'>签名步骤</h3>
<p>规范要计算签名的请求 因为使用 HMAC 进行签名计算时，使用不同内容计算得到的结果会完全不同。所以在进行签名计算前，请先对请求进行规范化处理。下面以查询某订单详情请求为例进行说明：</p>

<p>查询某订单详情</p>

<p><code>https://api.hbdm.com/linear-swap-api/v1/swap_order?</code></p>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx</code></p>

<p><code>&amp;SignatureMethod=HmacSHA256</code></p>

<p><code>&amp;SignatureVersion=2</code></p>

<p><code>&amp;Timestamp=2017-05-11T15:19:30</code></p>
<h4 id='1-get-post-n'>1. 请求方法（GET 或 POST），后面添加换行符 “\n”</h4>
<p><code>GET\n</code></p>
<h4 id='2-n'>2. 添加小写的访问地址，后面添加换行符 “\n”</h4>
<p><code>
api.hbdm.com\n
</code></p>
<h4 id='3-n'>3. 访问方法的路径，后面添加换行符 “\n”</h4>
<p><code>
/linear-swap-api/v1/swap_order \n
</code></p>
<h4 id='4-ascii'>4. 按照ASCII码的顺序对参数名进行排序。例如，下面是请求参数的原始顺序，进行过编码后</h4>
<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx</code></p>

<p><code>SignatureMethod=HmacSHA256</code></p>

<p><code>SignatureVersion=2</code></p>

<p><code>Timestamp=2017-05-11T15%3A19%3A30</code></p>

<aside class="notice">
使用 UTF-8 编码，且进行了 URI 编码，十六进制字符必须大写，如 “:” 会被编码为 “%3A” ，空格被编码为 “%20”。
</aside>

<aside class="notice">
时间戳（Timestamp）需要以YYYY-MM-DDThh:mm:ss格式添加并且进行 URI 编码。
</aside>
<h4 id='5'>5. 经过排序之后</h4>
<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx</code></p>

<p><code>SignatureMethod=HmacSHA256</code></p>

<p><code>SignatureVersion=2</code></p>

<p><code>Timestamp=2017-05-11T15%3A19%3A30</code></p>
<h4 id='6-amp'>6. 按照以上顺序，将各参数使用字符 “&amp;” 连接</h4>
<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2017-05-11T15%3A19%3A30</code></p>
<h4 id='7'>7. 组成最终的要进行签名计算的字符串如下</h4>
<p><code>POST\n</code></p>

<p><code>api.hbdm.com\n</code></p>

<p><code>/linear-swap-api/v1/swap_order\n</code></p>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2017-05-11T15%3A19%3A30</code></p>
<h4 id='8-secret-key'>8. 用上一步里生成的 “请求字符串” 和你的密钥 (Secret Key) 生成一个数字签名</h4>
<p><code>4F65x5A2bLyMWVQj3Aqp+B4w+ivaA7n5Oi2SuYtCJ9o=</code></p>

<ol>
<li><p>将上一步得到的请求字符串和 API 私钥作为两个参数，调用HmacSHA256哈希函数来获得哈希值。</p></li>
<li><p>将此哈希值用base-64编码，得到的值作为此次接口调用的数字签名。</p></li>
</ol>
<h4 id='9'>9. 将生成的数字签名加入到请求的路径参数里</h4>
<p>最终，发送到服务器的 API 请求应该为</p>

<p><code>https://api.hbdm.com/linear-swap-api/v1/swap_order?AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2017-05-11T15%3A19%3A30&amp;Signature=4F65x5A2bLyMWVQj3Aqp%2BB4w%2BivaA7n5Oi2SuYtCJ9o%3D</code></p>

<ol>
<li><p>把所有必须的认证参数添加到接口调用的路径参数里</p></li>
<li><p>把数字签名在URL编码后加入到路径参数里，参数名为“Signature”。</p></li>
</ol>
<h2 id='4977e9e52a'>访问次数限制</h2>
<ul>
<li><p>交割合约和永续合约分开限频</p></li>
<li><p>公开行情接口和用户私有接口都有访问次数限制</p></li>
<li><p>普通用户，需要密钥的私有接口，每个UID 3秒最多30次请求(该UID的所有币种的合约的所有私有接口共享3秒30次的额度)</p></li>
<li><p>其他非行情类的公开接口，比如获取指数信息，限价信息，交割结算、平台持仓信息等，所有用户都是每个IP3秒最多120次请求（所有该IP的非行情类的公开接口请求共享3秒120次的额度）</p></li>
<li><p>行情类的公开接口，比如：获取K线数据、获取聚合行情、市场行情、获取行情深度数据、获取溢价指数K线、获取实时预测资金费率k线，获取基差数据、获取市场最近成交记录：</p>

<p>（1） restful接口：同一个IP,  1秒最多800个请求 </p>

<p>（2）  websocket：req请求，同一时刻最多请求50次；sub请求，无限制，服务器主动推送数据</p></li>
<li><p>WebSocket私有订单成交推送接口(需要API KEY验签)</p>

<p>一个UID最多同时建立30个私有订单成交推送WS链接。该用户在一个品种(包含该品种的所有周期的合约)上，仅需要维持一个订单推送WS链接即可。</p>

<p>注意: 订单推送WS的限频，跟用户RESTFUL私有接口的限频是分开的，相互不影响。</p></li>
<li><p>所有API接口返回数据中增加限频信息</p></li>
</ul>

<p>将在api接口response中的header返回以下字段：</p>

<p>ratelimit-limit： 单轮请求数上限，单位：次数</p>

<p>ratelimit-interval：请求数重置的时间间隔，单位：毫秒</p>

<p>ratelimit-remaining：本轮剩余可用请求数，单位：次数</p>

<p>ratelimit-reset：请求数上限重置时间，单位：毫秒</p>

<p>如果触发了撤单率限制，您的api接口response返回header中会包括字段：</p>

<p>recovery-time：禁用的恢复时间戳，单位为毫秒，表示禁用结束时间，可恢复访问的时间戳；</p>

<p>如果不在禁用期间，header不返回recovery-time字段；</p>

<ul>
<li>一个uid对应计划委托下单接口请求1秒5次、一个uid对应计划委托撤单接口请求1秒5次、一个uid对应计划委托全部撤单接口请求1秒5次。</li>
</ul>
<h2 id='9aaa7f5ea2'>撤单率限制【暂未启用】</h2>
<ul>
<li><p>当用户通过API在10分钟内特定订单价格类型的委托单总笔数大于或等于3000笔时，系统会自动计算撤单率，如果撤单率大于99%，则禁止该用户通过API特定价格类型进行下单5分钟；</p></li>
<li><p>当API用户在1小时的总禁用次数达到3次时，则禁止用户通过API特定价格类型进行下单30分钟，待解禁恢复访问后，总禁用次数重置，且之前周期统计过的次数不计入新周期的总禁用次数;</p></li>
<li><p>其他客户端挂撤单以及API撤单将不受影响，每次禁用会以短信和邮件形式通知；</p></li>
<li><p>被禁用的API下单类型仅包括：限价委托、Post_only、FOK、IOC四种订单价格类型，其他下单方式如lightning（闪电平仓下单），opponent(对手价下单)，optimal_5（最优5档），optimal_10(最优10档下单），optimal_20（最优20档下单），opponent_ioc（对手价-IOC下单），lightning_ioc（闪电平仓-IOC下单），optimal_5_ioc（最优5档-IOC下单），optimal_10_ioc（最优10档-IOC下单），optimal_20_ioc（最优20档-IOC下单），opponent_fok（对手价-FOK下单），lightning_fok（闪电平仓-FOK下单），optimal_5_fok（最优5档-FOK下单），optimal_10_fok（最优10档-FOK下单），optimal_20_fok（最优20档-FOK下单）等在禁用期间将仍然可用；</p></li>
<li><p>HTTP返回的header信息：</p>

<ul>
<li>禁用期间下单类型为被禁用的四种类型时，接口返回信息header中会包括字段：&quot;recovery-time：禁用的恢复时间戳&quot;，单位为毫秒，表示禁用结束时间，可恢复访问的时间戳；如果不在禁用期间，header中不返回该字段；</li>
</ul></li>
<li><p>委托单总笔数与撤单率的计算是基于UID，母子UID是分开单独计算的。计算撤单率的时间周期为10分钟/次；</p></li>
<li><p>指标说明：</p>

<ul>
<li>撤单率 = 无效撤单总笔数 / 委托单总笔数（订单来源均为API）。</li>
<li>委托单总笔数=同时满足以下所有条件的委托单总笔数：

<ul>
<li>订单来源为API并且订单类型为报单（order Type = 1）；</li>
<li>订单价格类型为限价委托、Post_only、FOK和IOC四种订单价格类型；</li>
<li>委托单的下单时间在【当周期开始时间-3秒，当周期结束时间】内的委托单总笔数；</li>
</ul></li>
<li>无效撤单总笔数=同时满足以下所有条件的委托单总笔数：

<ul>
<li>订单来源为API并且订单类型为报单（order Type = 1）；</li>
<li>订单价格类型为限价委托、Post_only、FOK和IOC四种订单价格类型；</li>
<li>订单状态为已撤销（status = 7）；</li>
<li>订单成交数量为0；</li>
<li>撤单时间与下单时间间隔小于等于3秒；</li>
<li>委托单的撤单时间在当周期内的委托单。</li>
</ul></li>
</ul></li>
<li><p>为了保证API系统的稳定性和交易性能，请您在高峰期时段尽量降低API订单的撤单量和撤单率，以避免频繁触发API的限制机制，以下是降低撤单率的建议：</p>

<ul>
<li>1．订单的价格更靠近盘口；</li>
<li>2、适当延长下单与撤单的时间间隔；</li>
<li>3、适当增加单笔订单金额，减少下单次数；</li>
<li>4、尽量增加订单成交率:

<ul>
<li>1) 优先使用对手价、最优5档、最优10档、最优20档、闪电平仓、opponent_ioc（对手价-IOC下单）、lightning_ioc（闪电平仓-IOC下单）、optimal_5_ioc（最优5档-IOC下单）、optimal_10_ioc（最优10档-IOC下单）、optimal_20_ioc（最优20档-IOC下单）、opponent_fok（对手价-FOK下单）、lightning_fok（闪电平仓-FOK下单）、optimal_5_fok（最优5档-FOK下单）、optimal_10_fok（最优10档-FOK下单）、optimal_20_fok（最优20档-FOK下单）等成交概率大的委托方式下单；</li>
<li>2) IOC订单、FOK订单、Post_only订单尽量摆在买卖第一档的位置上；</li>
</ul></li>
<li>5、适当延长策略轮询时间。</li>
</ul></li>
</ul>

<!-- 
## 获取当前系统状态

此接口返回当前的系统状态，包含当前系统维护计划和故障进度等。

如您需要通过邮件、短信、Webhook、RSS/Atom feed接收以上信息，可点击<a href='https://status-swap.huobigroup.com/'>这里</a>进入页面进行订阅。当前订阅依赖Google服务，订阅前请确保您可正常访问Google的服务，否则将订阅失败。

```shell
curl "https://status-swap.huobigroup.com/api/v2/summary.json"
```

### HTTP 请求

- GET `https://status-swap.huobigroup.com/api/v2/summary.json`

### 请求参数

此接口不接受任何参数。

> Response:

```json
{
  "page": {  // 合约页面基本信息
    "id": "p0qjfl24znv5",  // 页面id
    "name": "Huobi",  // 页面名称
    "url": "https://status-swap.huobigroup.com", // 页面地址
    "time_zone": "Etc/UTC", // 时区
    "updated_at": "2020-02-07T10:25:14.717Z" // 页面最新一次更新时间
  },
  "components": [  // 系统组件及状态
    {
      "id": "h028tnzw1n5l",  // 组件id
      "name": "Deposit", // 组件名称
      "status": "operational", // 组件状态
      "created_at": "2019-12-05T02:07:12.372Z",  // 组件创建时间
      "updated_at": "2020-02-07T09:27:15.563Z", // 组件更新时间
      "position": 1,
      "description": null,
      "showcase": true,
      "group_id": "gtd0nyr3pf0k",  
      "page_id": "p0qjfl24znv5", 
      "group": false,
      "only_show_if_degraded": false
    }
  ],
  "incidents": [ // 系统故障事件及状态
        {
            "id": "rclfxz2g21ly",  // 事件id
            "name": "Market data is delayed",  // 事件名称
            "status": "investigating",  // 事件状态
            "created_at": "2020-02-11T03:15:01.913Z",  // 事件创建时间
            "updated_at": "2020-02-11T03:15:02.003Z",   // 事件更新时间
            "monitoring_at": null,
            "resolved_at": null,
            "impact": "minor",  // 事件影响程度
            "shortlink": "http://stspg.io/pkvbwp8jppf9",
            "started_at": "2020-02-11T03:15:01.906Z",
            "page_id": "p0qjfl24znv5",
            "incident_updates": [ 
                {
                    "id": "dwfsk5ttyvtb",  
                    "status": "investigating",  
                    "body": "Market data is delayed",  
                    "incident_id": "rclfxz2g21ly",   
                    "created_at": "2020-02-11T03:15:02.000Z",    
                    "updated_at": "2020-02-11T03:15:02.000Z",   
                    "display_at": "2020-02-11T03:15:02.000Z",    
                    "affected_components": [  
                        {
                            "code": "nctwm9tghxh6",  
                            "name": "Market data",  
                            "old_status": "operational",  
                            "new_status": "degraded_performance"   
                        }
                    ],
                    "deliver_notifications": true,
                    "custom_tweet": null,
                    "tweet_id": null
                }
            ],
            "components": [  
                {
                    "id": "nctwm9tghxh6",    
                    "name": "Market data", 
                    "status": "degraded_performance", 
                    "created_at": "2020-01-13T09:34:48.284Z", 
                    "updated_at": "2020-02-11T03:15:01.951Z", 
                    "position": 8,
                    "description": null,
                    "showcase": false,
                    "group_id": null,
                    "page_id": "p0qjfl24znv5",
                    "group": false,
                    "only_show_if_degraded": false
                }
            ]
        }
    ],
      "scheduled_maintenances": [  // 系统计划维护事件及状态
        {
            "id": "k7g299zl765l", // 事件id
            "name": "Schedule maintenance", // 事件名称
            "status": "scheduled", // 事件状态
            "created_at": "2020-02-11T03:16:31.481Z",  // 事件创建时间
            "updated_at": "2020-02-11T03:16:31.530Z",  // 事件更新时间
            "monitoring_at": null,
            "resolved_at": null,
            "impact": "maintenance", // 事件影响
            "shortlink": "http://stspg.io/md4t4ym7nytd",
            "started_at": "2020-02-11T03:16:31.474Z",
            "page_id": "p0qjfl24znv5",
            "incident_updates": [  
                {
                    "id": "8whgr3rlbld8",  
                    "status": "scheduled", 
                    "body": "We will be undergoing scheduled maintenance during this time.", 
                    "incident_id": "k7g299zl765l", 
                    "created_at": "2020-02-11T03:16:31.527Z",  
                    "updated_at": "2020-02-11T03:16:31.527Z",  
                    "display_at": "2020-02-11T03:16:31.527Z",  
                    "affected_components": [  
                        {
                            "code": "h028tnzw1n5l",  
                            "name": "Deposit And Withdraw - Deposit",  
                            "old_status": "operational",  
                            "new_status": "operational"  
                        }
                    ],
                    "deliver_notifications": true,
                    "custom_tweet": null,
                    "tweet_id": null
                }
            ],
            "components": [ 
                {
                    "id": "h028tnzw1n5l",  
                    "name": "Deposit", 
                    "status": "operational", 
                    "created_at": "2019-12-05T02:07:12.372Z",  
                    "updated_at": "2020-02-10T12:34:52.970Z",  
                    "position": 1,
                    "description": null,
                    "showcase": false,
                    "group_id": "gtd0nyr3pf0k",
                    "page_id": "p0qjfl24znv5",
                    "group": false,
                    "only_show_if_degraded": false
                }
            ],
            "scheduled_for": "2020-02-15T00:00:00.000Z",  // 计划维护开始时间
            "scheduled_until": "2020-02-15T01:00:00.000Z"  // 计划维护结束时间
        }
    ],
    "status": {  // 系统整体状态
        "indicator": "minor",   // 系统状态指标
        "description": "Partially Degraded Service"  // 系统状态描述
    }
}
```

### 返回字段

|字段名称 | 数据类型 | 描述
|--------- |  -----------|  -----------
|page    |                     | status page页面基本信息
|{id        |  string                   | 页面id
|name      |      string                | 页面名称
|url     |    string                  | 页面地址
|time_zone     |     string                 | 时区
|updated_at}     |    string                  | 页面更新时间
|components  |                      | 系统组件及状态
|[{id        |  string                    | 组件id
|name        |    string                  | 组件名称，如Order submission、Order cancellation、Deposit等
|status        |    string                  | 组件状态，取值范围为：operational，degraded_performance，partial_outage，major_outage，under maintenance
|created_at        |    string                  | 组件创建时间
|updated_at        |    string                  | 组件更新时间
|.......}]        |                     | 其他字段明细，请参考返回示例
|incidents  |           | 系统故障事件及状态，若当前无故障则返回为空
|[{id        |       string               | 事件id
|name        |      string                | 事件名称
|status        |     string                 | 事件状态，取值范围为：investigating，identified，monitoring，resolved
|created_at        |       string               | 事件创建时间
|updated_at        |      string                | 事件更新时间
|.......}]        |                     | 其他字段明细，请参考返回示例
|scheduled_maintenances|                     | 系统计划维护事件及状态，若当前无计划维护则返回为空
|[{id        |     string                 | 事件id
|name        |      string                | 事件名称
|status        |       string               | 事件状态，取值范围为：scheduled，in progress，verifying，completed
|created_at        |     string                 | 事件创建时间
|updated_at        |     string                 | 事件更新时间
|scheduled_for       |      string                | 计划维护开始时间
|scheduled_until       |     string                 | 计划维护结束时间
|.......}]        |                     | 其他字段明细，请参考返回示例
|status   |                       | 系统整体状态
|{indicator        |    string                  | 系统状态指标，取值范围为：none，minor，major，critical，maintenance
|description}     |      string                | 系统状态描述，取值范围为：All Systems Operational，Minor Service Outager，Partial System Outage，Partially Degraded Service，Service Under Maintenance

-->
<h2 id='bef5ec9210'>查询系统是否可用</h2>
<p>通过接口<code>https://api.hbdm.com/heartbeat/</code>，可以查询系统是否可用,其中heartbeat为1是可用，为0不可用。
“swap_heartbeat”，表示永续的系统状态， 系统的预估恢复时间；
“swap_estimated_recovery_time”，表示永续的系统的预估恢复时间,单位：毫秒；注意后面必须带上&quot;/&quot;。</p>

<blockquote>
<p>返回数据</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"heartbeat"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"estimated_recovery_time"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"swap_heartbeat"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"swap_estimated_recovery_time"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"option_heartbeat"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"option_estimated_recovery_time"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1557714418033</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='67361e2961'>获取当前系统时间戳</h2>
<p>get <code>https://api.hbdm.com/api/v1/timestamp</code></p>
<h3 id='1f9ac54b15'>请求参数</h3>
<p>无</p>

<blockquote>
<p>返回数据</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1578124684692</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>当前系统时间戳</td>
<td></td>
</tr>
</tbody></table>
<h4 id='e0361480e3'>备注</h4>
<ul>
<li>可以用于校对系统时间。</li>
</ul>
<h2 id='f39e8d8281'>错误码详情</h2>
<table><thead>
<tr>
<th>错误代码</th>
<th>错误描述</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>无效身份</td>
</tr>
<tr>
<td>1000</td>
<td>系统异常</td>
</tr>
<tr>
<td>1001</td>
<td>系统未准备就绪</td>
</tr>
<tr>
<td>1002</td>
<td>查询异常</td>
</tr>
<tr>
<td>1003</td>
<td>操作redis异常</td>
</tr>
<tr>
<td>1004</td>
<td>系统繁忙，请稍后重试</td>
</tr>
<tr>
<td>1010</td>
<td>用户不存在</td>
</tr>
<tr>
<td>1011</td>
<td>用户会话不存在</td>
</tr>
<tr>
<td>1012</td>
<td>用户账户不存在</td>
</tr>
<tr>
<td>1013</td>
<td>合约品种不存在</td>
</tr>
<tr>
<td>1014</td>
<td>合约不存在</td>
</tr>
<tr>
<td>1015</td>
<td>指数价格不存在</td>
</tr>
<tr>
<td>1016</td>
<td>对手价不存在</td>
</tr>
<tr>
<td>1017</td>
<td>查询订单不存在</td>
</tr>
<tr>
<td>1018</td>
<td>主账号不存在</td>
</tr>
<tr>
<td>1019</td>
<td>主账号不在开通子账号白名单里</td>
</tr>
<tr>
<td>1020</td>
<td>您的子账号数量已超出限制，请联系客服</td>
</tr>
<tr>
<td>1021</td>
<td>开户失败。您的主账号尚未开通合约交易权限，请前往开通</td>
</tr>
<tr>
<td>1030</td>
<td>请求参数输入错误</td>
</tr>
<tr>
<td>1031</td>
<td>非法的报单来源</td>
</tr>
<tr>
<td>1032</td>
<td>访问次数超出限制</td>
</tr>
<tr>
<td>1033</td>
<td>合约周期字段值错误</td>
</tr>
<tr>
<td>1034</td>
<td>报单价格类型字段值错误</td>
</tr>
<tr>
<td>1035</td>
<td>报单方向字段值错误</td>
</tr>
<tr>
<td>1036</td>
<td>报单开平字段值错误</td>
</tr>
<tr>
<td>1037</td>
<td>杠杆倍数不符合要求</td>
</tr>
<tr>
<td>1038</td>
<td>报单价格不符合最小变动价</td>
</tr>
<tr>
<td>1039</td>
<td>报单价格超出限制</td>
</tr>
<tr>
<td>1040</td>
<td>报单数量不合法</td>
</tr>
<tr>
<td>1041</td>
<td>报单数量超出限制</td>
</tr>
<tr>
<td>1042</td>
<td>超出多头持仓限制</td>
</tr>
<tr>
<td>1043</td>
<td>超出多头持仓限制</td>
</tr>
<tr>
<td>1044</td>
<td>超出平台持仓限制</td>
</tr>
<tr>
<td>1045</td>
<td>杠杆倍数与所持有仓位的杠杆不符合</td>
</tr>
<tr>
<td>1046</td>
<td>持仓未初始化</td>
</tr>
<tr>
<td>1047</td>
<td>可用保证金不足</td>
</tr>
<tr>
<td>1048</td>
<td>持仓量不足</td>
</tr>
<tr>
<td>1049</td>
<td>市价单不支持</td>
</tr>
<tr>
<td>1050</td>
<td>客户报单号重复</td>
</tr>
<tr>
<td>1051</td>
<td>没有可撤订单</td>
</tr>
<tr>
<td>1052</td>
<td>超出批量数目限制</td>
</tr>
<tr>
<td>1053</td>
<td>无法获取合约的最新价格区间</td>
</tr>
<tr>
<td>1054</td>
<td>无法获取合约的最新价</td>
</tr>
<tr>
<td>1055</td>
<td>平仓时权益不足</td>
</tr>
<tr>
<td>1056</td>
<td>结算中无法下单和撤单</td>
</tr>
<tr>
<td>1057</td>
<td>暂停交易中无法下单和撤单</td>
</tr>
<tr>
<td>1058</td>
<td>停牌中无法下单和撤单</td>
</tr>
<tr>
<td>1059</td>
<td>交割中无法下单和撤单</td>
</tr>
<tr>
<td>1060</td>
<td>此合约在非交易状态中，无法下单和撤单</td>
</tr>
<tr>
<td>1061</td>
<td>订单不存在，无法撤单</td>
</tr>
<tr>
<td>1062</td>
<td>撤单中，无法重复撤单</td>
</tr>
<tr>
<td>1063</td>
<td>订单已成交，无法撤单</td>
</tr>
<tr>
<td>1064</td>
<td>报单主键冲突</td>
</tr>
<tr>
<td>1065</td>
<td>客户报单号不是整数</td>
</tr>
<tr>
<td>1066</td>
<td>字段不能为空</td>
</tr>
<tr>
<td>1067</td>
<td>字段不合法</td>
</tr>
<tr>
<td>1068</td>
<td>导出错误</td>
</tr>
<tr>
<td>1069</td>
<td>报单价格不合法</td>
</tr>
<tr>
<td>1070</td>
<td>数据为空，无法导出</td>
</tr>
<tr>
<td>1071</td>
<td>订单已撤，无法撤单</td>
</tr>
<tr>
<td>1072</td>
<td>卖出价必须低于指定USD</td>
</tr>
<tr>
<td>1073</td>
<td>仓位异常，请联系客服</td>
</tr>
<tr>
<td>1074</td>
<td>下单异常，请联系客服</td>
</tr>
<tr>
<td>1075</td>
<td>您的下单价格成交后可能会导致强平，请修改下单价格</td>
</tr>
<tr>
<td>1076</td>
<td>盘口无数据，请稍后再试</td>
</tr>
<tr>
<td>1077</td>
<td>交割结算中，当前品种资金查询失败</td>
</tr>
<tr>
<td>1078</td>
<td>交割结算中，部分品种资金查询失败</td>
</tr>
<tr>
<td>1079</td>
<td>交割結算中，当前品种持仓查询失败</td>
</tr>
<tr>
<td>1080</td>
<td>交割結算中，部分品种持仓查询失败</td>
</tr>
<tr>
<td>1081</td>
<td>未完成的计划委托单超限</td>
</tr>
<tr>
<td>1082</td>
<td>触发类型参数错误</td>
</tr>
<tr>
<td>1083</td>
<td>您的仓位已进入强平接管，暂时无法下单</td>
</tr>
<tr>
<td>1084</td>
<td>您的合约API挂单接口被禁用，请于(GMT+8) 后再试</td>
</tr>
<tr>
<td>1085</td>
<td>计划委托下单失败，请修改价格再次下单或联系客服</td>
</tr>
<tr>
<td>1086</td>
<td>{0}合约暂时限制{1}端开仓，请联系客服</td>
</tr>
<tr>
<td>1087</td>
<td>{0}合约暂时限制{1}端平仓，请联系客服</td>
</tr>
<tr>
<td>1088</td>
<td>{0}合约暂时限制{1}端撤单，请联系客服</td>
</tr>
<tr>
<td>1089</td>
<td>{0}合约暂时限制划转，请联系客服</td>
</tr>
<tr>
<td>1090</td>
<td>保证金率小于0, 无法下单</td>
</tr>
<tr>
<td>1091</td>
<td>账户权益小于0, 无法下单</td>
</tr>
<tr>
<td>1092</td>
<td>闪电平仓取盘口第{0}档的价格, 下单后将导致账户权益小于0 , 请改为手动输入价格或使用对手价下单</td>
</tr>
<tr>
<td>1093</td>
<td>闪电平仓取盘口第{0}档的价格, 下单后将导致担保资产率小于0 , 请改为手动输入价格或使用对手价下单</td>
</tr>
<tr>
<td>1094</td>
<td>倍数不能为空, 请切换倍数或联系客服</td>
</tr>
<tr>
<td>1095</td>
<td>合约处于非交易状态, 暂时无法切换倍数</td>
</tr>
<tr>
<td>1100</td>
<td>用户没有开仓权限</td>
</tr>
<tr>
<td>1101</td>
<td>用户没有平仓权限</td>
</tr>
<tr>
<td>1102</td>
<td>用户没有入金权限</td>
</tr>
<tr>
<td>1103</td>
<td>用户没有出金权限</td>
</tr>
<tr>
<td>1104</td>
<td>合约交易权限,当前禁止交易</td>
</tr>
<tr>
<td>1105</td>
<td>合约交易权限,当前只能平仓</td>
</tr>
<tr>
<td>1106</td>
<td>合约状态异常，无法出入金</td>
</tr>
<tr>
<td>1108</td>
<td>服务异常，请稍后再试</td>
</tr>
<tr>
<td>1109</td>
<td>子账号没有开仓权限，请联系客服</td>
</tr>
<tr>
<td>1110</td>
<td>子账号没有平仓权限，请联系客服</td>
</tr>
<tr>
<td>1111</td>
<td>子账号没有入金权限，请联系客服</td>
</tr>
<tr>
<td>1112</td>
<td>子账号没有出金权限，请联系客服</td>
</tr>
<tr>
<td>1113</td>
<td>子账号没有交易权限，请登录主账号授权</td>
</tr>
<tr>
<td>1114</td>
<td>子账号没有划转权限，请登录主账号授权</td>
</tr>
<tr>
<td>1115</td>
<td>您没有访问此子账号的权限</td>
</tr>
<tr>
<td>1200</td>
<td>登录错误</td>
</tr>
<tr>
<td>1220</td>
<td>用户尚未开通合约交易</td>
</tr>
<tr>
<td>1221</td>
<td>开户资金不足</td>
</tr>
<tr>
<td>1222</td>
<td>开户天数不足</td>
</tr>
<tr>
<td>1223</td>
<td>开户VIP等级不足</td>
</tr>
<tr>
<td>1224</td>
<td>开户国家限制</td>
</tr>
<tr>
<td>1225</td>
<td>开户不成功</td>
</tr>
<tr>
<td>1226</td>
<td>合约已开户，无法重复开户</td>
</tr>
<tr>
<td>1227</td>
<td>火币合约暂不支持子账户，请返回退出子账户，切换主账户登录</td>
</tr>
<tr>
<td>1228</td>
<td>未开户，无法同意协议</td>
</tr>
<tr>
<td>1229</td>
<td>重复同意协议</td>
</tr>
<tr>
<td>1230</td>
<td>您尚未做风险认证</td>
</tr>
<tr>
<td>1231</td>
<td>您尚未做身份认证</td>
</tr>
<tr>
<td>1232</td>
<td>您上传的图片格式/大小不符合要求，请重新上传</td>
</tr>
<tr>
<td>1233</td>
<td>您尚未开通高倍数协议 (使用高倍数请先使用主账号登录web或APP端同意高倍数协议)</td>
</tr>
<tr>
<td>1234</td>
<td>{0}合约开仓委托订单数量不得超过{1}</td>
</tr>
<tr>
<td>1235</td>
<td>{0}合约平仓委托订单数量不得超过{1}</td>
</tr>
<tr>
<td>1250</td>
<td>无法获取HT_token</td>
</tr>
<tr>
<td>1251</td>
<td>BTC折合资产无法获取</td>
</tr>
<tr>
<td>1252</td>
<td>现货资产无法获取</td>
</tr>
<tr>
<td>1253</td>
<td>签名验证错误</td>
</tr>
<tr>
<td>1300</td>
<td>划转失败</td>
</tr>
<tr>
<td>1301</td>
<td>可划转余额不足</td>
</tr>
<tr>
<td>1302</td>
<td>系统划转错误</td>
</tr>
<tr>
<td>1303</td>
<td>单笔转出的数量不能低于{0}{1}</td>
</tr>
<tr>
<td>1304</td>
<td>单笔转出的数量不能高于{0}{1}</td>
</tr>
<tr>
<td>1305</td>
<td>单笔转入的数量不能低于{0}{1}</td>
</tr>
<tr>
<td>1306</td>
<td>单笔转入的数量不能高于{0}{1}</td>
</tr>
<tr>
<td>1307</td>
<td>您当日累计转出量超过{0}{1}, 暂无法转出</td>
</tr>
<tr>
<td>1308</td>
<td>您当日累计转入量超过{0}{1}, 暂无法转入</td>
</tr>
<tr>
<td>1309</td>
<td>您当日累计净转出量超过{0}{1}, 暂无法转出</td>
</tr>
<tr>
<td>1310</td>
<td>您当日累计净转入量超过{0}{1}, 暂无法转入</td>
</tr>
<tr>
<td>1311</td>
<td>超过平台当日累计最大转出量限制, 暂无法转出</td>
</tr>
<tr>
<td>1312</td>
<td>超过平台当日累计最大转入量限制, 暂无法转入</td>
</tr>
<tr>
<td>1313</td>
<td>超过平台当日累计最大净转出量限制, 暂无法转出</td>
</tr>
<tr>
<td>1314</td>
<td>超过平台当日累计最大净转入量限制, 暂无法转入</td>
</tr>
<tr>
<td>1315</td>
<td>划转类型错误</td>
</tr>
<tr>
<td>1316</td>
<td>划转冻结失败</td>
</tr>
<tr>
<td>1317</td>
<td>划转解冻失败</td>
</tr>
<tr>
<td>1318</td>
<td>划转确认失败</td>
</tr>
<tr>
<td>1319</td>
<td>查询可划转金额失败</td>
</tr>
<tr>
<td>1320</td>
<td>此合约在非交易状态中, 无法进行系统划转</td>
</tr>
<tr>
<td>1321</td>
<td>划转失败, 请稍后重试或联系客服</td>
</tr>
<tr>
<td>1322</td>
<td>划转金额必须大于0</td>
</tr>
<tr>
<td>1323</td>
<td>服务异常, 划转失败, 请稍后再试</td>
</tr>
<tr>
<td>1325</td>
<td>设置交易单位失败</td>
</tr>
<tr>
<td>1326</td>
<td>获取交易单位失败</td>
</tr>
<tr>
<td>1327</td>
<td>无划转权限, 划转失败, 请联系客服</td>
</tr>
<tr>
<td>1328</td>
<td>无划转权限, 划转失败, 请联系客服</td>
</tr>
<tr>
<td>1329</td>
<td>无划转权限, 划转失败, 请联系客服</td>
</tr>
<tr>
<td>1330</td>
<td>无划转权限, 划转失败, 请联系客服</td>
</tr>
<tr>
<td>1331</td>
<td>超出划转精度限制(8位), 请修改后操作</td>
</tr>
<tr>
<td>1332</td>
<td>永续合约不存在</td>
</tr>
<tr>
<td>1333</td>
<td>开通跟单吃单协议失败</td>
</tr>
<tr>
<td>1334</td>
<td>查询跟单吃单协议失败</td>
</tr>
<tr>
<td>1335</td>
<td>查询跟单吃单二次确认设置失败</td>
</tr>
<tr>
<td>1336</td>
<td>更新跟单吃单二次确认设置失败</td>
</tr>
<tr>
<td>1337</td>
<td>查询跟单吃单设置失败</td>
</tr>
<tr>
<td>1338</td>
<td>更新跟单吃单设置失败</td>
</tr>
<tr>
<td>1339</td>
<td>昵称含有不合法词汇, 请修改</td>
</tr>
<tr>
<td>1340</td>
<td>昵称已被使用, 请修改</td>
</tr>
<tr>
<td>1341</td>
<td>报名阶段已结束</td>
</tr>
<tr>
<td>1342</td>
<td>子账号无法设置昵称</td>
</tr>
<tr>
<td>12001</td>
<td>无效的提交时间</td>
</tr>
<tr>
<td>12002</td>
<td>错误的签名版本</td>
</tr>
<tr>
<td>12003</td>
<td>错误的签名方法</td>
</tr>
<tr>
<td>12004</td>
<td>密钥已经过期</td>
</tr>
<tr>
<td>12005</td>
<td>ip地址错误</td>
</tr>
<tr>
<td>12006</td>
<td>提交时间不能为空</td>
</tr>
<tr>
<td>12007</td>
<td>公钥错误</td>
</tr>
<tr>
<td>12008</td>
<td>校验失败</td>
</tr>
<tr>
<td>12009</td>
<td>用户被锁定或不存在</td>
</tr>
</tbody></table>
<h2 id='api'>API 最佳实践</h2><h3 id='1-linear-swap-api-v1-swap_hisorders'>1、linear-swap-api/v1/swap_hisorders 历史委托查询接口：</h3>
<ul>
<li><p>为了保证时效性和降低延迟，强烈建议用户使用linear-swap-api/v1/swap_order_info获取用户订单信息接口来查询订单信息，获取合约订单信息接口从内存里面查询，无延迟，接口响应速度更快。</p></li>
<li><p>如果用户一定要使用linear-swap-api/v1/swap_hisorders 历史委托查询接口，请尽量输入更多的查询条件，trade_type（推荐传0查询全部）、type、status、create_date尽量都输入，并且查询日期create_date参数输入尽量小的整数，最好只查询一天的数据；</p></li>
</ul>
<h3 id='2-linear-swap-api-v1-swap_matchresults'>2、linear-swap-api/v1/swap_matchresults 获取历史成交记录接口：</h3>
<ul>
<li>为了提升查询的性能和响应速度，查询条件 trade_type（推荐传0查询全部） 、contract_code 、create_date 尽量都输入，并且create_date输入尽量小的整数，最好只查询一天的数据；</li>
</ul>
<h3 id='3-linear-swap-api-v1-swap_financial_record'>3、linear-swap-api/v1/swap_financial_record 查询用户财务记录接口：</h3>
<ul>
<li>为了提升查询的性能和响应速度，查询条件type（推荐不填查询全部）、create_date，尽量都输入，并且查询日期create_date参数输入尽量小的整数，最好只查询一天的数据；</li>
</ul>
<h3 id='4-linear-swap-api-v1-swap_order_detail'>4、linear-swap-api/v1/swap_order_detail 获取订单明细接口：</h3>
<ul>
<li><p>查询条件created_at使用13位long类型时间戳（包含毫秒时间），如果输入准确的时间戳，查询性能将会提升。</p></li>
<li><p>例如:&quot;2019/10/18 10:26:22&quot;转换为时间戳为：1571365582123。也可以直接从swap_order下单接口返回报文中的ts中获取时间戳作为参数查询接口linear-swap-api/v1/swap_order_detail获取订单明细，同时created_at禁止传0；；</p></li>
</ul>
<h3 id='5-market-depth-websocket'>5、订阅Market Depth 数据的WebSocket：</h3>
<ul>
<li><p>获得150档深度数据，使用step0, step1, step2, step3, step4, step5, step14, step15；</p></li>
<li><p>获得20档深度数据，使用 step6, step7, step8, step9, step10, step11, step12, step13；</p></li>
<li><p>由于每100ms推送一次150档全量数据，数据量比较大，如果客户端网络带宽不足或者处理不及时，webSocket断开可能比较频繁，强烈建议使用step6, step7, step8, step9, step10, step11, step12, step13 取20档数据。比如订阅20档数据</p></li>
</ul>

<p><code>{</code></p>

<p><code>&quot;sub&quot;: &quot;market.BTC-USDT.depth.step6&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id5&quot;</code></p>

<p><code>}</code></p>

<ul>
<li>我们也推荐使用增量订阅市场深度数据，增量深度数据有20档不合并数据和150档不合并数据，首次或者重连都推送全量数据，之后会推送增量数据，每30MS检查一次，如果有更新则推送，没有更新则不推送。需要维护好本地的深度数据。</li>
</ul>

<p><code>{</code></p>

<p><code>&quot;sub&quot;: &quot;market.BTC-USDT.depth.size_20.high_freq&quot;,</code></p>

<p><code>&quot;data_type&quot;:&quot;incremental&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id1&quot;</code></p>

<p><code>}</code></p>
<h3 id='6-linear-swap-api-v1-swap_order-linear-swap-api-v1-swap_batchorder'>6、linear-swap-api/v1/swap_order合约下单和linear-swap-api/v1/swap_batchorder合约批量下单接口：</h3>
<ul>
<li>推荐传参数client_order_id（用户级别唯一），主要防止下单和批量下单接口由于网络或其它原因接口超时或者没有返回，可以根据client_order_id通过请求接口linear-swap-api/v1/swap_order_info来快速获取订单是否下单正常或者快速获取订单信息。</li>
</ul>
<h2 id='2cff7db524'>代码实例</h2>
<ul>
<li><p><a href='https://github.com/hbdmapi/huobi_usdt_swap_Java'>Java</a></p></li>
<li><p><a href='https://github.com/hbdmapi/hbdm_Python'>Python</a></p></li>
<li><p><a href='https://github.com/hbdmapi/huobi_futures_Postman'>Postman</a></p></li>
</ul>

<!--

- <a href='https://github.com/hbdmapi/hbdm_swap_Rust'>Rust</a>

- <a href='https://github.com/hbdmapi/huobi_swap_Cpp'>C++</a>
-->
<h3 id='usdt'>备注：USDT本位永续代码使用方式与币本位永续和交割合约类似，可以参考币本位永续和交割合约。</h3><h1 id='0adb1147b3'>常见问题</h1><h2 id='59ce3c8353'>接入验签相关</h2><h3 id='q1-usdt-api-key'>Q1: USDT本位永续合约API Key和现货是否同一个？</h3>
<p>USDT本位永续合约API Key和现货API Key是同一个，两个是一样的。您可以在 <a href='https://www.hbg.com/zh-cn/apikey/'>这里 </a> 创建 API Key。</p>
<h3 id='q2'>Q2: 为什么经常出现断线、超时的错误？</h3>
<p>如果是在大陆网络环境去请求API接口，网络连接很不稳定，很容易出现超时。建议使用AWS东京C区服务器进行访问。</p>

<p>国内网络可以使用api.btcgateway.pro或者api.hbdm.vn来进行调试,如果仍然无法请求，请在国外服务器上进行运行。</p>
<h3 id='q3-websocket'>Q3: 为什么WebSocket总是断开连接？</h3>
<p>由于网络环境不同，很容易导致websocket断开连接(websocket: close 1006 (abnormal closure))，目前最佳实践是建议您将服务器放置在AWS东京C区，并且使用api.hbdm.vn域名；同时需要做好断连重连操作；行情心跳与订单心跳均需要按照《Websocket心跳以及鉴权接口》的行情心跳与订单心跳回复不同格式的Pong消息：<a href='https://docs.huobigroup.com/docs/usdt_swap/v1/cn/#472585d15d'>这里</a>。以上操作可以有效减少断连情况。</p>
<h3 id='q4-api-hbdm-com-api-hbdm-vn'>Q4: api.hbdm.com与api.hbdm.vn有什么区别？</h3>
<p>api.hbdm.vn域名使用的是AWS的CDN服务，理论上AWS服务器用户使用此域名会更快更稳定；api.hbdm.com域名使用的是Cloudflare的CDN服务。</p>
<h3 id='q5-colocation'>Q5: 市商享受的colocation服务是指什么以及使用注意事项？</h3>
<p>colo相当于是 创建一个VPC节点，直接连了火币合约的内网，会减少客户服务器和火币合约服务器的通讯时间（绕过CDN）。</p>

<p>火币交割合约 的Colocation和 永续合约 是共用的，即连接永续合约Colocation的域名与交割合约是一样的；</p>

<p>但请您注意：colo需要使用：api.hbdm.com 进行签名（鉴权），避免返回403:Verification failure [校验失败] 的错误。</p>
<h3 id='q6-403-verification-failure'>Q6: 为什么签名认证总返回失败(403:Verification failure [校验失败]) ？</h3>
<p>USDT本位永续签名过程和币本位永续、交割类似，除了参考以下注意事项外，请参照反向永续或者交割的demo代码来验证签名是否成功，demo代码验证通过后，再去核对您自己的签名代码。币本位永续的demo代码在 <a href='https://docs.huobigroup.com/docs/coin_margined_swap/v1/cn/#2cff7db524'>  这里 </a>   查看。交割的demo代码在<a href='https://docs.huobigroup.com/docs/dm/v1/cn/#2cff7db524'>  这里</a>  查看。期权的demo代码在<a href='https://docs.huobigroup.com/docs/option/v1/cn/#2cff7db524'>  这里</a>  查看。USDT本位永续的demo代码在 <a href='https://docs.huobigroup.com/docs/usdt_swap/v1/cn/#2cff7db524'>  这里 </a>   查看。</p>

<ol>
<li><p>检查 API Key 是否有效，是否复制正确</p></li>
<li><p>是否有绑定 IP 白名单</p></li>
<li><p>检查时间戳是否是 UTC 时间</p></li>
<li><p>检查参数是否按字母排序</p></li>
<li><p>检查编码，使用 UTF-8 编码</p></li>
<li><p>检查签名是否有 base64 编码</p></li>
<li><p>对于 GET 请求，每个方法自带的参数都需要进行签名运算</p></li>
<li><p>对于 POST 请求，每个方法自带的参数不进行签名认证</p></li>
<li><p>检查签名结果是否有进行 URI 编码，十六进制字符必须大写，如 “:” 会被编码为 “%3A”  ，空 格被编码为 “%20”</p></li>
<li><p>websocket构建签名与restful类似，websocket构建json请求的数据不需要URL编码。</p></li>
</ol>
<h3 id='q7-ip-uid'>Q7: 公开行情根据ip限速，需要私钥的根据uid限速是吗？</h3>
<p>是的。私有的根据UID来限速，不是根据API—KEY限速，母子帐号是分开分别限速，互不影响。</p>
<h3 id='q8'>Q8: 第三方框架集成火币合约是否有推荐？</h3>
<p>目前已经有异步量化框架开源，集成了火币交割合约与永续合约： <a href=https://github.com/hbdmapi/hbdm_Python> 异步量化框架地址 </a>，有使用反馈或者问题请在github issue区进行提问。</p>
<h2 id='ws'>行情及WS推送相关</h2><h3 id='q1-orderbook-orderbook'>Q1: 全量行情orderbook订阅和增量orderbook订阅是多长时间推送？</h3>
<p>全量orderbook深度推送(market.$contract_code.depth.$type)是100MS检查一次，有更新则推送，至少1秒会推送1次。增量orderbook深度推送(market.$contract_code.depth.size_${size}.high_freq)是30MS检查一次，有更新则推送，没有更新则不推送。</p>
<h3 id='q2-2'>Q2: 市场公开逐笔成交是多长时间推送？</h3>
<p>市场公开逐笔成交market.$contract_code.trade.detail是有成交则推送。</p>
<h3 id='q3-k'>Q3: 有没有历史K线数据或者历史的公开市场逐笔成交数据？</h3>
<p>历史K线数据可以通过API接口linear-swap-ex/market/history/kline去获取，只填写from,to参数，不写size参数，最多只能获取连续两年的数据。</p>

<p>历史的公开市场逐笔成交数据目前没有，您可以通过订阅market.$contract_code.trade.detail来本地进行存储。</p>
<h3 id='q4-k-macd'>Q4: 如何获取K线上的MACD等技术指标？</h3>
<p>API没有获取K线上的MACD等技术指标接口，您可以参考TradingView等网站来计算。</p>
<h3 id='q5-timestamp'>Q5: 文档里的时间戳timestamp定义是什么？</h3>
<p>文档里的时间戳是指格林威治时间1970年01月01日00时00分00秒(北京时间1970年01月01日08时00分00秒)起至现在的总秒数或者总毫秒数。</p>
<h3 id='q6-type-150-20'>Q6: 获取行情深度数据中请求参数type的 150档，20档具体是指？</h3>
<p>订阅行情深度market.$contract_code.depth.$type,150档指当前盘口的买卖盘的订单，将价格顺序切分为150个小区间，统计每个小区间的挂单数；20档指当前盘口的买卖盘的订单，将价格顺序切分为20个小区间，统计每个小区间的挂单数。</p>
<h3 id='q7-type'>Q7: 获取行情深度数据中请求参数type的“合并深度”是什么意思？</h3>
<p>订阅行情深度(market.$contract_code.depth.$type)：</p>

<p>step1和step7 按5位小数合并，买盘向下、卖盘向上
step2和step8 按4位小数合并，买盘向下、卖盘向上
step3和step9 按3位小数合并，买盘向下、卖盘向上
step4和step10 按2位小数合并，买盘向下、卖盘向上
step5和step11 按1位小数合并，买盘向下、卖盘向上
step12和step14 按个位数合并，买盘向下、卖盘向上
step13和step15 按十位数合并，买盘向下、卖盘向上
step4 合并为0.01 例如，下买单价格 100.123， 100.245，
盘口就显示下单价格 100.12， 100.24
如果是卖单 盘口显示价格： 100.13， 100.25</p>

<p>（“向下”和“向上”即是否四舍五入，如买盘向下则不进一位，卖盘向上则进一位）
step0到step5,step14,step15是150档；
step6到step13是20档；
step6是不合并小数；
结合以上举例说明：</p>

<p>假设当前价格1.123456  6位小数点，如果我单选step1，如果价格是买盘，显示价格是 1.12345（不四舍五入），如果是卖盘，就是1.12346（四舍五入）；</p>

<p>同理，如果我选择step7也是同样的，如果价格是买盘，显示价格是 1.12345（不四舍五入），如果是卖盘，就是1.12346（四舍五入）；</p>

<p>假设是TRX 选择20档 那么step6是不合并，如果当前价格是1.123456 6位小数点，选择step6，不论买卖盘口还是1.123456 6位小数；</p>

<p>假设是TRX 选择20档 那么step11按1位小数合并，假设当前价格1.123456 6位小数点，如果我单选step11，如果价格是买盘，显示价格是 1.1（不四舍五入），如果是卖盘，就是1.1（四舍五入)。</p>
<h3 id='q8-websocket'>Q8: websocket的持仓变动频道，每次是返回全量数据还是增量变化的数据？</h3>
<p>订阅持仓推送：&quot;topic&quot;: &quot;positions.BTC-USDT&quot;，推送的是最新的持仓（包括持仓量、可平仓数量、冻结数量），没有变化就不推送。</p>
<h3 id='q9-websocket'>Q9: websocket持仓订阅频道，未实现盈亏有变化会推送吗?</h3>
<p>订阅持仓推送：&quot;topic&quot;: &quot;positions.BTC-USDT&quot;, 如果持仓有变动，包括开仓/平仓/交割等，会推送仓位变化，若只是单纯的未实现盈亏不会推送。</p>
<h3 id='q10-ws-market-detail-trade-detail'>Q10: WS中的market detail 和 trade detail 具体什么区别和含义?</h3>
<p>Market Detail(market.$contract_code.detail)  是市场聚合行情，0.5s检测1次，有成交则推送。包含了此时间段的开盘价、收盘价、最高价、最低价和成交数量；Trade Detail(market.$contract_code.trade.detail) 是有成交更新就会推送，包括成交价格、成交数量和成交方向等数据。</p>
<h3 id='q11-market-depth-ts'>Q11: 订阅market depth增量数据返回参数的两个ts分别是什么？</h3>
<p>增量depth订阅：market.$contract_code.depth.size_${size}.high_freq，外层ts是到行情服务器开始转发这笔数据的系统时间戳，里层ts是orderbook的检测时间点。</p>
<h3 id='q12-ws-market-depth-market-depth-market-depth'>Q12: 通过ws订阅market depth数据和market depth增量数据的区别是什么？订阅market depth增量数据多久推送一次？</h3>
<p>market.$contract_code.depth.$type是全量数据，market.$contract_code.depth.size_${size}.high_freq是增量数据，全量数据是100ms检查一次，至少1秒推送1次；增量30MS检查1次，无更新不推送。</p>

<p>目前market depth增量数据market.$contract_code.depth.size_${size}.high_freq是30MS检测一次，不是随机检测，30m检查一次更新，但是有三台机同时进行，每两次的时间间隔最小可能是0，但30ms内最多推送6次，最大时间间隔无上限，30ms内最少推送次数为0。</p>
<h3 id='q13-market-contract_code-depth-size_-size-high_freq'>Q13: 增量数据market.$contract_code.depth.size_${size}.high_freq推送如何维护本地数据？</h3>
<p>增量数据首次会推送全量数据，之后推送的为增量数据。</p>

<p>(1) 把增量的价格与上一个全量做比较，相同的价格把挂单量替换；</p>

<p>(2) 没有相同价格的添加到本地全量数据；</p>

<p>(3) 如果某个价格挂单没有了，会推送类似[8100, 0]这样的数据，把本地相同价格的移除；</p>

<p>(4) 同一个websocket连接，增量数据version是递增的；如果 version不递增，您需要重新订阅并重新维护本地全量数据；</p>
<h2 id='d9c242c3fe'>交易相关</h2><h3 id='q1-usdt'>Q1: USDT本位永续的资金费率结算周期是什么？资金费率结算时通过哪些接口可以查询状态？</h3>
<p>温馨提示您，USDT本位永续合约每8小时为一期，每期结束时进行结算。即00:00-08:00为一期，结算时间为08:00；08:00-16:00为一期，结算时间为16:00；16:00-次日00:00为一期，结算时间为00:00。以上时间均为新加坡时间。</p>

<p>(1)在结算时不能下单和撤单，若用户在结算时下单或撤单会返回错误码&quot;1056&quot;，提示结算中无法下单和撤单。
建议您在结算时间点每隔几秒钟轮询获取合约信息接口：linear-swap-api/v1/swap_contract_info，当返回报文中contract_status返回状态码为5、6、7、8中的任意一个数字时表示在结算中，当contract_status返回状态码为1时是表示结算完成可以正常下单和撤单。</p>

<p>(2)在结算时查询资金和持仓会返回错误码，返回的错误码及错误码表示的含义如下：</p>

<ol>
<li>   错误码&quot;1077&quot;表示&quot;交割结算中，当前品种资金查询失败&quot;；</li>
<li>   错误码&quot;1078&quot;表示&quot;交割结算中，部分品种资金查询失败&quot;；</li>
<li>   错误码&quot;1079&quot;表示&quot;交割结算中，当前品种持仓查询失败&quot;；</li>
<li>   错误码&quot;1080&quot;表示&quot;交割结算中，部分品种持仓查询失败&quot;；</li>
</ol>

<p>建议您从返回的报文里读取状态码，如果状态码出现上述四种类型，请不要用这个返回的数据。</p>
<h3 id='q2-api-1004'>Q2: API返回1004错误码是什么原因？</h3>
<p>由于近段时间平台系统订单堆积情况比较严重，我们的技术人员正在努力解决和优化中，如果近段时间出现系统繁忙的情况或者出现以下提示：</p>

<p>{“status”:”error”,”err_code”:1004,”err_msg”:”System busy. Please try again later.”,”ts”: }</p>

<p>请您耐心等待，在此过程中请不要进行重复的下单和撤单，以避免造成重复下单以及对系统性能造成额外的压力，在此期间，建议您可以通过Web和APP端进行下单和撤单。</p>
<h3 id='q3-order-id-match-id-n-trade-taker-n-maker-n-trade-trade'>Q3: 同样的order id 和 match id，可以有N多个Trade，比如，用户是一笔大的taker单，吃掉了N个maker的订单，那么，就会对应有N个trade，如何标识这些不同的trade？</h3>
<p>订单明细信息接口linear-swap-api/v1/swap_order_detail返回的的字段id是全局唯一的交易标识。如果一个maker单，分多次match掉的话是每次推送只推match的部分，撮合一笔推送一笔。</p>
<h3 id='q4-usdt'>Q4: USDT本位永续合约交易全链路延时多少？</h3>
<p>目前USDT本位永续合约全链路(从开始下单到订单的订单状态可以查询)正常情况下大约在30-50MS左右,来行情时延迟会比平时大，可能会在秒级别。</p>
<h3 id='q5-api-connection-reset-max-retris-timed-out'>Q5: API接口返回Connection Reset 或者 Max retris 或者 Timed out 是什么原因？</h3>
<p>出现连接重置或者网络超时，一般是网络不稳定导致，可以尝试将服务器放置在AWS东京C区，并使用api.hbdm.vn来尝试，可以有效减少网络超时等错误。</p>
<h3 id='q6-api-order_id'>Q6: API接口下单时出错没有order_id如何来查询订单状态？</h3>
<p>如果由于网络原因等API下单超时或者失败，没有返回order_id，可以通过下单时加入client_order_id自定义订单号来进行查询订单状态。</p>
<h3 id='q7-ws'>Q7: WS 订阅私有账户，订单或者仓位一段时间，连接断开如何办？</h3>
<p>WS订阅私有账户，订单，仓位时，请注意也要定时维护好心跳，与市场行情的心跳格式不同，详情请参照菜单《Websocket心跳以及鉴权接口》里的订单推送心跳。同时如果连接断开，请做好重连逻辑。</p>
<h3 id='q8-1-2-3'>Q8: 合约资产接口中的“获取合约订单信息”的订单状态1和2都是准备提交有什么不同？3已提交又是什么？</h3>
<p>1是准备提交，2是定序的提交，是内部流程的提交。可以认为已经被系统接受了，在系统的流程中。3是已委托到市场。</p>
<h3 id='q9-api-btc'>Q9: API有获取总资产BTC的接口吗？</h3>
<p>没有的。</p>
<h3 id='q10-api'>Q10: API撤单成功为什么查询订单却是成交？</h3>
<p>请注意撤单成功或者下单成功只代表您撤单命令或者下单命令的成功，并不代表订单已经撤销，您可以通过该接口linear-swap-api/v1/swap_order_info去查询订单状态。</p>
<h3 id='q11-api-10'>Q11: API查询订单状态为10是否一定失败？</h3>
<p>通过linear-swap-api/v1/swap_order_info查询订单状态，如果status为10，表示订单失败，不会成功。</p>
<h3 id='q12-api'>Q12: API一般从撤单开始到撤单成功需要多久？</h3>
<p>撤单命令执行成功一般几十ms，实际撤单状态要查询订单状态linear-swap-api/v1/swap_order_info获取。</p>
<h2 id='a231eed8c5'>错误码相关</h2><h3 id='q1-1030'>Q1: 1030错误是什么原因？</h3>
<p>如果您出现比如查询订单或者下单时遇到：{&quot;status&quot;:&quot;error&quot;,&quot;err_code&quot;:1030,&quot;err_msg&quot;:&quot;Abnormal service. Please try again later.&quot;,&quot;ts&quot;:1588093883199}类似错误，说明您的输入的请求参数值或者类型不对，请打印出您的request请求body及完整URL参数，并请一一核对对应API文档接口参数。常见的比如volume张数必须是整数。</p>
<h3 id='q2-1048'>Q2: 1048错误是什么原因？</h3>
<p>如果您出现{&#39;index&#39;: 1, &#39;err_code&#39;: 1048, &#39;err_msg&#39;: &#39;Insufficient close amount available. &#39;}类似错误，说明此时可平仓量不足，您平仓时需查询目前已有的仓位张数再去平仓。</p>
<h3 id='q3-api-1032'>Q3: API返回1032错误码是什么原因？</h3>
<p>1032代表您的访问次数超出限制，永续合约和交割合约是分开限制频率，请查看合约交易接入说明中的访问次数限制，并且可以在api接口response中的header打印当前的频率限制次数来看是否超出限制频率。建议加大请求间隔延时避免超出限制频率。</p>
<h2 id='9065b72c3b'>如何更有效的解决问题</h2>
<p>您在反馈API错误时，需要附上您的请求URL，请求request的原始的完整body以及完整请求URL参数，服务器的回复response的原始完整log。如果是websocket订阅，需要您提供订阅的地址，订阅的主题，server推送的原始完整log。</p>

<p>如果是订单相关问题，在使用API订单查询接口linear-swap-api/v1/swap_order_info请求后保留返回的完整log，并提供您的UID以及订单号。</p>
<h1 id='0737c93bf7'>合约市场行情接口</h1><h2 id='6b15dcb6a3'>获取合约信息</h2><h3 id='30fd4ed55b'>示例</h3>
<ul>
<li>GET <code>linear-swap-api/v1/swap_contract_info</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_contract_info?contract_code=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-2'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码，不填查询所有合约</td>
<td>BTC-USDT</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contract_size"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
          </span><span class="s2">"price_tick"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
          </span><span class="s2">"settlement_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1490759594752"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"create_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20200102"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contract_status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
         </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">158797866555</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-2'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>contract_size</td>
<td>true</td>
<td>decimal</td>
<td>合约面值，即1张合约对应多少标的币种（如BTC-USDT合约则面值单位就是BTC）</td>
<td>0.1，0.01...</td>
</tr>
<tr>
<td>price_tick</td>
<td>true</td>
<td>decimal</td>
<td>合约价格最小变动精度</td>
<td>0.001, 0.01...</td>
</tr>
<tr>
<td>settlement_date</td>
<td>true</td>
<td>string</td>
<td>合约下次结算时间</td>
<td>时间戳，如&quot;1490759594752&quot;</td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>string</td>
<td>合约上市日期</td>
<td>如&quot;20180706&quot;</td>
</tr>
<tr>
<td>contract_status</td>
<td>true</td>
<td>int</td>
<td>合约状态</td>
<td>合约状态: 0:已下市、1:上市、2:待上市、3:停牌，4:待开盘、5:结算中、6:交割中、7:结算完成、8:交割完成</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='1028ab8392'>获取合约指数信息</h2><h3 id='30fd4ed55b-2'>示例</h3>
<ul>
<li>GET <code>linear-swap-api/v1/swap_index</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_index?contract_code=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-3'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>指数代码</td>
<td>&quot;BTC-USDT&quot;,&quot;ETH-USDT&quot;...</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
           </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"index_price"</span><span class="p">:</span><span class="mf">9203.0817</span><span class="p">,</span><span class="w">
           </span><span class="s2">"index_ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-3'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>指数代码</td>
<td>&quot;BTC-USDT&quot;,&quot;ETH-USDT&quot;...</td>
</tr>
<tr>
<td>index_price</td>
<td>true</td>
<td>decimal</td>
<td>指数价格</td>
<td></td>
</tr>
<tr>
<td>index_ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='025c787500'>获取合约最高限价和最低限价</h2><h3 id='30fd4ed55b-3'>示例</h3>
<ul>
<li>GET <code>linear-swap-api/v1/swap_price_limit</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_price_limit?contract_code=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-4'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> 
       </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"high_limit"</span><span class="p">:</span><span class="mf">9443.07</span><span class="p">,</span><span class="w">
          </span><span class="s2">"low_limit"</span><span class="p">:</span><span class="mf">8417.09</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
         </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-4'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot; ...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>如 &quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>high_limit</td>
<td>true</td>
<td>decimal</td>
<td>最高买价</td>
<td></td>
</tr>
<tr>
<td>low_limit</td>
<td>true</td>
<td>decimal</td>
<td>最低卖价</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='e30aaa2765'>获取当前可用合约总持仓量</h2><h3 id='30fd4ed55b-4'>示例</h3>
<ul>
<li>GET <code>linear-swap-api/v1/swap_open_interest</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_open_interest?contract_code=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-5'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;,不填查询所有合约</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w">
        </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"volume"</span><span class="p">:</span><span class="mi">12300</span><span class="p">,</span><span class="w">
          </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="mi">1230000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
         </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-5'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;, &quot;ETH&quot; ...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>持仓量(币)</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>持仓量(张)</td>
<td></td>
</tr>
<tr>
<td>value</td>
<td>true</td>
<td>decimal</td>
<td>总持仓额（单位为合约的计价币种，如USDT）</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h4 id='e0361480e3-2'>备注</h4>
<ul>
<li>持仓量（币）= 持仓量（张）*合约面值</li>
<li>总持仓额 = 持仓量（张）* 合约面值 * 最新价 </li>
</ul>
<h2 id='1716b8327e'>获取行情深度数据</h2><h3 id='30fd4ed55b-5'>示例</h3>
<ul>
<li>GET <code>linear-swap-ex/market/depth</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-ex/market/depth?contract_code=BTC-USDT&amp;type=step0"</span>

</code></pre><h3 id='1f9ac54b15-6'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true <img width=250/></td>
<td>string <img width=250/></td>
<td>合约代码  <img width=250/></td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>string</td>
<td>深度类型</td>
<td>(150档数据)  step0, step1, step2, step3, step4, step5, step14, step15（合并深度1-5,14-15）；step0时，不合并深度, (20档数据)  step6, step7, step8, step9, step10, step11, step12, step13（合并深度7-13）；step6时，不合并深度</td>
</tr>
</tbody></table>

<blockquote>
<p>tick 说明:</p>
</blockquote>
<pre class="highlight plaintext"><code>    "tick": {
      "id": 消息id.
      "ts": 消息生成时间，单位：毫秒.
      "bids": 买盘,[price(挂单价), vol(此价格挂单张数)], //按price降序.
      "asks": 卖盘,[price(挂单价), vol(此价格挂单张数)]  //按price升序.
      "ch": 数据所属的 channel,
      "mrid": 订单ID,
      "ts": 时间戳,
      "version": 版本
    }
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.depth.step0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="mi">6500</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="mi">6700</span><span class="p">,</span><span class="w"> </span><span class="mi">900</span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="mi">4000</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="mi">1234</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.depth.step0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585818737</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mrid"</span><span class="p">:</span><span class="w"> </span><span class="mi">72403</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585818737715</span><span class="p">,</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585818737</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585818738815</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-6'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>asks</td>
<td>true</td>
<td>array</td>
<td>卖盘,[price(挂单价), vol(此价格挂单张数)], 按price升序</td>
<td></td>
</tr>
<tr>
<td>bids</td>
<td>true</td>
<td>array</td>
<td>买盘,[price(挂单价), vol(此价格挂单张数)], 按price降序</td>
<td></td>
</tr>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>消息id</td>
<td></td>
</tr>
<tr>
<td>mrid</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>消息生成时间，单位：毫秒.</td>
<td></td>
</tr>
<tr>
<td>version</td>
<td>true</td>
<td>long</td>
<td>版本</td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-3'>备注</h3>
<ul>
<li><p>合并深度仅改变显示方式，不改变实际成交价格。</p></li>
<li><p>step1至step5, step14, step15是进行了深度合并后的150档深度数据，step7至step13是进行了深度合并后的20档深度数据，对应精度如下：</p></li>
</ul>

<table><thead>
<tr>
<th>Depth 类型</th>
<th>精度</th>
</tr>
</thead><tbody>
<tr>
<td>step1、step7</td>
<td>0.00001</td>
</tr>
<tr>
<td>step2、step8</td>
<td>0.0001</td>
</tr>
<tr>
<td>step3、step9</td>
<td>0.001</td>
</tr>
<tr>
<td>step4、step10</td>
<td>0.01</td>
</tr>
<tr>
<td>step5、step11</td>
<td>0.1</td>
</tr>
<tr>
<td>step14、step12</td>
<td>1</td>
</tr>
<tr>
<td>step15、step13</td>
<td>10</td>
</tr>
</tbody></table>
<h2 id='k'>获取K线数据</h2><h3 id='30fd4ed55b-6'>示例</h3>
<ul>
<li>GET <code>linear-swap-ex/market/history/kline</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-ex/market/history/kline?contract_code=BTC-USDT&amp;period=1day&amp;from=1587052800&amp;to=1591286400"</span>

</code></pre><h3 id='1f9ac54b15-7'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线类型</td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day,1week,1mon</td>
</tr>
<tr>
<td>size</td>
<td>false</td>
<td>int</td>
<td>获取数量，默认150</td>
<td>[1,2000]</td>
</tr>
<tr>
<td>from</td>
<td>false</td>
<td>int</td>
<td>开始时间戳 10位 单位S</td>
<td></td>
</tr>
<tr>
<td>to</td>
<td>false</td>
<td>int</td>
<td>结束时间戳 10位 单位S</td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-4'>备注</h3>
<ul>
<li>1、size与from&amp;to 必填其一，若全不填则返回空数据。</li>
<li>2、如果填写from，也要填写to。最多可获取连续两年的数据。</li>
<li>3、如果size、from、to 均填写，会忽略from、to参数。</li>
</ul>

<blockquote>
<p>Data说明：</p>
</blockquote>
<pre class="highlight plaintext"><code>
"data": [
  {
    "id": K线id,
    "vol": 成交量(张)，买卖双边成交量之和,
    "count": 成交笔数,
    "open": 开盘价,
    "close": 收盘价,当K线为最晚的一根时，是最新成交价
    "low": 最低价,
    "high": 最高价,
    "amount": 成交量(币), 即 sum(每一笔成交量(张)*单张合约面值/该笔成交价)
   }
]

</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.kline.1min"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="mi">2446</span><span class="p">,</span><span class="w">
          </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2446</span><span class="p">,</span><span class="w">
          </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529898120</span><span class="p">,</span><span class="w">
          </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">48.92</span><span class="p">,</span><span class="w">
          </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">489200</span><span class="w">
         </span><span class="p">}</span><span class="w">
       </span><span class="p">],</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529908345313</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-7'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>K线ID,也就是K线时间戳，K线起始时间</td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>decimal</td>
<td>成交量(张)，买卖双边成交量之和</td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>decimal</td>
<td>成交笔数</td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>decimal</td>
<td>开盘价</td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>decimal</td>
<td>收盘价,当K线为最晚的一根时，是最新成交价</td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>decimal</td>
<td>最低价</td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>decimal</td>
<td>最高价</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>成交量(币), 即 (成交量(张)*单张合约面值)</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交额，即 sum（每一笔成交张数<em>合约面值</em>成交价格）</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='c0732fad25'>获取聚合行情</h2><h3 id='30fd4ed55b-7'>示例</h3>
<ul>
<li>GET <code>linear-swap-ex/market/detail/merged</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-ex/market/detail/merged?contract_code=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-8'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
</tbody></table>

<blockquote>
<p>tick说明:</p>
</blockquote>
<pre class="highlight plaintext"><code>
    "tick": {
      "id": K线id,
      "vol": 成交量（张），买卖双边成交量之和,
      "count": 成交笔数,
      "open": 开盘价,
      "close": 收盘价,当K线为最晚的一根时，是最新成交价
      "low": 最低价,
      "high": 最高价,
      "amount": 成交量(币), 即 sum(每一笔成交量(张)*单张合约面值/该笔成交价)
      "bid": [买1价,买1量(张)],
      "ask": [卖1价,卖1量(张)]
     }

</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.detail.merged"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"324.1457155582624058973835160063648331838"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ask"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">6500</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">],</span><span class="w">
    </span><span class="s2">"bid"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">4000</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w">
    </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6500"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6700"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585818738</span><span class="p">,</span><span class="w">
    </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6500"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6641.0192"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585818739007</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15254"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15254012"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585818739007</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-8'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$contract_code.detail.merged</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>K线ID,也就是K线时间戳</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>string</td>
<td>成交量(币), 即 (成交量(张)*单张合约面值)</td>
<td></td>
</tr>
<tr>
<td>ask</td>
<td>true</td>
<td>array</td>
<td>[卖1价,卖1量(张)]</td>
<td></td>
</tr>
<tr>
<td>bid</td>
<td>true</td>
<td>array</td>
<td>[买1价,买1量(张)]</td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>string</td>
<td>开盘价</td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>string</td>
<td>收盘价,当K线为最晚的一根时，是最新成交价</td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>decimal</td>
<td>成交笔数</td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>string</td>
<td>最高价</td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>string</td>
<td>最低价</td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>string</td>
<td>成交量（张），买卖双边成交量之和</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>string</td>
<td>成交额，即 sum（每一笔成交张数<em>合约面值</em>成交价格）</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='a690ab6851'>获取市场最近成交记录</h2><h3 id='30fd4ed55b-8'>示例</h3>
<ul>
<li>GET <code>linear-swap-ex/market/trade</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-ex/market/trade?contract_code=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-9'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
</tbody></table>

<blockquote>
<p>Tick说明：</p>
</blockquote>
<pre class="highlight plaintext"><code>    "tick": {
      "id": 消息id,
      "ts": 最新成交时间,
      "data": [
        {
       "id": 成交id,
        "price": 成交价钱,
         "amount": 成交量(张)，买卖双边成交量之和,
         "direction": 主动成交方向,
         "ts": 成交时间
        }
      ]
    }
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.trade.detail"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6010881529486944176</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529386945343</span><span class="w">
           </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529388202797</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529388202797</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529388202797</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-9'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$symbol.trade.detail</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td></td>
<td>&quot;ok&quot;,&quot;error&quot;</td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>消息id</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>最新成交时间</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>string</td>
<td>成交量(张)，买卖双边成交量之和</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>主动成交方向</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>成交id</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>string</td>
<td>成交价</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>成交时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>发送时间</td>
<td></td>
</tr>
</tbody></table>
<h2 id='8aa1eaa6bf'>批量获取最近的交易记录</h2><h3 id='30fd4ed55b-9'>示例</h3>
<ul>
<li>GET <code>linear-swap-ex/market/history/trade</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-ex/market/history/trade?contract_code=BTC-USDT&amp;size=100"</span>

</code></pre><h3 id='9b19f8c9cc'>请求参数：</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>int</td>
<td>获取交易记录的数量，默认1</td>
<td>[1, 2000]</td>
</tr>
</tbody></table>

<blockquote>
<p>data说明：</p>
</blockquote>
<pre class="highlight plaintext"><code>
    "data": {
      "id": 消息id,
      "ts": 最新成交时间,
      "data": [
        {
          "id": 成交id,
          "price": 成交价,
          "amount": 成交量(张)，买卖双边成交量之和,
          "direction": 主动成交方向,
          "ts": 成交时间
        }
      ]
    }

</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.trade.detail"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529388050915</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">601088</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529386945343</span><span class="p">,</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
             </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
             </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6010881529486944176</span><span class="p">,</span><span class="w">
             </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
             </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529386945343</span><span class="w">
             </span><span class="p">}</span><span class="w">
           </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
       </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-10'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$contract_code.trade.detail</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>成交量(张)，买卖双边成交量之和</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>主动成交方向</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>成交id</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>成交价格</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>成交时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>消息id</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>最新成交时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td></td>
<td>&quot;ok&quot;，&quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='5701be150c'>查询合约风险准备金余额和预估分摊比例</h2>
<ul>
<li>GET <code>linear-swap-api/v1/swap_risk_info</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_risk_info?contract_code=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-10'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;,不填返回所有合约</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"insurance_fund"</span><span class="p">:</span><span class="w"> </span><span class="mf">3806990.4615259197324414715719</span><span class="p">,</span><span class="w">
      </span><span class="s2">"estimated_clawback"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0023</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-11'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>estimated_clawback</td>
<td>true</td>
<td>decimal</td>
<td>预估分摊比例</td>
<td></td>
</tr>
<tr>
<td>insurance_fund</td>
<td>true</td>
<td>decimal</td>
<td>风险准备金余额</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='949887dfc5'>查询合约风险准备金余额历史数据</h2>
<ul>
<li>GET <code>linear-swap-api/v1/swap_insurance_fund</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_insurance_fund?contract_code=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-11'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>页码，不填默认第1页</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认100，不得多于100</td>
<td>100</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w">   </span><span class="p">{</span><span class="w">
     </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"insurance_fund"</span><span class="p">:</span><span class="w"> </span><span class="mf">3806.4615259197324414715719</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-12'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td>字典数据</td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>insurance_fund</td>
<td>true</td>
<td>decimal</td>
<td>风险准备金余额</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>数据时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='6f611742ac'>查询平台阶梯调整系数</h2>
<ul>
<li>GET <code>linear-swap-api/v1/swap_adjustfactor</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_adjustfactor?contract_code=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-12'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;... ,如果缺省，默认返回所有合约</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
          </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ladders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
           </span><span class="p">{</span><span class="w">
             </span><span class="s2">"ladder"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
             </span><span class="s2">"min_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
             </span><span class="s2">"max_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
             </span><span class="s2">"adjust_factor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
             </span><span class="s2">"ladder"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
             </span><span class="s2">"min_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
             </span><span class="s2">"max_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
             </span><span class="s2">"adjust_factor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="w">
           </span><span class="p">}</span><span class="w">
           </span><span class="p">]</span><span class="w">
       </span><span class="p">}</span><span class="w">
       </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-13'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>&lt;list&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>decimal</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>&lt;ladders&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>min_size</td>
<td>true</td>
<td>decimal</td>
<td>净持仓量的最小值</td>
<td></td>
</tr>
<tr>
<td>max_size</td>
<td>true</td>
<td>decimal</td>
<td>净持仓量的最大值</td>
<td></td>
</tr>
<tr>
<td>ladder</td>
<td>true</td>
<td>int</td>
<td>档位</td>
<td></td>
</tr>
<tr>
<td>adjust_factor</td>
<td>true</td>
<td>decimal</td>
<td>调整系数</td>
<td></td>
</tr>
<tr>
<td>&lt;/ladders&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='7846b9b81a'>平台持仓量的查询</h2><h3 id='69fffaf196'>实例</h3>
<ul>
<li>GET <code>linear-swap-api/v1/swap_his_open_interest</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_his_open_interest?contract_code=BTC-USDT&amp;period=60min&amp;amount_type=1"</span>

</code></pre><h3 id='1f9ac54b15-13'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>时间周期类型</td>
<td>1小时:&quot;60min&quot;，4小时:&quot;4hour&quot;，12小时:&quot;12hour&quot;，1天:&quot;1day&quot;</td>
</tr>
<tr>
<td>size</td>
<td>false</td>
<td>int</td>
<td>获取数量</td>
<td>默认为：48，取值范围 [1,200]</td>
</tr>
<tr>
<td>amount_type</td>
<td>true</td>
<td>int</td>
<td>计价单位</td>
<td>1:张，2:币</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> 
        </span><span class="p">{</span><span class="w">
         </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
             </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
             </span><span class="s2">"amount_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
             </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">900</span><span class="p">,</span><span class="w">
             </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529387842137</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-14'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td>字典数据</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>持仓量</td>
<td></td>
</tr>
<tr>
<td>amount_type</td>
<td>true</td>
<td>int</td>
<td>计价单位（表示持仓量的计价单位）</td>
<td>1:张，2:币</td>
</tr>
<tr>
<td>value</td>
<td>true</td>
<td>decimal</td>
<td>总持仓额（单位为合约的计价币种，如USDT）</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>统计时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id='4c95618614'>注意：</h4>
<ul>
<li>总持仓额 = 持仓量（张）* 合约面值 * 最新价 </li>
<li>tick字段：数组内的数据按照时间倒序排列；</li>
</ul>
<h2 id='06c58fa171'>精英账户多空持仓对比-账户数</h2>
<ul>
<li>GET <code>linear-swap-api/v1/swap_elite_account_ratio</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_elite_account_ratio?contract_code=BTC-USDT&amp;period=5min"</span>

</code></pre><h3 id='1f9ac54b15-14'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>时间周期类型</td>
<td>5min, 15min, 30min, 60min,4hour,1day</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
         </span><span class="s2">"buy_ratio"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2323</span><span class="p">,</span><span class="w">
         </span><span class="s2">"sell_ratio"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4645</span><span class="p">,</span><span class="w">
         </span><span class="s2">"locked_ratio"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4142</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
       </span><span class="p">}</span><span class="w">
       </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">],</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-15'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>&lt;list&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>buy_ratio</td>
<td>true</td>
<td>decimal</td>
<td>净多仓的账户比例</td>
<td></td>
</tr>
<tr>
<td>sell_ratio</td>
<td>true</td>
<td>decimal</td>
<td>净空仓的账户比例</td>
<td></td>
</tr>
<tr>
<td>locked_ratio</td>
<td>true</td>
<td>decimal</td>
<td>锁仓的账户比例</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>生成时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='fa6c2e10f7'>精英账户多空持仓对比-持仓量</h2>
<ul>
<li>GET <code>linear-swap-api/v1/swap_elite_position_ratio</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_elite_position_ratio?contract_code=BTC-USDT&amp;period=1day"</span>

</code></pre><h3 id='1f9ac54b15-15'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>周期</td>
<td>5min, 15min, 30min, 60min,4hour,1day</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
         </span><span class="s2">"buy_ratio"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2323</span><span class="p">,</span><span class="w">
         </span><span class="s2">"sell_ratio"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4645</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
       </span><span class="p">}</span><span class="w">
       </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">],</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-16'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>&lt;list&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>buy_ratio</td>
<td>true</td>
<td>decimal</td>
<td>多仓的总持仓量占比</td>
<td></td>
</tr>
<tr>
<td>sell_ratio</td>
<td>true</td>
<td>decimal</td>
<td>空仓的总持仓量占比</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>生成时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='3c4726638f'>查询系统状态</h2>
<ul>
<li>GET <code>linear-swap-api/v1/swap_api_state</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_api_state?contract_code=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-16'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;... ,如果缺省，默认返回所有合约</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:   </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cancel"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transfer_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transfer_out"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"master_transfer_sub"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sub_transfer_master"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"master_transfer_sub_inner_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"master_transfer_sub_inner_out"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sub_transfer_master_inner_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sub_transfer_master_inner_out"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transfer_inner_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transfer_inner_out"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">],</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-17'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>int</td>
<td>开仓下单权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>int</td>
<td>平仓下单权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>cancel</td>
<td>true</td>
<td>int</td>
<td>撤单权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>transfer_in</td>
<td>true</td>
<td>int</td>
<td>从币币转入的权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>transfer_out</td>
<td>true</td>
<td>int</td>
<td>转出至币币的权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>master_transfer_sub</td>
<td>true</td>
<td>int</td>
<td>从母账号划转到子账号的权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>sub_transfer_master</td>
<td>true</td>
<td>int</td>
<td>从子账号划转到母账号的权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>master_transfer_sub_inner_in</td>
<td>true</td>
<td>int</td>
<td>母账号划转到子账号的转入权限-跨账户：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>master_transfer_sub_inner_out</td>
<td>true</td>
<td>int</td>
<td>母账号划转到子账号的转出权限-跨账户：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>sub_transfer_master_inner_in</td>
<td>true</td>
<td>int</td>
<td>子账号划转到母账号的转入权限-跨账户：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>sub_transfer_master_inner_out</td>
<td>true</td>
<td>int</td>
<td>子账号划转到母账号的转出权限-跨账户：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>transfer_inner_in</td>
<td>true</td>
<td>int</td>
<td>同账号不同保证金账户划转的转入权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>transfer_inner_out</td>
<td>true</td>
<td>int</td>
<td>同账号不同保证金账户划转的转出权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='26670dda42'>说明</h3>
<ul>
<li><p>open，指交易权限中对应的“API-开仓-普通订单”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>close，指交易权限中对应的“API-平仓-普通订单”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>cancel，指交易权限中对应的“API-撤单-普通订单”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>transfer_in，指交易权限中对应的“其他-划转-从币币转入”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>transfer_out，指交易权限中对应的“其他-划转-转出至币币”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>master_transfer_sub，指交易权限中对应的“母账户划转到子账户”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>sub_transfer_master，指交易权限中对应的“子账户划转到母账户”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>master_transfer_sub_inner_in，指交易权限中对应的“母账户划转到子账户-跨账户-从其他账户转入”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>master_transfer_sub_inner_out，指交易权限中对应的“母账户划转到子账户-跨账户-转出到其他账户”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>sub_transfer_master_inner_in，指交易权限中对应的“子账户划转到母账户-跨账户-从其他账户转入”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>sub_transfer_master_inner_out，指交易权限中对应的“子账户划转到母账户-跨账户-转出到其他账户”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>transfer_inner_in，指交易权限中对应的“同账号不同保证金账户转账-从其他账户转入”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>transfer_inner_out，指交易权限中对应的“同账号不同保证金账户转账-转出到其他账户”的权限，开启为可用，关闭为不可用；</p></li>
</ul>
<h2 id='4a42f6a161'>获取合约的资金费率</h2>
<ul>
<li>GET <code>linear-swap-api/v1/swap_funding_rate</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_funding_rate?contract_code=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-17'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
</tbody></table>

<blockquote>
<p>Response: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w"> 
      </span><span class="s2">"funding_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1577736000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"funding_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.12000001"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"estimated_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.12000001"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"next_funding_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1577764800"</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">],</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-18'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>资金费币种</td>
<td>&quot;USDT&quot;...</td>
</tr>
<tr>
<td>funding_time</td>
<td>true</td>
<td>string</td>
<td>当期资金费率时间</td>
<td></td>
</tr>
<tr>
<td>funding_rate</td>
<td>true</td>
<td>string</td>
<td>当期资金费率</td>
<td></td>
</tr>
<tr>
<td>estimated_rate</td>
<td>true</td>
<td>string</td>
<td>下一期预测资金费率</td>
<td></td>
</tr>
<tr>
<td>next_funding_time</td>
<td>true</td>
<td>string</td>
<td>下一期资金费率时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='db0c72a9e3'>获取合约的历史资金费率</h2>
<ul>
<li>GET <code>linear-swap-api/v1/swap_historical_funding_rate</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_historical_funding_rate?contract_code=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-18'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>页码，不填默认第1页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                </span><span class="s2">"avg_premium_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.041294824026737225"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"funding_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.003018793103448275"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"funding_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1598556000000"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"realized_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.003018793103448274"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"avg_premium_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.003518793103448275"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"funding_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.003750000000000000"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"funding_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1598512800000"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"realized_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.003750000000000000"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1598600304004</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-19'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>资金费币种</td>
<td>&quot;USDT&quot;...</td>
</tr>
<tr>
<td>funding_time</td>
<td>true</td>
<td>string</td>
<td>资金费率时间</td>
<td></td>
</tr>
<tr>
<td>funding_rate</td>
<td>true</td>
<td>string</td>
<td>当期资金费率</td>
<td></td>
</tr>
<tr>
<td>realized_rate</td>
<td>true</td>
<td>string</td>
<td>实际资金费率</td>
<td></td>
</tr>
<tr>
<td>avg_premium_index</td>
<td>true</td>
<td>string</td>
<td>平均溢价指数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='78ab607a57'>获取强平订单</h2>
<ul>
<li>GET <code>linear-swap-api/v1/swap_liquidation_orders</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/linear-swap-api/v1/swap_liquidation_orders?contract_code=BTC-USDT&amp;trade_type=0&amp;create_date=90"</span>

</code></pre><h3 id='1f9ac54b15-19'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>trade_type</td>
<td>true</td>
<td>int</td>
<td>交易类型</td>
<td>0:全部,5: 卖出强平,6: 买入强平</td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>int</td>
<td>日期</td>
<td>7，90（7天或者90天）</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>页码,不填默认第1页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"orders"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">     </span><span class="err">//合约代码</span><span class="w">
        </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"close"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1111</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1408076414000</span><span class="p">,</span><span class="w">
      </span><span class="p">}</span><span class="w">
     </span><span class="p">],</span><span class="w">
    </span><span class="s2">"total_page"</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="s2">"current_page"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_size"</span><span class="p">:</span><span class="mi">3</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-20'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;orders&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>强平时间</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
<td></td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>破产价格</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>强平数量（张）</td>
<td></td>
</tr>
<tr>
<td>&lt;/orders&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='k-2'>获取合约的溢价指数K线</h2>
<ul>
<li>GET <code>/index/market/history/linear_swap_premium_index_kline</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/index/market/history/linear_swap_premium_index_kline?contract_code=BTC-USDT&amp;period=1min&amp;size=1"</span>

</code></pre><h3 id='1f9ac54b15-20'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;,&quot;ETH-USDT&quot;...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线类型</td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day, 1week,1mon</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>int</td>
<td>K线获取数量</td>
<td>[1,2000]</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.premium_index.1min"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0015"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0015"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529898780</span><span class="p">,</span><span class="w">
      </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0015"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0015"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529908345313</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-21'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>k线id</td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>string</td>
<td>成交量(张)，数值为0</td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>string</td>
<td>成交笔数，数值为0</td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>string</td>
<td>开盘值（溢价指数）</td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>string</td>
<td>收盘值（溢价指数）</td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>string</td>
<td>最低值（溢价指数）</td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>string</td>
<td>最高值（溢价指数）</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>string</td>
<td>成交量(币), 数值为0</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>string</td>
<td>成交额, 数值为0</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='k-3'>获取实时预测资金费率的K线数据</h2>
<ul>
<li>GET <code>/index/market/history/linear_swap_estimated_rate_kline</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/index/market/history/linear_swap_estimated_rate_kline?contract_code=BTC-USDT&amp;period=1min&amp;size=1"</span>

</code></pre><h3 id='1f9ac54b15-21'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
<td>&quot;BTC-USDT&quot;,&quot;ETH-USDT&quot;...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线类型</td>
<td></td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day, 1week,1mon</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>int</td>
<td>K线获取数量</td>
<td></td>
<td>[1,2000]</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.estimated_rate.1min"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000153"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000153"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529898780</span><span class="p">,</span><span class="w">
      </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000153"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000153"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529908345313</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-22'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>k线id</td>
<td></td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>string</td>
<td>成交量(张)，数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>string</td>
<td>成交笔数，数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>string</td>
<td>开盘值（预测资金费率）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>string</td>
<td>收盘值 （预测资金费率）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>string</td>
<td>最低值 （预测资金费率）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>string</td>
<td>最高值 （预测资金费率）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>string</td>
<td>成交量(币), 数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>string</td>
<td>成交额, 数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='8cfe8b0489'>获取基差数据</h2>
<ul>
<li>GET <code>index/market/history/linear_swap_basis</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/index/market/history/linear_swap_basis?contract_code=BTC-USDT&amp;period=1min&amp;size=1"</span>

</code></pre><h3 id='1f9ac54b15-22'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>如&quot;BTC-USDT&quot;</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>周期</td>
<td>1min,5min, 15min, 30min, 60min,4hour,1day,1week,1mon</td>
</tr>
<tr>
<td>basis_price_type</td>
<td>false</td>
<td>string</td>
<td>基差价格类型，表示在周期内计算基差使用的价格类型， 不填，默认使用开盘价</td>
<td>开盘价：open，收盘价：close，最高价：high，最低价：low，平均价=（最高价+最低价）/2：average</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>int</td>
<td>基差获取数量，默认 150</td>
<td>[1,2000]</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.basis.1min.low"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"basis"</span><span class="p">:</span><span class="s2">"-392.21999999999935"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"basis_rate"</span><span class="p">:</span><span class="s2">"-0.0373073140293839"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_price"</span><span class="p">:</span><span class="s2">"10121"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1600822800</span><span class="p">,</span><span class="w">
            </span><span class="s2">"index_price"</span><span class="p">:</span><span class="s2">"10513.22"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1576586879618</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-23'>返回参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.basis</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td></td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>唯一标识</td>
<td></td>
</tr>
<tr>
<td>contract_price</td>
<td>true</td>
<td>string</td>
<td>合约基准价，与基差价格类型匹配</td>
<td></td>
</tr>
<tr>
<td>index_price</td>
<td>true</td>
<td>string</td>
<td>指数基准价，与基差价格类型匹配</td>
<td></td>
</tr>
<tr>
<td>basis</td>
<td>true</td>
<td>string</td>
<td>基差=合约基准价 - 指数基准价</td>
<td></td>
</tr>
<tr>
<td>basis_rate</td>
<td>true</td>
<td>string</td>
<td>基差率=基差/指数基准价</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>生成时间</td>
<td></td>
</tr>
</tbody></table>
<h1 id='e2d72291c6'>合约资产接口</h1><h2 id='e807c44c06'>获取用户账户信息</h2><h3 id='30fd4ed55b-10'>示例</h3>
<ul>
<li>POST  <code>linear-swap-api/v1/swap_account_info</code></li>
</ul>
<h3 id='1f9ac54b15-23'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;... ,如果缺省，默认返回所有合约</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_static"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.33</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_available"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.34</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profit_real"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.45</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.45</span><span class="p">,</span><span class="w">
          </span><span class="s2">"withdraw_available"</span><span class="p">:</span><span class="mf">4.0989898</span><span class="p">,</span><span class="w">
          </span><span class="s2">"risk_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="s2">"liquidation_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> 
          </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
          </span><span class="s2">"adjust_factor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="w">
         </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_static"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.33</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_available"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.34</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profit_real"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.45</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.45</span><span class="p">,</span><span class="w">
          </span><span class="s2">"withdraw_available"</span><span class="p">:</span><span class="mf">4.7389859</span><span class="p">,</span><span class="w">
          </span><span class="s2">"risk_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="s2">"liquidation_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
          </span><span class="s2">"adjust_factor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="w">
         </span><span class="p">}</span><span class="w">
       </span><span class="p">],</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">158797866555</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-24'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>long</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>margin_balance</td>
<td>true</td>
<td>decimal</td>
<td>账户权益</td>
<td></td>
</tr>
<tr>
<td>margin_static</td>
<td>true</td>
<td>decimal</td>
<td>静态权益</td>
<td></td>
</tr>
<tr>
<td>margin_position</td>
<td>true</td>
<td>decimal</td>
<td>持仓保证金（当前持有仓位所占用的保证金）</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金</td>
<td></td>
</tr>
<tr>
<td>margin_available</td>
<td>true</td>
<td>decimal</td>
<td>可用保证金</td>
<td></td>
</tr>
<tr>
<td>profit_real</td>
<td>true</td>
<td>decimal</td>
<td>已实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>risk_rate</td>
<td>true</td>
<td>decimal</td>
<td>保证金率</td>
<td></td>
</tr>
<tr>
<td>liquidation_price</td>
<td>true</td>
<td>decimal</td>
<td>预估强平价</td>
<td></td>
</tr>
<tr>
<td>withdraw_available</td>
<td>true</td>
<td>decimal</td>
<td>可划转数量</td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>decimal</td>
<td>杠杠倍数</td>
<td></td>
</tr>
<tr>
<td>adjust_factor</td>
<td>true</td>
<td>decimal</td>
<td>调整系数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='46a3ba9a2f'>获取用户持仓信息</h2><h3 id='30fd4ed55b-11'>示例</h3>
<ul>
<li>POST <code>linear-swap-api/v1/swap_position_info</code></li>
</ul>
<h3 id='1f9ac54b15-24'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;... ,如果缺省，默认返回所有合约</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w">
          </span><span class="s2">"cost_open"</span><span class="p">:</span><span class="w"> </span><span class="mf">422.78</span><span class="p">,</span><span class="w">
          </span><span class="s2">"cost_hold"</span><span class="p">:</span><span class="w"> </span><span class="mf">422.78</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00007096</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profit_rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.97</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"position_margin"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.4</span><span class="p">,</span><span class="w">
          </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
          </span><span class="s2">"direction"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"last_price"</span><span class="p">:</span><span class="mf">7900.17</span><span class="w">
         </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
     </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-25'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>持仓量（张）</td>
<td></td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>decimal</td>
<td>可平仓数量（张）</td>
<td></td>
</tr>
<tr>
<td>frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结数量（张）</td>
<td></td>
</tr>
<tr>
<td>cost_open</td>
<td>true</td>
<td>decimal</td>
<td>开仓均价</td>
<td></td>
</tr>
<tr>
<td>cost_hold</td>
<td>true</td>
<td>decimal</td>
<td>持仓均价</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_rate</td>
<td>true</td>
<td>decimal</td>
<td>收益率</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>position_margin</td>
<td>true</td>
<td>decimal</td>
<td>持仓保证金</td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杠倍数</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
<td></td>
</tr>
<tr>
<td>last_price</td>
<td>true</td>
<td>decimal</td>
<td>最新价</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id='e0361480e3-5'>备注</h4>
<ul>
<li>如果有某个品种在结算中，不带请求参数去查询持仓，会返回错误码1080(1080  In settlement or delivery. Unable to get positions.)。建议您带上请求参数去查询持仓，避免报错查询不到持仓。</li>
</ul>
<h2 id='2aa4c454c6'>查询用户账户和持仓信息</h2>
<ul>
<li>post <code>linear-swap-api/v1/swap_account_position_info</code></li>
</ul>
<h3 id='1f9ac54b15-25'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;... ,如果缺省，默认返回所有合约</td>
</tr>
</tbody></table>
<h3 id='9852b06629-2'>备注：</h3>
<p>当品种上市，合约待上市或下市时，仓位信息返回为空</p>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1560147583367</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_available"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"profit_real"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"risk_rate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"withdraw_available"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"liquidation_price"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"adjust_factor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.13</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_static"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost_open"</span><span class="p">:</span><span class="w"> </span><span class="mf">422.78</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost_hold"</span><span class="p">:</span><span class="w"> </span><span class="mf">422.78</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00007096</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.97</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"position_margin"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.4</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
            </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">7900.17</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-26'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>long</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>margin_balance</td>
<td>true</td>
<td>decimal</td>
<td>账户权益</td>
<td></td>
</tr>
<tr>
<td>margin_static</td>
<td>true</td>
<td>decimal</td>
<td>静态权益</td>
<td></td>
</tr>
<tr>
<td>margin_position</td>
<td>true</td>
<td>decimal</td>
<td>持仓保证金（当前持有仓位所占用的保证金）</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金</td>
<td></td>
</tr>
<tr>
<td>margin_available</td>
<td>true</td>
<td>decimal</td>
<td>可用保证金</td>
<td></td>
</tr>
<tr>
<td>profit_real</td>
<td>true</td>
<td>decimal</td>
<td>已实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>risk_rate</td>
<td>true</td>
<td>decimal</td>
<td>保证金率</td>
<td></td>
</tr>
<tr>
<td>liquidation_price</td>
<td>true</td>
<td>decimal</td>
<td>预估强平价</td>
<td></td>
</tr>
<tr>
<td>withdraw_available</td>
<td>true</td>
<td>decimal</td>
<td>可划转数量</td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>decimal</td>
<td>杠杠倍数</td>
<td></td>
</tr>
<tr>
<td>adjust_factor</td>
<td>true</td>
<td>decimal</td>
<td>调整系数</td>
<td></td>
</tr>
<tr>
<td>&lt;positions&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>持仓量（张）</td>
<td></td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>decimal</td>
<td>可平仓数量（张）</td>
<td></td>
</tr>
<tr>
<td>frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结数量（张）</td>
<td></td>
</tr>
<tr>
<td>cost_open</td>
<td>true</td>
<td>decimal</td>
<td>开仓均价</td>
<td></td>
</tr>
<tr>
<td>cost_hold</td>
<td>true</td>
<td>decimal</td>
<td>持仓均价</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_rate</td>
<td>true</td>
<td>decimal</td>
<td>收益率</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>position_margin</td>
<td>true</td>
<td>decimal</td>
<td>持仓保证金</td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杠倍数</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
<td></td>
</tr>
<tr>
<td>last_price</td>
<td>true</td>
<td>decimal</td>
<td>最新价</td>
<td></td>
</tr>
<tr>
<td>&lt;/positions&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='a2a4472972'>查询母账户下所有子账户资产信息</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_sub_account_list</code></li>
</ul>
<h3 id='1f9ac54b15-26'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;... ,如果缺省，默认返回所有合约</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1499223904680</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"sub_uid"</span><span class="p">:</span><span class="w"> </span><span class="mi">9910049</span><span class="p">,</span><span class="w">
        </span><span class="s2">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
              </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
              </span><span class="s2">"liquidation_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
              </span><span class="s2">"risk_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
               </span><span class="s2">"liquidation_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
               </span><span class="s2">"risk_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-27'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>long</td>
<td>子账户UID</td>
<td></td>
</tr>
<tr>
<td>&lt;list&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>margin_balance</td>
<td>true</td>
<td>decimal</td>
<td>账户权益</td>
<td></td>
</tr>
<tr>
<td>liquidation_price</td>
<td>true</td>
<td>decimal</td>
<td>预估强平价</td>
<td></td>
</tr>
<tr>
<td>risk_rate</td>
<td>true</td>
<td>decimal</td>
<td>保证金率</td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id='e0361480e3-6'>备注</h4>
<ul>
<li>只返回已经开通合约交易的子账户数据.</li>
</ul>
<h2 id='06ecb288c9'>查询单个子账户资产信息</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_sub_account_info</code></li>
</ul>
<h3 id='1f9ac54b15-27'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;... ,如果缺省，默认返回所有合约</td>
</tr>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>long</td>
<td>子账户的UID</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w"> 
       </span><span class="p">{</span><span class="w">
          </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.33</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_available"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.34</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profit_real"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.45</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.45</span><span class="p">,</span><span class="w">
          </span><span class="s2">"withdraw_available"</span><span class="p">:</span><span class="mf">4.0989898</span><span class="p">,</span><span class="w">
          </span><span class="s2">"risk_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="s2">"liquidation_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="s2">"adjust_factor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"margin_static"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">158797866555</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-28'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;,&quot;ETH-USDT&quot;...</td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>margin_balance</td>
<td>true</td>
<td>decimal</td>
<td>账户权益</td>
<td></td>
</tr>
<tr>
<td>margin_position</td>
<td>true</td>
<td>decimal</td>
<td>持仓保证金（当前持有仓位所占用的保证金）</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金</td>
<td></td>
</tr>
<tr>
<td>margin_available</td>
<td>true</td>
<td>decimal</td>
<td>可用保证金</td>
<td></td>
</tr>
<tr>
<td>profit_real</td>
<td>true</td>
<td>decimal</td>
<td>已实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>risk_rate</td>
<td>true</td>
<td>decimal</td>
<td>保证金率</td>
<td></td>
</tr>
<tr>
<td>liquidation_price</td>
<td>true</td>
<td>decimal</td>
<td>预估强平价</td>
<td></td>
</tr>
<tr>
<td>withdraw_available</td>
<td>true</td>
<td>decimal</td>
<td>可划转数量</td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>decimal</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>adjust_factor</td>
<td>true</td>
<td>decimal</td>
<td>调整系数</td>
<td></td>
</tr>
<tr>
<td>margin_static</td>
<td>true</td>
<td>decimal</td>
<td>静态权益</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id='e0361480e3-7'>备注</h4>
<ul>
<li>只能查询到开通合约交易的子账户信息；</li>
</ul>
<h2 id='357363cd8d'>查询单个子账户持仓信息</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_sub_position_info</code></li>
</ul>
<h3 id='1f9ac54b15-28'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;...，如果缺省，默认返回所有合约</td>
</tr>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>long</td>
<td>子账户的UID</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">                                               
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">                               
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">                            
    </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">                                      
       </span><span class="p">{</span><span class="w">                                          
           </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">                       
           </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">               
           </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">                           
           </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">                        
           </span><span class="s2">"frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w">                         
           </span><span class="s2">"cost_open"</span><span class="p">:</span><span class="w"> </span><span class="mf">422.78</span><span class="p">,</span><span class="w">                   
           </span><span class="s2">"cost_hold"</span><span class="p">:</span><span class="w"> </span><span class="mf">422.78</span><span class="p">,</span><span class="w">                   
           </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00007096</span><span class="p">,</span><span class="w">           
           </span><span class="s2">"profit_rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07</span><span class="p">,</span><span class="w">                   
           </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.97</span><span class="p">,</span><span class="w">                      
           </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w"> 
           </span><span class="s2">"position_margin"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.4</span><span class="p">,</span><span class="w">                
           </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">                      
           </span><span class="s2">"direction"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"last_price"</span><span class="p">:</span><span class="mi">6000</span><span class="w">                  
       </span><span class="p">}</span><span class="w">                                        
     </span><span class="p">]</span><span class="w">                                          
  </span><span class="p">}</span><span class="w"> 

</span></code></pre><h3 id='70bdef7e25-29'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>持仓量（张）</td>
<td></td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>decimal</td>
<td>可平仓数量（张）</td>
<td></td>
</tr>
<tr>
<td>frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结数量（张）</td>
<td></td>
</tr>
<tr>
<td>cost_open</td>
<td>true</td>
<td>decimal</td>
<td>开仓均价</td>
<td></td>
</tr>
<tr>
<td>cost_hold</td>
<td>true</td>
<td>decimal</td>
<td>持仓均价</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_rate</td>
<td>true</td>
<td>decimal</td>
<td>收益率</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>position_margin</td>
<td>true</td>
<td>decimal</td>
<td>持仓保证金</td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>仓位方向</td>
<td>&quot;buy&quot;:多 &quot;sell&quot;:空</td>
</tr>
<tr>
<td>last_price</td>
<td>true</td>
<td>decimal</td>
<td>最新价</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='da46d99549'>查询用户财务记录</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_financial_record</code></li>
</ul>
<h3 id='1f9ac54b15-29'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>margin_account</td>
<td>true <img width=250/></td>
<td>string</td>
<td>保证金账户  <img width=1000/></td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>type</td>
<td>false</td>
<td>string</td>
<td>不填查询全部类型,【查询多类型中间用，隔开】</td>
<td>平多：3，平空：4，开仓手续费-吃单：5，开仓手续费-挂单：6，平仓手续费-吃单：7，平仓手续费-挂单：8，交割平多：9，交割平空：10，交割手续费：11，强制平多：12，强制平空：13，从币币转入：14，转出至币币：15，结算未实现盈亏-多仓：16，结算未实现盈亏-空仓：17，穿仓分摊：19，系统：26，活动奖励：28，返利：29，资金费-收入：30，资金费-支出：31, 转出到子账号合约账户: 34, 从子账号合约账户转入:35, 转出到母账号合约账户: 36, 从母账号合约账户转入: 37，从其他保证金账户转入：38，转出到其他保证金账户：39</td>
</tr>
<tr>
<td>create_date</td>
<td>false</td>
<td>int</td>
<td>可随意输入正整数，如果参数超过90则默认查询90天的数据，默认7</td>
<td></td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>第几页,不填默认第一页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td></td>
</tr>
</tbody></table>
<h4 id='9852b06629-3'>备注：</h4>
<ul>
<li>转出到子账号合约账户: 34, 从子账号合约账户转入:35, 转出到母账号合约账户: 36, 从母账号合约账户转入: 37，这4种类型都包含 跨账户。跨账户与不跨账户合并在一起!</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">                                  
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">              
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">                         
      </span><span class="s2">"financial_record"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">         
        </span><span class="p">{</span><span class="w">                            
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">192838272</span><span class="p">,</span><span class="w">             
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1408076414000</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"margin_account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"face_margin_account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">40</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">                  
        </span><span class="p">},</span><span class="w">                           
        </span><span class="p">{</span><span class="w">                            
          </span><span class="err">.........</span><span class="w">                  
        </span><span class="p">}</span><span class="w">                            
      </span><span class="p">],</span><span class="w">                             
      </span><span class="s2">"total_page"</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span><span class="w">          
      </span><span class="s2">"current_page"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">         
      </span><span class="s2">"total_size"</span><span class="p">:</span><span class="mi">3</span><span class="w">            
      </span><span class="p">},</span><span class="w">                         
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">              
  </span><span class="p">}</span><span class="w">                              

</span></code></pre><h3 id='70bdef7e25-30'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status  <img width=250/></td>
<td>true <img width=250/></td>
<td>string</td>
<td>请求处理结果  <img width=1000/></td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td>字典类型</td>
<td></td>
</tr>
<tr>
<td>&lt;financial_record&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>asset</td>
<td>true</td>
<td>string</td>
<td>币种</td>
<td>&quot;USDT&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>margin_account</td>
<td>true</td>
<td>string</td>
<td>保证金账户</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>face_margin_account</td>
<td>true</td>
<td>string</td>
<td>对手方保证金账户，仅在type交易类型为34、35、36、37、38、39时有值，其他类型为空字符串</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>int</td>
<td>交易类型</td>
<td>平多：3，平空：4，开仓手续费-吃单：5，开仓手续费-挂单：6，平仓手续费-吃单：7，平仓手续费-挂单：8，交割平多：9，交割平空：10，交割手续费：11，强制平多：12，强制平空：13，从币币转入：14，转出至币币：15，结算未实现盈亏-多仓：16，结算未实现盈亏-空仓：17，穿仓分摊：19，系统：26，活动奖励：28，返利：29，资金费-收入：30，资金费-支出：31, 转出到子账号合约账户: 34, 从子账号合约账户转入:35, 转出到母账号合约账户: 36, 从母账号合约账户转入: 37，从其他保证金账户转入：38，转出到其他保证金账户：39</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>金额（计价货币）</td>
<td></td>
</tr>
<tr>
<td>&lt;/financial_record&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

<!--

## 查询用户结算记录

 - POST `swap-api/v1/swap_user_settlement_records`

### 请求参数

| 参数名称          | 是否必须  | 类型     | 描述   | 取值范围                                     |
| ------------- | ----- | ------ | ------------- | ---------------------------------------- |
| contract_code | true  | string | 合约code     |                                          |
| start_time   | false  | long    | 起始时间（时间戳，单位毫秒）        |  取值范围：[(当前时间 - 90天), 当前时间] ，默认取当前时间- 90天   |
| end_time   | false  | long    | 结束时间（时间戳，单位毫秒）        | 取值范围：(start_time, 当前时间]，默认取当前时间  |
|page_index |false |    int |页码 |不填默认第1页    |
|page_size  |false |    int |页大小|不填默认20，不得多于50（超过则按照50进行查询）|

#### 备注
 - 默认按照时间倒序查询，新数据排在前
 - 当起始时间或结束时间不符合取值范围时，报错1067，参数不合法。
 - 查询结算开始时间在起始时间之后，结束时间之前的用户结算记录数据。

> Response: 

```json

{
    "status": "ok",
    "data": {
        "settlement_records":[
            {
                "symbol": "BTC",
                "contract_code": "BTC-USD",
                "margin_balance_init": 10,
                "margin_balance": 2,
                "settlement_profit_real": 1.199,
                "settlement_time": 1590825600,
                "clawback": -0.001,
                "funding_fee": -0.001,
                "offset_profitloss": 0,
                "fee": 0,
                "fee_asset": "BTC",
                "positions":[
                    {
                        "symbol": "BTC",
                        "contract_code": "BTC-USD",
                        "direction": "buy",
                        "volume": 2,
                        "cost_open": 6500,
                        "cost_hold_pre": 6500,
                        "cost_hold": 7000,
                        "settlement_profit_unreal": 2.4,
                        "settlement_price": 7000,
                        "settlement_type": "settlement"
                    },
                    {
                        "symbol": "BTC",
                        "contract_code": "BTC-USD",
                        "direction": "sell",
                        "volume": 1,
                        "cost_open": 6500,
                        "cost_hold_pre": 6500,
                        "cost_hold": 7000,
                        "settlement_profit_unreal": -1.2,
                        "settlement_price": 7000,
                        "settlement_type": "settlement"
                    }]
            }],
        "current_page": 1,
        "total_page": 1,
        "total_size": 5
    },
    "ts": 1578124684692
}

```
### 返回参数

| 参数名称                   | 是否必须 | 类型      | 描述                 | 取值范围                                     |
| ---------------------- | ---- | ------- | ------------------ | ---------------------------------------- |
| status                 | true | string  | 请求处理结果             |                                          |
| \<data\> | true     |  object      |                    |                                          |
| \<settlement_records\> | true     |  object   array    |                    |                                          |
| symbol     | true   | string  | 品种代码                 | "BTC","ETH"... |
| contract_code     | true   | string  | 合约代码                 |  "BTC-USD" ... |
| margin_balance_init        | true | decimal | 本期初始账户权益         |                                          |
| margin_balance        | true | decimal | 本期结算后账户权益         |                                          |
| settlement_profit_real        | true | decimal | 本期结算已实现盈亏            |                                          |
| settlement_time     | true   | long  | 本期结算时间，交割时为交割时间                |   |
| clawback        | true | decimal |   本期分摊费用         |         |
| funding_fee        | true | decimal |  本期资金费            |                       |
| offset_profitloss        | true | decimal | 本期平仓盈亏           |                                          |
| fee        | true | decimal | 本期交易手续费           |                                          |
| fee_asset        | true | string | 手续费币种      |                                          |
| \<positions\> | true     |  object   array    |                    |                                          |
| symbol     | true   | string  | 品种代码                 | "BTC","ETH"... |
| contract_code     | true   | string  | 合约代码                 |  "BTC-USD" ... |
| direction            | true | string  | 仓位方向  |     "buy":买 "sell":卖                                     |
| volume               | true | decimal | 本期结算前持仓量（张）              |                                          |
| cost_open            | true | decimal | 开仓均价             |                                          |
| cost_hold_pre            | true | decimal | 本期结算前持仓均价             |                                          |
| cost_hold            | true | decimal | 本期结算后持仓均价             |                                          |
| settlement_profit_unreal        | true | decimal | 本期结算未实现盈亏            |                                          |
| settlement_price        | true | decimal | 本期结算价格，交割时为交割价格            |                                          |
| settlement_type        | true | string |   结算类型          |     settlement：结算；delivery：交割；      |
| \</positions\>            |      |         |                    |                                          |
| \</settlement_records\>            |      |         |                    |                                          |
| total_page        | true | int | 总页数   |                |
| current_page        | true | int | 当前页   |                |
| total_size        | true | int | 总条数   |                |
| \</data\>            |      |         |                    |                                          |
| ts                     | true | long    | 时间戳                |                                          |

#### 说明
 - settlement_time本期结算时间为结算开始时间。
 - 只要用户曾有过资金，就会有结算记录。若查询的用户没有结算记录，则直接返回空数据（data为空数组）
 - 当合约交割时，funding_fee即为交割手续费。
 -->
<h2 id='6534c93810'>查询用户可用杠杆倍数</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_available_level_rate</code></li>
</ul>
<h3 id='9b19f8c9cc-2'>请求参数：</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码，不填默认返回所有合约的实际可用杠杆倍数</td>
<td>比如： “BTC-USDT”。。。</td>
</tr>
</tbody></table>
<h3 id='df22977071'>返回参数：</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td>字典数据</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>比如：&quot;BTC-USDT&quot;</td>
</tr>
<tr>
<td>available_level_rate</td>
<td>true</td>
<td>string</td>
<td>实际可用杠杆倍数，多个以英文逗号隔开</td>
<td>比如：&quot;1,5,10&quot;</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"available_level_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1,5,10,20"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1566899973811</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='73715d9daf'>查询用户当前的下单量限制</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_order_limit</code></li>
</ul>
<h3 id='1f9ac54b15-30'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code <img width=250/></td>
<td>false <img width=250/></td>
<td>string <img width=250/></td>
<td>合约代码 <img width=1000/></td>
<td>&quot;BTC-USDT&quot;... ,如果缺省，默认返回所有合约</td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价，&quot;opponent&quot;:对手价，&quot;lightning&quot;:闪电平仓，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档，&quot;fok&quot;:FOK订单，&quot;ioc&quot;:IOC订单,opponent_ioc&quot;： 对手价-IOC下单，&quot;lightning_ioc&quot;：闪电平仓-IOC下单，&quot;optimal_5_ioc&quot;：最优5档-IOC下单，&quot;optimal_10_ioc&quot;：最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单,&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;lightning_fok&quot;：闪电平仓-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"open_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"close_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="w">
      </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">},</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-31'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status <img width=250/></td>
<td>true <img width=250/></td>
<td>string <img width=250/></td>
<td>请求处理结果 <img width=1000/></td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;dict&gt;(属性名称：data)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价，&quot;opponent&quot;:对手价，&quot;lightning&quot;:闪电平仓，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档，&quot;fok&quot;:FOK订单，&quot;ioc&quot;:IOC订单,opponent_ioc&quot;： 对手价-IOC下单，&quot;lightning_ioc&quot;：闪电平仓-IOC下单，&quot;optimal_5_ioc&quot;：最优5档-IOC下单，&quot;optimal_10_ioc&quot;：最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单,&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;lightning_fok&quot;：闪电平仓-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
<tr>
<td>&lt;list&gt;(属性名称：list)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>open_limit</td>
<td>true</td>
<td>decimal</td>
<td>合约开仓单笔下单量最大值</td>
<td></td>
</tr>
<tr>
<td>close_limit</td>
<td>true</td>
<td>decimal</td>
<td>合约平仓单笔下单量最大值</td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/dict&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='1e757a130f'>查询用户当前的手续费费率</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_fee</code></li>
</ul>
<h3 id='1f9ac54b15-31'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;... ,如果缺省，默认返回所有合约</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w"> 
      </span><span class="s2">"open_maker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00025"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"open_taker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00075"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"close_maker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00025"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"close_taker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00075"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">],</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-32'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>open_maker_fee</td>
<td>true</td>
<td>string</td>
<td>开仓挂单的手续费费率，小数形式</td>
<td></td>
</tr>
<tr>
<td>open_taker_fee</td>
<td>true</td>
<td>string</td>
<td>开仓吃单的手续费费率，小数形式</td>
<td></td>
</tr>
<tr>
<td>close_maker_fee</td>
<td>true</td>
<td>string</td>
<td>平仓挂单的手续费费率，小数形式</td>
<td></td>
</tr>
<tr>
<td>close_taker_fee</td>
<td>true</td>
<td>string</td>
<td>平仓吃单的手续费费率，小数形式</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td>&quot;USDT&quot;...</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='36078ddf99'>查询用户当前的划转限制</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_transfer_limit</code></li>
</ul>
<h3 id='1f9ac54b15-32'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;... ,如果缺省，默认返回所有合约</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transfer_in_max_each"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transfer_in_min_each"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transfer_out_max_each"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transfer_out_min_each"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transfer_in_max_daily"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transfer_out_max_daily"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"net_transfer_in_max_daily"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"net_transfer_out_max_daily"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">],</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-33'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>transfer_in_max_each</td>
<td>true</td>
<td>decimal</td>
<td>单笔最大转入量</td>
<td></td>
</tr>
<tr>
<td>transfer_in_min_each</td>
<td>true</td>
<td>decimal</td>
<td>单笔最小转入量</td>
<td></td>
</tr>
<tr>
<td>transfer_out_max_each</td>
<td>true</td>
<td>decimal</td>
<td>单笔最大转出量</td>
<td></td>
</tr>
<tr>
<td>transfer_out_min_each</td>
<td>true</td>
<td>decimal</td>
<td>单笔最小转出量</td>
<td></td>
</tr>
<tr>
<td>transfer_in_max_daily</td>
<td>true</td>
<td>decimal</td>
<td>单日累计最大转入量</td>
<td></td>
</tr>
<tr>
<td>transfer_out_max_daily</td>
<td>true</td>
<td>decimal</td>
<td>单日累计最大转出量</td>
<td></td>
</tr>
<tr>
<td>net_transfer_in_max_daily</td>
<td>true</td>
<td>decimal</td>
<td>单日累计最大净转入量</td>
<td></td>
</tr>
<tr>
<td>net_transfer_out_max_daily</td>
<td>true</td>
<td>decimal</td>
<td>单日累计最大净转出量</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='44a4794c9d'>用户持仓量限制的查询</h2>
<ul>
<li>post <code>linear-swap-api/v1/swap_position_limit</code></li>
</ul>
<h3 id='1f9ac54b15-33'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;... ,如果缺省，默认返回所有合约</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"buy_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sell_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">],</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-34'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>buy_limit</td>
<td>true</td>
<td>decimal</td>
<td>合约多仓持仓的最大值，单位为张</td>
<td></td>
</tr>
<tr>
<td>sell_limit</td>
<td>true</td>
<td>decimal</td>
<td>合约空仓持仓的最大值，单位为张</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='7bc510fe47'>母子账户划转</h2>
<ul>
<li>post <code>linear-swap-api/v1/swap_master_sub_transfer</code></li>
</ul>
<h3 id='1f9ac54b15-34'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>long</td>
<td>子账号uid</td>
<td></td>
</tr>
<tr>
<td>asset</td>
<td>true</td>
<td>string</td>
<td>币种</td>
<td>&quot;USDT&quot;...</td>
</tr>
<tr>
<td>from_margin_account</td>
<td>true</td>
<td>string</td>
<td>转出的保证金账户</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>to_margin_account</td>
<td>true</td>
<td>string</td>
<td>转入的保证金账户</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>划转金额</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>string</td>
<td>划转类型</td>
<td>master_to_sub：母账户划转到子账户， sub_to_master：子账户划转到母账户</td>
</tr>
</tbody></table>
<h4 id='9852b06629-4'>备注：</h4>
<ul>
<li>从转出的保证金账户划转到转入的保证金账户，币种必须为转出的保证金账户的计价币种；</li>
<li>转出的保证金账户与转入的保证金账户的计价币种必须一致（如BTC-USDT可以划转USDT到ETH-USDT，而没办法划转到ETH-HUSD）.</li>
<li>母账户与每个子账户相互划转限频10次/分钟。</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
 </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"695340410205380608"</span><span class="w">
 </span><span class="p">},</span><span class="w">
 </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585823672620</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-35'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>string</td>
<td>划转订单ID</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='6381f8e39d'>获取母账户下的所有母子账户划转记录</h2>
<ul>
<li>post <code>linear-swap-api/v1/swap_master_sub_transfer_record</code></li>
</ul>
<h3 id='1f9ac54b15-35'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>margin_account</td>
<td>true</td>
<td>string</td>
<td>保证金账户</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>transfer_type</td>
<td>false</td>
<td>string</td>
<td>划转类型，不填查询全部类型,【查询多类型中间用，隔开】</td>
<td>转出到子账号合约账户：34， 从子账号合约账户转入：35</td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>int</td>
<td>日期</td>
<td>可随意输入正整数，如果参数超过90则默认查询90天的数据</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>页码，不填默认第1页</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td>20</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transfer_record"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
      </span><span class="s2">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"margin_account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"from_margin_account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"to_margin_account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660214269</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sub_account_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"feyondtest01"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sub_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1566233"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transfer_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585823672602</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585823674006</span><span class="w">
</span><span class="p">}</span><span class="w">   
</span></code></pre><h3 id='70bdef7e25-36'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;transfer_record&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>划转订单ID</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>asset</td>
<td>true</td>
<td>string</td>
<td>币种</td>
<td>&quot;USDT&quot;...</td>
</tr>
<tr>
<td>margin_account</td>
<td>true</td>
<td>string</td>
<td>保证金账户</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>from_margin_account</td>
<td>true</td>
<td>string</td>
<td>转出的保证金账户</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>to_margin_account</td>
<td>true</td>
<td>string</td>
<td>转入的保证金账户</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>string</td>
<td>子账户UID</td>
<td></td>
</tr>
<tr>
<td>sub_account_name</td>
<td>true</td>
<td>string</td>
<td>子账户登录名</td>
<td></td>
</tr>
<tr>
<td>transfer_type</td>
<td>true</td>
<td>int</td>
<td>划转类型</td>
<td>转出到子账号合约账户：34， 从子账号合约账户转入：35</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>金额</td>
<td></td>
</tr>
<tr>
<td>&lt;/transfer_record&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='58fc03af4e'>同账号不同保证金账户的划转</h2>
<ul>
<li>post <code>linear-swap-api/v1/swap_transfer_inner</code></li>
</ul>
<h3 id='1f9ac54b15-36'>请求参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>true</td>
<td>string</td>
<td>币种</td>
<td>&quot;USDT&quot;...</td>
</tr>
<tr>
<td>from_margin_account</td>
<td>true</td>
<td>string</td>
<td>转出的保证金账户</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>to_margin_account</td>
<td>true</td>
<td>string</td>
<td>转入的保证金账户</td>
<td>&quot;ETH-USDT&quot;...</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>划转数额（单位为合约的计价币种）</td>
<td></td>
</tr>
</tbody></table>
<h4 id='77bf9dcec4'><strong>备注：</strong></h4>
<ul>
<li>从转出的保证金账户划转到转入的保证金账户，划转的币种必须为转出的保证金账户的计价币种；</li>
<li>转出的保证金账户与转入的保证金账户的计价币种必须一致（如BTC-USDT可以划转USDT到ETH-USDT，而没办法划转到ETH-HUSD）。</li>
</ul>

<blockquote>
<p>返回示例：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w">   </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"122133213"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-37'>返回参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td></td>
<td></td>
<td></td>
<td>字典数据</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>string</td>
<td>划转订单ID</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='api-2'>获取用户的API指标禁用信息</h2>
<ul>
<li>get <code>linear-swap-api/v1/swap_api_trading_status</code></li>
</ul>
<h3 id='1f9ac54b15-37'>请求参数</h3>
<p>无</p>

<blockquote>
<p>例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"is_disable"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">   </span><span class="err">//是否被禁用</span><span class="w">
      </span><span class="s2">"order_price_types"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit,post_only,FOK,IOC"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">触发禁用的订单价格类型</span><span class="w">
      </span><span class="s2">"disable_reason"</span><span class="p">:</span><span class="s2">"COR"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">触发禁用的原因</span><span class="w">
      </span><span class="s2">"disable_interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">禁用时间间隔</span><span class="w">
      </span><span class="s2">"recovery_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">计划恢复时间</span><span class="w">
      </span><span class="s2">"COR"</span><span class="p">:</span><span class="w">  </span><span class="err">//撤单率的指标（Cancel</span><span class="w"> </span><span class="err">Order</span><span class="w"> </span><span class="err">Ratio）</span><span class="w">
       </span><span class="p">{</span><span class="w">
           </span><span class="s2">"orders_threshold"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">  </span><span class="err">//委托单笔数的阈值</span><span class="w">
           </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">  </span><span class="err">//用户委托单笔数的实际值</span><span class="w">
           </span><span class="s2">"invalid_cancel_orders"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">  </span><span class="err">//委托单中的无效撤单笔数</span><span class="w"> 
           </span><span class="s2">"cancel_ratio_threshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.98</span><span class="p">,</span><span class="w">   </span><span class="err">//撤单率的阈值</span><span class="w">
           </span><span class="s2">"cancel_ratio"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.98</span><span class="p">,</span><span class="w">   </span><span class="err">//用户撤单率的实际值</span><span class="w">
           </span><span class="s2">"is_trigger"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="err">//用户是否触发该指标</span><span class="w">
           </span><span class="s2">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="err">//该指标是否开启</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">,</span><span class="w">
      </span><span class="s2">"TDN"</span><span class="p">:</span><span class="w">  </span><span class="err">//总禁用次数的指标（Total</span><span class="w">  </span><span class="err">Disable</span><span class="w"> </span><span class="err">Number）</span><span class="w">
       </span><span class="p">{</span><span class="w">
           </span><span class="s2">"disables_threshold"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">  </span><span class="err">//总禁用次数的阈值</span><span class="w">
           </span><span class="s2">"disables"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">  </span><span class="err">//总禁用次数的实际值</span><span class="w">
           </span><span class="s2">"is_trigger"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="err">//用户是否触发该指标</span><span class="w">
           </span><span class="s2">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="err">//该指标是否开启</span><span class="w">
      </span><span class="p">}</span><span class="w"> 
   </span><span class="p">}],</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='response'>Response:</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>is_disable</td>
<td>true</td>
<td>int</td>
<td>是否被禁用</td>
<td>1：被禁用中，0：没有被禁用</td>
</tr>
<tr>
<td>order_price_types</td>
<td>true</td>
<td>string</td>
<td>触发禁用的订单价格类型，多个订单价格类型以英文逗号分割，例如：“limit,post_only,FOK,IOC”</td>
<td></td>
</tr>
<tr>
<td>disable_reason</td>
<td>true</td>
<td>string</td>
<td>触发禁用的原因，表示当前的禁用是由哪个指标触发</td>
<td>&quot;COR&quot;:撤单率（Cancel Order Ratio），“TDN”：总禁用次数（Total Disable Number）</td>
</tr>
<tr>
<td>disable_interval</td>
<td>true</td>
<td>long</td>
<td>禁用时间间隔，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>recovery_time</td>
<td>true</td>
<td>long</td>
<td>计划恢复时间，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;COR&gt;</td>
<td>true</td>
<td>object</td>
<td>表示撤单率的指标（Cancel Order Ratio）</td>
<td></td>
</tr>
<tr>
<td>orders_threshold</td>
<td>true</td>
<td>long</td>
<td>委托单笔数的阈值</td>
<td></td>
</tr>
<tr>
<td>orders</td>
<td>true</td>
<td>long</td>
<td>用户委托单笔数的实际值</td>
<td></td>
</tr>
<tr>
<td>invalid_cancel_orders</td>
<td>true</td>
<td>long</td>
<td>用户委托单中的无效撤单笔数</td>
<td></td>
</tr>
<tr>
<td>cancel_ratio_threshold</td>
<td>true</td>
<td>decimal</td>
<td>撤单率的阈值</td>
<td></td>
</tr>
<tr>
<td>cancel_ratio</td>
<td>true</td>
<td>decimal</td>
<td>用户撤单率的实际值</td>
<td></td>
</tr>
<tr>
<td>is_trigger</td>
<td>true</td>
<td>int</td>
<td>用户是否触发该指标</td>
<td>1：已经触发，0：没有触发</td>
</tr>
<tr>
<td>is_active</td>
<td>true</td>
<td>int</td>
<td>该指标是否开启</td>
<td></td>
</tr>
<tr>
<td>&lt;/COR&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;TDN&gt;</td>
<td>true</td>
<td>object</td>
<td>表示总禁用次数的指标（Total Disable Number）</td>
<td></td>
</tr>
<tr>
<td>disables_threshold</td>
<td>true</td>
<td>long</td>
<td>总禁用次数的阈值</td>
<td></td>
</tr>
<tr>
<td>disables</td>
<td>true</td>
<td>long</td>
<td>总禁用次数的实际值</td>
<td></td>
</tr>
<tr>
<td>is_trigger</td>
<td>true</td>
<td>int</td>
<td>用户是否触发该指标</td>
<td>1：已经触发，0：没有触发</td>
</tr>
<tr>
<td>is_active</td>
<td>true</td>
<td>int</td>
<td>该指标是否开启</td>
<td></td>
</tr>
<tr>
<td>&lt;/TDN&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id='ea84f6c646'>合约交易接口</h1><h2 id='9dc85ffb46'>合约下单</h2><h3 id='30fd4ed55b-12'>示例</h3>
<ul>
<li>POST  <code>linear-swap-api/v1/swap_order</code></li>
</ul>
<h3 id='1f9ac54b15-38'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>string <img width=250/></td>
<td>true  <img width=250/></td>
<td>合约代码 <img width=1000/></td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>client_order_id</td>
<td>long</td>
<td>false</td>
<td>客户自己填写和维护，必须为数字</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>decimal</td>
<td>false</td>
<td>价格</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>long</td>
<td>true</td>
<td>委托数量(张)</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>string</td>
<td>true</td>
<td>仓位方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>string</td>
<td>true</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>lever_rate</td>
<td>int</td>
<td>true</td>
<td>杠杆倍数[“开仓”若有10倍多单，就不能再下20倍多单]</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>string</td>
<td>true</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价 &quot;opponent&quot;:对手价 &quot;post_only&quot;:只做maker单,post only下单只受用户持仓数量限制,optimal_5：最优5档、optimal_10：最优10档、optimal_20：最优20档，ioc:IOC订单，fok：FOK订单, &quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
</tbody></table>
<h4 id='e0361480e3-8'>备注</h4>
<ul>
<li>&quot;limit&quot;:限价，&quot;post_only&quot;:只做maker单，ioc:IOC订单，fok：FOK订单，这四种报价类型需要传价格，其他都不需要。</li>
</ul>
<h3 id='8a08d50999'>开平方向</h3>
<p>开多：买入开多(direction用buy、offset用open)</p>

<p>平多：卖出平多(direction用sell、offset用close)</p>

<p>开空：卖出开空(direction用sell、offset用open)</p>

<p>平空：买入平空(direction用buy、offset用close)</p>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">88</span><span class="p">,</span><span class="w">
            </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88"</span><span class="w">
          </span><span class="p">},</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-38'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>String类型订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>long</td>
<td>用户下单时填写的客户端订单ID，没填则不返回</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h4 id='e0361480e3-9'>备注</h4>
<ul>
<li>order_id返回是18位，nodejs和javascript默认解析18有问题，nodejs和javascript里面JSON.parse默认是int，超过18位的数字用json-bigint的包解析。</li>
</ul>
<h2 id='33123f0c09'>合约批量下单</h2><h3 id='30fd4ed55b-13'>示例</h3>
<ul>
<li>POST  <code>linear-swap-api/v1/swap_batchorder</code></li>
</ul>
<h3 id='1f9ac54b15-39'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>orders_data</td>
<td>List&lt;Object&gt;</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<ul>
<li>orders_data对象参数详情</li>
</ul>

<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true <img width=250/></td>
<td>string <img width=250/></td>
<td>合约代码 <img width=1000/></td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>long</td>
<td>客户自己填写和维护，必须为数字</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>false</td>
<td>decimal</td>
<td>价格</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>long</td>
<td>委托数量(张)</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>仓位方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杆倍数[“开仓”若有10倍多单，就不能再下20倍多单]</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价 &quot;opponent&quot;:对手价 &quot;post_only&quot;:只做maker单,post only下单只受用户持仓数量限制,optimal_5：最优5档、optimal_10：最优10档、optimal_20：最优20档，ioc:IOC订单，fok：FOK订单, &quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
</tbody></table>
<h3 id='e0361480e3-10'>备注</h3>
<p>对手价下单price价格参数不用传，对手价下单价格是买一和卖一价,optimal_5：最优5档、optimal_10：最优10档、optimal_20：最优20档下单price价格参数不用传，&quot;limit&quot;:限价，&quot;post_only&quot;:只做maker单 需要传价格。</p>

<p>一次最多允许10个订单。</p>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"errors"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"index"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200417</span><span class="p">,</span><span class="w">
            </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid contract_code"</span><span class="w">
           </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
        </span><span class="s2">"success"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"index"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"order_id"</span><span class="p">:</span><span class="mi">161256</span><span class="p">,</span><span class="w">
            </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"161256"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="mi">1344567</span><span class="w">
           </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
       </span><span class="p">},</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-39'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;errors&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>index</td>
<td>true</td>
<td>int</td>
<td>订单索引</td>
<td></td>
</tr>
<tr>
<td>err_code</td>
<td>true</td>
<td>int</td>
<td>错误码</td>
<td></td>
</tr>
<tr>
<td>err_msg</td>
<td>true</td>
<td>string</td>
<td>错误信息</td>
<td></td>
</tr>
<tr>
<td>&lt;/errors&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;success&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>index</td>
<td>true</td>
<td>int</td>
<td>订单索引</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>string格式的订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>long</td>
<td>用户下单时填写的客户端订单ID，没填则不返回</td>
<td></td>
</tr>
<tr>
<td>&lt;/success&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h4 id='e0361480e3-11'>备注</h4>
<ul>
<li>order_id返回是18位，nodejs和javascript默认解析18有问题，nodejs和javascript里面JSON.parse默认是int，超过18位的数字用json-bigint的包解析。</li>
</ul>
<h2 id='4e53c0fccd'>撤销订单</h2><h3 id='30fd4ed55b-14'>示例</h3>
<ul>
<li>POST <code>linear-swap-api/v1/swap_cancel</code></li>
</ul>
<h3 id='1f9ac54b15-40'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>order_id</td>
<td>false</td>
<td>string</td>
<td>订单ID(多个订单ID中间以&quot;,&quot;分隔,一次最多允许撤消10个订单)</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>string</td>
<td>客户订单ID(多个订单ID中间以&quot;,&quot;分隔,一次最多允许撤消10个订单)</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
</tbody></table>
<h4 id='9852b06629-5'>备注：</h4>
<p>order_id和client_order_id都可以用来撤单，同时只可以设置其中一种，如果设置了两种，默认以order_id来撤单。</p>

<p>撤单接口返回结果只代表撤单命令发送成功，建议根据订单查询接口查询订单的状态来确定订单是否已真正撤销。</p>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"order_id"</span><span class="p">:</span><span class="s2">"161251"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200417</span><span class="p">,</span><span class="w">
        </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid contract_code"</span><span class="w">
       </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="s2">"successes"</span><span class="p">:</span><span class="s2">"161256,1344567"</span><span class="w">
   </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></code></pre><h3 id='70bdef7e25-40'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;(属性名称: data)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;list&gt;(属性名称: errors)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>string</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>err_code</td>
<td>true</td>
<td>int</td>
<td>错误码</td>
<td></td>
</tr>
<tr>
<td>err_msg</td>
<td>true</td>
<td>string</td>
<td>错误信息</td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>successes</td>
<td>true</td>
<td>string</td>
<td>撤销成功的订单的order_id或client_order_id列表</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='f175a031e7'>全部撤单</h2><h3 id='30fd4ed55b-15'>示例</h3>
<ul>
<li>POST  <code>linear-swap-api/v1/swap_cancelall</code></li>
</ul>
<h3 id='1f9ac54b15-41'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:(多笔订单返回结果(成功订单ID,失败订单ID))</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"errors"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"order_id"</span><span class="p">:</span><span class="s2">"161251"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200417</span><span class="p">,</span><span class="w">
            </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid symbol"</span><span class="w">
           </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"order_id"</span><span class="p">:</span><span class="mi">161253</span><span class="p">,</span><span class="w">
            </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200415</span><span class="p">,</span><span class="w">
            </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid symbol"</span><span class="w">
           </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
        </span><span class="s2">"successes"</span><span class="p">:</span><span class="s2">"161256,1344567"</span><span class="w">
       </span><span class="p">},</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-41'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;(属性名称: data)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;list&gt;(属性名称: errors)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>string</td>
<td>订单id</td>
<td></td>
</tr>
<tr>
<td>err_code</td>
<td>true</td>
<td>int</td>
<td>订单失败错误码</td>
<td></td>
</tr>
<tr>
<td>err_msg</td>
<td>true</td>
<td>string</td>
<td>订单失败信息</td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>successes</td>
<td>true</td>
<td>string</td>
<td>成功的订单</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='8a15d24569'>切换杠杆</h2>
<ul>
<li>POST <code>/linear-swap-api/v1/swap_switch_lever_rate</code></li>
</ul>
<h4 id='e0361480e3-12'>备注</h4>
<ul>
<li><p>只有在单个品种下只有持仓，且没有挂单的场景下，才可以切换该品种当前的倍数。</p></li>
<li><p>接口限制请求次数为3次/秒。</p></li>
</ul>
<h3 id='1f9ac54b15-42'>请求参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>String</td>
<td>合约代码</td>
<td>比如“BTC-USDT”</td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>要切换的杠杆倍数</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>** 响应示例**</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="err">正确：</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547521135713</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="mi">10</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="err">错误：</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2014</span><span class="p">,</span><span class="w">     
    </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"无法切换"</span><span class="p">,</span><span class="w">  
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547519608126</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='d5d25aef1a'><strong>响应参数</strong></h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>响应状态: ok,error</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>false</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>false</td>
<td>int</td>
<td>切换成功后的杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>err_code</td>
<td>false</td>
<td>int</td>
<td>错误码</td>
<td></td>
</tr>
<tr>
<td>err_msg</td>
<td>false</td>
<td>string</td>
<td>错误信息</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
</tbody></table>
<h2 id='f36cfcbaef'>获取合约订单信息</h2><h3 id='30fd4ed55b-16'>示例</h3>
<ul>
<li>POST  <code>linear-swap-api/v1/swap_order_info</code></li>
</ul>
<h3 id='1f9ac54b15-43'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>order_id</td>
<td>false</td>
<td>string</td>
<td>订单ID(多个订单ID中间以&quot;,&quot;分隔,一次最多允许查询50个订单)</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>string</td>
<td>客户订单ID(多个订单ID中间以&quot;,&quot;分隔,一次最多允许查询50个订单)</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
</tbody></table>
<h3 id='9852b06629-6'>备注：</h3>
<ul>
<li><p>最多只能查询24小时内的撤单信息。</p></li>
<li><p>order_id和client_order_id都可以用来查询，同时只可以设置其中一种，如果设置了两种，默认以order_id来查询。结算后，会把结束状态的订单（5部分成交已撤单 6全部成交 7已撤单）删除掉。</p></li>
<li><p>client_order_id，24小时有效，超过24小时的订单根据client_order_id将查询不到。</p></li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585824063859</span><span class="p">,</span><span class="w">
    </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">695342051289735168</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"695342051289735168"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_avg_price"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"liquidation_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"canceled_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585824063859</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585824542208</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='b691cfe782'>返回数据</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true <img width=250/></td>
<td>string</td>
<td>请求处理结果 <img width=1000/></td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>委托价格</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价，&quot;opponent&quot;:对手价，&quot;post_only&quot;:只做maker单,post only下单只受用户持仓数量限制，&quot;lightning&quot;:闪电平仓，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档，&quot;fok&quot;:FOK订单，&quot;ioc&quot;:IOC订单, &quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;lightning_ioc&quot;: 闪电平仓-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;lightning_fok&quot;：闪电平仓-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>String类型订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>long</td>
<td>客户订单ID</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交数量</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交总金额 ，即sum（每一笔成交张数 * 合约面值 * 成交价格）</td>
<td></td>
</tr>
<tr>
<td>fee</td>
<td>true</td>
<td>decimal</td>
<td>手续费</td>
<td></td>
</tr>
<tr>
<td>trade_avg_price</td>
<td>true</td>
<td>decimal</td>
<td>成交均价</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td>(1准备提交 2准备提交 3已提交 4部分成交 5部分成交已撤单 6全部成交 7已撤单 11撤单中)</td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型</td>
<td>1:报单 、 2:撤单 、 3:强平、4:交割</td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td>（system:系统、web:用户网页、api:用户API、m:用户M站、risk:风控系统、settlement:交割结算、ios：ios客户端、android：安卓客户端、windows：windows客户端、mac：mac客户端、trigger：计划委托触发）</td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td>（&quot;USDT&quot;...）</td>
</tr>
<tr>
<td>liquidation_type</td>
<td>true</td>
<td>string</td>
<td>结算类型 0:非强平类型，1：多空轧差， 2:部分接管，3：全部接管</td>
<td></td>
</tr>
<tr>
<td>canceled_at</td>
<td>true</td>
<td>long</td>
<td>撤单时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
</tbody></table>
<h2 id='81b4bd7186'>获取订单明细信息</h2><h3 id='30fd4ed55b-17'>示例</h3>
<ul>
<li>POST <code>linear-swap-api/v1/swap_order_detail</code></li>
</ul>
<h3 id='1f9ac54b15-44'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单id</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>false</td>
<td>long</td>
<td>下单时间戳</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>false</td>
<td>int</td>
<td>订单类型</td>
<td>1:报单 、 2:撤单 、 3:强平、4:交割</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>第几页,不填第一页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-13'>备注</h3>
<p>获取订单明细接口查询撤单数据时，如果传“created_at”和“order_type”参数则能查询最近24小时数据，如果不传“created_at”和“order_type”参数只能查询到最近12小时数据。</p>

<p>order_id返回是18位，nodejs和javascript默认解析18有问题，nodejs和javascript里面JSON.parse默认是int，超过18位的数字用json-bigint的包解析。</p>

<p>created_at使用13位long类型时间戳（包含毫秒时间），如果输入准确的时间戳，查询性能将会提升。例如:&quot;2019/10/18 10:26:22&quot;转换为时间戳为：1571365582123。也可以直接从swap_order下单接口返回的ts中获取时间戳查询对应的订单。</p>

<p>created_at禁止传0。</p>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1111</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1408076414000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"canceled_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1408076414000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"instrument_price"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"final_interest"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"adjust_value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"liquidation_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14080764123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14080764123"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_order_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_avg_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9000.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trades"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"trade_id"</span><span class="p">:</span><span class="mi">112</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1232-213123-1231"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_price"</span><span class="p">:</span><span class="mf">123.4555</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_fee"</span><span class="p">:</span><span class="mf">0.234</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mf">34.123</span><span class="p">,</span><span class="w">
            </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maker"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="mi">3</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>错误:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
     </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"error"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"err_code"</span><span class="p">:</span><span class="mi">20029</span><span class="p">,</span><span class="w">
     </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid contract_code"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='b691cfe782-2'>返回数据</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true <img width=250/></td>
<td>string  <img width=250/></td>
<td>请求处理结果 <img width=1000/></td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;</td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>委托价格</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>canceled_at</td>
<td>true</td>
<td>long</td>
<td>撤单时间</td>
<td></td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价，&quot;opponent&quot;:对手价，&quot;post_only&quot;:只做maker单,post only下单只受用户持仓数量限制，&quot;lightning&quot;:闪电平仓，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档，&quot;fok&quot;:FOK订单，&quot;ioc&quot;:IOC订单, &quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;lightning_ioc&quot;: 闪电平仓-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;lightning_fok&quot;：闪电平仓-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>instrument_price</td>
<td>true</td>
<td>decimal</td>
<td>爆仓单合约价格</td>
<td></td>
</tr>
<tr>
<td>final_interest</td>
<td>true</td>
<td>decimal</td>
<td>爆仓时合约权益</td>
<td></td>
</tr>
<tr>
<td>adjust_value</td>
<td>true</td>
<td>decimal</td>
<td>爆仓时调整系数</td>
<td></td>
</tr>
<tr>
<td>fee</td>
<td>true</td>
<td>decimal</td>
<td>总手续费</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td>（&quot;USDT&quot;...）</td>
</tr>
<tr>
<td>liquidation_type</td>
<td>true</td>
<td>string</td>
<td>强平类型</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单id</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>string格式的订单id</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>long</td>
<td>客户订单id</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>string</td>
<td>订单类型</td>
<td>1:报单 、 2:撤单 、 3:强平、4:交割</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td>(1准备提交 2准备提交 3已提交 4部分成交 5部分成交已撤单 6全部成交 7已撤单 11撤单中)</td>
</tr>
<tr>
<td>trade_avg_price</td>
<td>true</td>
<td>decimal</td>
<td>成交均价</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交总金额，即sum（每一笔成交张数 * 合约面值*成交价格）</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交总数量</td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总共页数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页数</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;trades&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>全局唯一的交易标识</td>
<td></td>
</tr>
<tr>
<td>trade_id</td>
<td>true</td>
<td>long</td>
<td>与linear-swap-api/v1/swap_matchresults返回结果中的match_id一样，是撮合结果id， 非唯一，可重复，注意：一个撮合结果代表一个taker单和N个maker单的成交记录的集合，如果一个taker单吃了N个maker单，那这N笔trade都是一样的撮合结果id</td>
<td></td>
</tr>
<tr>
<td>trade_price</td>
<td>true</td>
<td>decimal</td>
<td>成交价格</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交量（张）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交金额（成交数量<em>合约面值</em>成交价格）</td>
<td></td>
</tr>
<tr>
<td>trade_fee</td>
<td>true</td>
<td>decimal</td>
<td>成交手续费</td>
<td></td>
</tr>
<tr>
<td>role</td>
<td>true</td>
<td>string</td>
<td>taker或maker</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/trades&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
</tbody></table>
<h2 id='dd332a7a9c'>获取合约当前未成交委托</h2><h3 id='30fd4ed55b-18'>示例</h3>
<ul>
<li>POST <code>linear-swap-api/v1/swap_openorders</code>  </li>
</ul>
<h3 id='1f9ac54b15-45'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>页码，不填默认第1页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>页长，不填默认20，不得多于50</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"orders"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"volume"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="s2">"price"</span><span class="p">:</span><span class="mi">11110</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="s2">"opponent"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"offset"</span><span class="p">:</span><span class="s2">"open"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="mi">756216542115532800</span><span class="p">,</span><span class="w">
                </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="mi">1600337673460</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_avg_price"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="mf">222.2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"profit"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_source"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="s2">"756216542115532800"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"liquidation_type"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"canceled_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1600393389518</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-42'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true <img width=250/></td>
<td>string</td>
<td>请求处理结果</td>
<td><img width=1100/></td>
</tr>
<tr>
<td>&lt;dict&gt;(属性名称: data)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;orders&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>委托价格</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>&quot;limit&quot;:限价，&quot;opponent&quot;:对手价，&quot;post_only&quot;:只做maker单,post only下单只受用户持仓数量限制，&quot;lightning&quot;:闪电平仓，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档，&quot;fok&quot;:FOK订单，&quot;ioc&quot;:IOC订单, &quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;lightning_ioc&quot;: 闪电平仓-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;lightning_fok&quot;：闪电平仓-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型，1:报单 、 2:撤单 、 3:强平、4:交割</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
<td></td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>订单ID，字符串类型</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>long</td>
<td>客户订单ID</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>订单创建时间</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交数量</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交总金额</td>
<td></td>
</tr>
<tr>
<td>fee</td>
<td>true</td>
<td>decimal</td>
<td>手续费</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_avg_price</td>
<td>true</td>
<td>decimal</td>
<td>成交均价</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td>(3未成交 4部分成交 5部分成交已撤单 6全部成交 7已撤单)</td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td></td>
</tr>
<tr>
<td>liquidation_type</td>
<td>true</td>
<td>string</td>
<td>强平类型</td>
<td></td>
</tr>
<tr>
<td>canceled_at</td>
<td>true</td>
<td>long</td>
<td>撤单时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/orders&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/dict&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
</tbody></table>
<h2 id='60625f16b4'>获取合约历史委托</h2><h3 id='30fd4ed55b-19'>示例</h3>
<ul>
<li>POST <code>linear-swap-api/v1/swap_hisorders</code> </li>
</ul>
<h3 id='1f9ac54b15-46'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>支持大小写,&quot;BTC-USDT&quot; ...</td>
<td></td>
</tr>
<tr>
<td>trade_type</td>
<td>true</td>
<td>int</td>
<td>交易类型</td>
<td>0:全部,1:买入开多,2: 卖出开空,3: 买入平空,4: 卖出平多,5: 卖出强平,6: 买入强平,7:交割平多,8: 交割平空, 11:减仓平多，12:减仓平空</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>int</td>
<td>类型</td>
<td>1:所有订单,2:结束状态的订单</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>订单状态</td>
<td>可查询多个状态，&quot;3,4,5&quot; , 0:全部,3:未成交, 4: 部分成交,5: 部分成交已撤单,6: 全部成交,7:已撤单</td>
<td></td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>int</td>
<td>日期</td>
<td>可随意输入正整数，如果参数超过90则默认查询90天的数据</td>
<td></td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td></td>
<td>页码，不填默认第1页</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>每页条数，不填默认20</td>
<td>20</td>
<td>不得多于50</td>
</tr>
</tbody></table>
<h3 id='9852b06629-7'>备注：</h3>
<ul>
<li>所有已撤销且无成交的API限价订单记录只保留24小时。</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">758645826126630912</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">10329.14</span><span class="p">,</span><span class="w">
                </span><span class="s2">"create_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1600916859890</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">103.2914</span><span class="p">,</span><span class="w">
                </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_avg_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"758645826126630912"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"liquidation_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1600917898909</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-43'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status     <img width=250/></td>
<td>true <img width=250/></td>
<td>string <img width=250/></td>
<td>请求处理结果 <img width=1000/></td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;orders&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>string格式的订单ID</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>委托价格</td>
<td></td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>int</td>
<td>订单报价类型</td>
<td>1：限价单（limit），2：市价单（market），3：对手价（opponent），4：闪电平仓（lightning），5：计划委托（trigger），6：post_only ，7：最优5档（optimal_5） ，8：最优10档（optimal_10） ，9：最优20档（optimal_20），10：FOK ，11：IOC ，12：对手价_IOC（opponent_ioc），13：闪电平仓_IOC（lightning_ioc），14：最优5档_IOC（optimal_5_ioc），15：最优10档_IOC（optimal_10_ioc），16：最优20档_IOC（optimal_20_ioc），17：对手价_FOK（opponent_fok），18：闪电平仓_FOK（lightning_fok），19：最优5档_FOK（optimal_5_fok），40：最优10档_FOK（optimal_10_fok），41：最优20档_FOK（optimal_20_fok）。</td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交数量</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交总金额，即sum（每一笔成交张数<em>合约面值</em>成交价格）</td>
<td></td>
</tr>
<tr>
<td>fee</td>
<td>true</td>
<td>decimal</td>
<td>手续费</td>
<td></td>
</tr>
<tr>
<td>trade_avg_price</td>
<td>true</td>
<td>decimal</td>
<td>成交均价</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型</td>
<td>1:报单 、 2:撤单 、 3:强平、4:交割</td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td>（&quot;USDT&quot;...）</td>
</tr>
<tr>
<td>liquidation_type</td>
<td>true</td>
<td>string</td>
<td>强平类型</td>
<td>0:非强平类型，1：多空轧差， 2:部分接管，3：全部接管</td>
</tr>
<tr>
<td>&lt;/orders&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
</tbody></table>
<h2 id='b40b26dbfd'>获取历史成交记录</h2><h3 id='69fffaf196-2'>实例</h3>
<ul>
<li>POST <code>linear-swap-api/v1/swap_matchresults</code></li>
</ul>
<h3 id='1f9ac54b15-47'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>trade_type</td>
<td>true</td>
<td>int</td>
<td>交易类型</td>
<td>0:全部,1:买入开多,2: 卖出开空,3: 买入平空,4: 卖出平多,5: 卖出强平,6: 买入强平</td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>int</td>
<td>日期</td>
<td>可随意输入正整数，如果参数超过90则默认查询90天的数据</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>页码，不填默认第1页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"match_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13674</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">758645772984799232</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trade_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">10329.11</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mf">103.2911</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trade_fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.05164555</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"offset_profitloss"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"create_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1600916848319</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Taker"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"758645772984799232"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13674-758645772984799232-1"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1600918927589</span><span class="w">
    </span><span class="p">}</span><span class="w">              

</span></code></pre><h3 id='70bdef7e25-44'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true <img width=250/></td>
<td>string</td>
<td>请求处理结果</td>
<td><img width=1000/></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;trades&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>全局唯一的交易标识</td>
<td></td>
</tr>
<tr>
<td>match_id</td>
<td>true</td>
<td>long</td>
<td>撮合结果id, 与订单ws推送orders.$contract_code推送结果中的trade_id是相同的，非唯一，可重复，注意：一个撮合结果代表一个taker单和N个maker单的成交记录的集合，如果一个taker单吃了N个maker单，那这N笔trade都是一样的撮合结果</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>string格式的订单ID</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td></td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交数量</td>
<td></td>
</tr>
<tr>
<td>trade_price</td>
<td>true</td>
<td>decimal</td>
<td>成交价格</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交金额（成交数量<em>合约面值</em>成交价格）</td>
<td></td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>long</td>
<td>成交时间</td>
<td></td>
</tr>
<tr>
<td>offset_profitloss</td>
<td>true</td>
<td>decimal</td>
<td>平仓盈亏</td>
<td></td>
</tr>
<tr>
<td>trade_fee</td>
<td>true</td>
<td>decimal</td>
<td>成交手续费</td>
<td></td>
</tr>
<tr>
<td>role</td>
<td>true</td>
<td>string</td>
<td>taker或maker</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td>（&quot;USDT&quot;...）</td>
</tr>
<tr>
<td>&lt;/trades&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data\</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-14'>备注</h3>
<ul>
<li>如果不传page_index和page_size，默认只查第一页的20条数据，详情请看参数说明</li>
</ul>
<h2 id='669c2a2e3d'>闪电平仓下单</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_lightning_close_position</code></li>
</ul>
<h3 id='1f9ac54b15-48'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;...</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量（张）</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>“buy”:买，“sell”:卖</td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>long</td>
<td>（API）客户自己填写和维护，必须保持唯一</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>false</td>
<td>string</td>
<td>订单报价类型</td>
<td>不填，默认为“闪电平仓”，&quot;lightning&quot;：闪电平仓，&quot;lightning_ioc&quot;：闪电平仓-IOC，&quot;lightning_fok&quot;：闪电平仓-FOK</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9861634</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9861634"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9086</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">158797866555</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-45'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; :成功, &quot;error&quot;：失败</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td>字典</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID[用户级别的，不同的用户order_id可能相同]</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>String类型订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>Long</td>
<td>用户自己的订单id</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>错误信息：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">20012</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid contract_code"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h2 id='97a9bd626d'>合约计划委托下单</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_trigger_order</code></li>
</ul>

<blockquote>
<p>请求示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trigger_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ge"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1111</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
    </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='1f9ac54b15-49'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT</td>
</tr>
<tr>
<td>trigger_type</td>
<td>true</td>
<td>string</td>
<td>触发类型： ge大于等于(触发价比最新价大)；le小于(触发价比最新价小)</td>
<td></td>
</tr>
<tr>
<td>trigger_price</td>
<td>true</td>
<td>decimal</td>
<td>触发价，精度超过最小变动单位会报错</td>
<td></td>
</tr>
<tr>
<td>order_price</td>
<td>false</td>
<td>decimal</td>
<td>委托价，精度超过最小变动单位会报错</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>false</td>
<td>string</td>
<td>委托类型： 不填默认为limit; 限价：limit ，最优5档：optimal_5，最优10档：optimal_10，最优20档：optimal_20</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量(张)</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>buy:买 sell:卖</td>
<td></td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>open:开 close:平</td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>false</td>
<td>int</td>
<td>开仓必须填写，平仓可以不填。杠杆倍数[开仓若有10倍多单，就不能再下20倍多单]</td>
<td></td>
</tr>
</tbody></table>
<h4 id='9852b06629-8'>备注：</h4>
<ul>
<li>optimal_5：最优5档、optimal_10：最优10档、optimal_20：最优20档下单order_price价格参数不用传，&quot;limit&quot;:限价需要传价格。</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547521135713</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-46'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td>成功处理返回的数据</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>int</td>
<td>订单ID : 用户级别的，不同的用户order_id可能相同</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>字符串类型的订单ID</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>错误示例：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1014</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"合约不存在"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547519608126</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h2 id='0d42beab34'>合约计划委托撤单</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_trigger_cancel</code></li>
</ul>
<h3 id='1f9ac54b15-50'>请求参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>string</td>
<td>用户订单ID（多个订单ID中间以&quot;,&quot;分隔,一次最多允许撤消20个订单 ）</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="err">正确：</span><span class="w">
</span><span class="err">多笔订单返回结果(成功订单ID</span><span class="p">,</span><span class="err">失败订单ID)</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"order_id"</span><span class="p">:</span><span class="s2">"161251"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200415</span><span class="p">,</span><span class="w">
        </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid symbol"</span><span class="w">
       </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="s2">"successes"</span><span class="p">:</span><span class="s2">"161256,1344567"</span><span class="w">
   </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="err">错误：</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">20012</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid symbol"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-47'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td>成功处理返回的数据</td>
<td></td>
</tr>
<tr>
<td>&lt;errors&gt;</td>
<td>true</td>
<td>object array</td>
<td>订单失败信息</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>false</td>
<td>string</td>
<td>订单id</td>
<td></td>
</tr>
<tr>
<td>err_code</td>
<td>false</td>
<td>int</td>
<td>订单失败错误码</td>
<td></td>
</tr>
<tr>
<td>err_msg</td>
<td>false</td>
<td>string</td>
<td>订单失败信息</td>
<td></td>
</tr>
<tr>
<td>&lt;/errors&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>successes</td>
<td>true</td>
<td>string</td>
<td>成功的订单，多个订单号以“,”相连</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='3d2471d520'>合约计划委托全部撤单</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_trigger_cancelall</code></li>
</ul>
<h3 id='1f9ac54b15-51'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"order_id"</span><span class="p">:</span><span class="s2">"161251"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200415</span><span class="p">,</span><span class="w">
        </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid symbol"</span><span class="w">
       </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="s2">"successes"</span><span class="p">:</span><span class="s2">"161256,1344567"</span><span class="w">
   </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-48'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td>成功处理返回的数据</td>
<td></td>
</tr>
<tr>
<td>&lt;errors&gt;</td>
<td>true</td>
<td>object array</td>
<td>订单失败信息</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>false</td>
<td>string</td>
<td>订单id</td>
<td></td>
</tr>
<tr>
<td>err_code</td>
<td>false</td>
<td>int</td>
<td>订单失败错误码</td>
<td></td>
</tr>
<tr>
<td>err_msg</td>
<td>false</td>
<td>string</td>
<td>订单失败信息</td>
<td></td>
</tr>
<tr>
<td>&lt;/errors&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>successes</td>
<td>true</td>
<td>string</td>
<td>成功的订单，多个订单号以“,”相连</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>错误示例：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">20012</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid symbol"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h2 id='b5280a27b3'>获取计划委托当前委托</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_trigger_openorders</code></li>
</ul>
<h3 id='1f9ac54b15-52'>请求参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>第几页，不填默认第一页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="err">正确：</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trigger_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ge"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10387</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10367</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1600920155563</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1600920158872</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="err">错误：</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">20012</span><span class="p">,</span><span class="w">
  </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid symbol"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-49'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td>成功处理返回的数据</td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;orders&gt;</td>
<td>true</td>
<td>object array</td>
<td>订单信息</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>合约品种</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
</tr>
<tr>
<td>trigger_type</td>
<td>true</td>
<td>string</td>
<td>触发类型： <code>ge</code>大于等于；<code>le</code>小于等于</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型：1、报单  2、撤单</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>订单方向 [买(buy),卖(sell)]</td>
<td></td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平标志 [开(open),平(close)]</td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>计划委托单订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>字符串类型的订单ID</td>
<td></td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>来源</td>
<td></td>
</tr>
<tr>
<td>trigger_price</td>
<td>true</td>
<td>decimal</td>
<td>触发价</td>
<td></td>
</tr>
<tr>
<td>order_price</td>
<td>true</td>
<td>decimal</td>
<td>委托价</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>订单创建时间</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型  限价：limit ，最优5档：optimal_5，最优10档：optimal_10，最优20档：optimal_20</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态：1:准备提交、2:已提交、3:报单中、8：撤单未找到、9：撤单中、10：失败&#39;</td>
<td></td>
</tr>
<tr>
<td>&lt;/orders&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='37aeb9f3bd'>获取计划委托历史委托</h2>
<ul>
<li>POST <code>linear-swap-api/v1/swap_trigger_hisorders</code></li>
</ul>
<h3 id='1f9ac54b15-53'>请求参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
<td>BTC-USDT</td>
</tr>
<tr>
<td>trade_type</td>
<td>true</td>
<td>int</td>
<td>交易类型</td>
<td></td>
<td>0:全部,1:买入开多,2: 卖出开空,3: 买入平空,4: 卖出平多；后台是根据该值转换为offset和direction，然后去查询的； 其他值无法查询出结果</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>订单状态</td>
<td></td>
<td>多个以英文逗号隔开，计划委托单状态：0:全部（表示全部结束状态的订单）、4:已委托、5:委托失败、6:已撤单</td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>int</td>
<td>日期</td>
<td></td>
<td>可随意输入正整数，如果参数超过90则默认查询90天的数据</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>页码，不填默认第1页</td>
<td>1</td>
<td>第几页，不填默认第一页</td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td>20</td>
<td>不填默认20，不得多于50</td>
</tr>
</tbody></table>
<h4 id='9852b06629-9'>备注：</h4>
<ul>
<li>默认查询 已完成订单（status对应状态范围 4、5、6）；</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="err">正确：</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trigger_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ge"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"relation_order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10387</span><span class="p">,</span><span class="w">
                </span><span class="s2">"triggered_price"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10367</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1600920075353</span><span class="p">,</span><span class="w">
                </span><span class="s2">"triggered_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_insert_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"canceled_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1600920083590</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fail_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fail_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1600920651099</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="err">错误：</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">20012</span><span class="p">,</span><span class="w">
  </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid symbol"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-50'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td>成功处理返回的数据</td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;orders&gt;</td>
<td>true</td>
<td>object array</td>
<td>订单信息</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>合约品种</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
</tr>
<tr>
<td>trigger_type</td>
<td>true</td>
<td>string</td>
<td>触发类型： <code>ge</code>大于等于；<code>le</code>小于等于</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型：1、报单  2、撤单</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>订单方向 [买(buy),卖(sell)]</td>
<td></td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平标志 [开(open),平(close)]</td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>计划委托单订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>字符串类型的订单ID</td>
<td></td>
</tr>
<tr>
<td>relation_order_id</td>
<td>true</td>
<td>string</td>
<td>该字段为关联限价单的关联字段，是t_trigger_order 表中的order_id 字段值，关联t_order表中的user_order_id 值，未触发前数值为-1</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型 限价：limit ，最优5档：optimal_5，最优10档：optimal_10，最优20档：optimal_20</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态(4:报单成功、5:报单失败、6:已撤单 )</td>
<td></td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>来源</td>
<td></td>
</tr>
<tr>
<td>trigger_price</td>
<td>true</td>
<td>decimal</td>
<td>触发价</td>
<td></td>
</tr>
<tr>
<td>triggered_price</td>
<td>true</td>
<td>decimal</td>
<td>被触发时的价格</td>
<td></td>
</tr>
<tr>
<td>order_price</td>
<td>true</td>
<td>decimal</td>
<td>委托价</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>订单创建时间</td>
<td></td>
</tr>
<tr>
<td>triggered_at</td>
<td>true</td>
<td>long</td>
<td>触发时间</td>
<td></td>
</tr>
<tr>
<td>order_insert_at</td>
<td>true</td>
<td>long</td>
<td>下order单时间</td>
<td></td>
</tr>
<tr>
<td>canceled_at</td>
<td>true</td>
<td>long</td>
<td>撤单时间</td>
<td></td>
</tr>
<tr>
<td>fail_code</td>
<td>true</td>
<td>int</td>
<td>被触发时下order单失败错误码</td>
<td></td>
</tr>
<tr>
<td>fail_reason</td>
<td>true</td>
<td>string</td>
<td>被触发时下order单失败原因</td>
<td></td>
</tr>
<tr>
<td>&lt;/orders&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h1 id='usdt-2'>USDT本位永续合约划转接口</h1><h2 id='usdt-3'>现货-USDT本位永续账户间进行资金的划转</h2><h3 id='69fffaf196-3'>实例</h3>
<ul>
<li>POST <code>https://api.huobi.pro/v2/account/transfer</code></li>
</ul>
<h3 id='e0361480e3-15'>备注</h3>
<p>此接口用户币币现货账户与USDT本位永续合约账户之间的资金划转。</p>

<p>该接口的访问频次的限制为1分钟10次。</p>

<p>注意：请求地址为火币Global地址</p>

<p>现货与USDT本位永续合约划转接口，所有划转的币的精度是8位小数。</p>
<h3 id='1f9ac54b15-54'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>true</td>
<td>string</td>
<td>来源业务线账户，取值：spot(币币)、linear-swap(正向永续合约)</td>
<td>e.g. spot</td>
</tr>
<tr>
<td>to</td>
<td>true</td>
<td>string</td>
<td>目标业务线账户，取值：spot(币币)、linear-swap(正向永续合约)</td>
<td>e.g. linear-swap</td>
</tr>
<tr>
<td>currency</td>
<td>true</td>
<td>string</td>
<td>币种,支持大小写</td>
<td>e.g. usdt</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>划转金额</td>
<td></td>
</tr>
<tr>
<td>margin-account</td>
<td>true</td>
<td>string</td>
<td>保证金账户</td>
<td>e.g. btc-usdt、eth-usdt</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight plaintext"><code> 正确的返回：
{
    "status": "ok",
    "data":56656,
 }
错误的返回：
{
    "status": "error",
    "data":null,
    "err-code":"dw-account-transfer-error",
    "err-msg":"由于其他服务不可用导致的划转失败"
}

</code></pre><h3 id='70bdef7e25-51'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>状态</td>
<td>ok, error</td>
</tr>
<tr>
<td>data</td>
<td>true</td>
<td>long</td>
<td>生成的划转订单id</td>
<td></td>
</tr>
<tr>
<td>err-code</td>
<td>true</td>
<td>string</td>
<td>错误码</td>
<td>具体错误码请见列表</td>
</tr>
<tr>
<td>err-msg</td>
<td>true</td>
<td>string</td>
<td>错误消息</td>
<td>具体错误码请见列表</td>
</tr>
</tbody></table>
<h2 id='86f9c9c3d1'>响应码列表</h2>
<table><thead>
<tr>
<th>响应码</th>
<th>中文说明</th>
<th>英文说明</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>成功</td>
<td>Succeed</td>
</tr>
<tr>
<td>403</td>
<td>拒绝访问</td>
<td>Access denied</td>
</tr>
<tr>
<td>404</td>
<td>访问的资源不存在</td>
<td>The resource being accessed does not exist</td>
</tr>
<tr>
<td>429</td>
<td>太多的请求</td>
<td>too many requests</td>
</tr>
<tr>
<td>500</td>
<td>系统错误</td>
<td>System error</td>
</tr>
<tr>
<td>501</td>
<td>无效请求</td>
<td>Invalid request</td>
</tr>
<tr>
<td>502</td>
<td>无效参数</td>
<td>Invalid parameter</td>
</tr>
<tr>
<td>504</td>
<td>缺少参数</td>
<td>Lack of parameter</td>
</tr>
<tr>
<td>512</td>
<td>拒绝匿名请求</td>
<td>Reject anonymous requests</td>
</tr>
<tr>
<td>513</td>
<td>无效的签名</td>
<td>Invalid signature</td>
</tr>
<tr>
<td>10000</td>
<td>币种不存在</td>
<td>Currency does not exist</td>
</tr>
<tr>
<td>10001</td>
<td>不支持同业务划转</td>
<td>Does not support  transfer within single business</td>
</tr>
<tr>
<td>10002</td>
<td>不支持此划转业务</td>
<td>This transfer is not supported</td>
</tr>
<tr>
<td>10003</td>
<td>from方check校验不通过</td>
<td>check rejected by the from party</td>
</tr>
<tr>
<td>10004</td>
<td>to方check校验不通过</td>
<td>to check rejected by the to party</td>
</tr>
<tr>
<td>10005</td>
<td>个人账户平账检查不通过</td>
<td>Personal account balance check failed</td>
</tr>
<tr>
<td>10006</td>
<td>系统账户检查失败</td>
<td>System account check failed</td>
</tr>
<tr>
<td>10008</td>
<td>黑名单校验不通过</td>
<td>Blacklist check failed</td>
</tr>
<tr>
<td>10009</td>
<td>用户有未安全上账资产，禁止划转</td>
<td>No transfer is allowed if the user has any asset that has not been charged to the account safely</td>
</tr>
<tr>
<td>10010</td>
<td>用户被锁定</td>
<td>User locked</td>
</tr>
<tr>
<td>10011</td>
<td>24小时内修改过安全策略</td>
<td>Security policy has been modified within 24 hours</td>
</tr>
<tr>
<td>20001</td>
<td>OTC 人脸识别</td>
<td>OTC Face Recognition</td>
</tr>
<tr>
<td>1030</td>
<td>服务异常，请稍后再试</td>
<td>Abnormal service. Please try again later.</td>
</tr>
<tr>
<td>1010</td>
<td>用户不存在</td>
<td>Abnormal service. Please try again later.</td>
</tr>
<tr>
<td>1012</td>
<td>账户不存在</td>
<td>Abnormal service. Please contact customer service.</td>
</tr>
<tr>
<td>1013</td>
<td>合约品种不存在</td>
<td>This contract type doesn&#39;t exist.</td>
</tr>
<tr>
<td>1018</td>
<td>主账号不存在</td>
<td>Main account doesn&#39;t exist.</td>
</tr>
<tr>
<td>1089</td>
<td>{0}合约暂时限制划转,请联系客服</td>
<td>{0} contract is restricted of transfer.  Please contact customer service.</td>
</tr>
<tr>
<td>1102</td>
<td>您没有转入权限,请联系客服</td>
<td>Unable to transfer in currently. Please contact customer service.</td>
</tr>
<tr>
<td>1103</td>
<td>您没有转出权限,请联系客服</td>
<td>Unable to transfer out currently. Please contact customer service.</td>
</tr>
<tr>
<td>1106</td>
<td>合约状态异常,暂时无法划转</td>
<td>Abnormal contracts status. Can’t transfer.</td>
</tr>
<tr>
<td>1111</td>
<td>子账号没有转入权限,请联系客服</td>
<td>Sub-account doesn&#39;t own the permissions to transfer in. Please contact customer service.</td>
</tr>
<tr>
<td>1112</td>
<td>子账号没有转出权限,请联系客服</td>
<td>sub-account doesn&#39;t own the permissions to transfer out. Please contact customer service.</td>
</tr>
<tr>
<td>1114</td>
<td>子账号没有划转权限,请登录主账号授权</td>
<td>The sub-account does not have transfer permissions. Please login main account to authorize.</td>
</tr>
<tr>
<td>1300</td>
<td>划转失败</td>
<td>Transfer failed.</td>
</tr>
<tr>
<td>1301</td>
<td>可划转余额不足</td>
<td>Insufficient amount available.</td>
</tr>
<tr>
<td>1302</td>
<td>系统划转错误</td>
<td>Transfer failed.</td>
</tr>
<tr>
<td>1303</td>
<td>单笔转出的数量不能低于{0}{1}</td>
<td>The single transfer-out amount must be no less than {0}{1}.</td>
</tr>
<tr>
<td>1304</td>
<td>单笔转出的数量不能高于{0}{1}</td>
<td>The single transfer-out amount must be no more than {0}{1}.</td>
</tr>
<tr>
<td>1305</td>
<td>单笔转入的数量不能低于{0}{1}</td>
<td>The single transfer-in amount must be no less than {0}{1}.</td>
</tr>
<tr>
<td>1306</td>
<td>单笔转入的数量不能高于{0}{1}</td>
<td>The single transfer-in amount must be no more than {0}{1}.</td>
</tr>
<tr>
<td>1307</td>
<td>您当日累计转出量超过{0}{1}, 暂无法转出</td>
<td>Your accumulative transfer-out amount is over the daily maximum, {0}{1}. You can&#39;t transfer out for the time being.</td>
</tr>
<tr>
<td>1308</td>
<td>您当日累计转入量超过{0}{1}, 暂无法转入</td>
<td>Your accumulative transfer-in amount is over the daily maximum, {0}{1}. You can&#39;t transfer in for the time being.</td>
</tr>
<tr>
<td>1309</td>
<td>您当日累计净转出量超过{0}{1}, 暂无法转出</td>
<td>Your accumulative net transfer-out amount is over the daily maximum, {0}{1}. You can&#39;t transfer out for the time being.</td>
</tr>
<tr>
<td>1310</td>
<td>您当日累计净转入量超过{0}{1}, 暂无法转入</td>
<td>Your accumulative net transfer-in amount is over the daily maximum, {0}{1}. You can&#39;t transfer in for the time being.</td>
</tr>
<tr>
<td>1311</td>
<td>超过平台当日累计最大转出量限制, 暂无法转出</td>
<td>The platform&#39;s accumulative transfer-out amount is over the daily maximum. You can&#39;t transfer out for the time being.</td>
</tr>
<tr>
<td>1312</td>
<td>超过平台当日累计最大转入量限制, 暂无法转入</td>
<td>The platform&#39;s accumulative transfer-in amount is over the daily maximum. You can&#39;t transfer in for the time being.</td>
</tr>
<tr>
<td>1313</td>
<td>超过平台当日累计最大净转出量限制, 暂无法转出</td>
<td>The platform&#39;s accumulative net transfer-out amount is over the daily maximum. You can&#39;t transfer out for the time being.</td>
</tr>
<tr>
<td>1314</td>
<td>超过平台当日累计最大净转入量限制, 暂无法转入</td>
<td>The platform&#39;s accumulative net transfer-in amount is over the daily maximum. You can&#39;t transfer in for the time being.</td>
</tr>
<tr>
<td>1315</td>
<td>划转类型错误</td>
<td>Wrong transfer type.</td>
</tr>
<tr>
<td>1316</td>
<td>划转冻结失败</td>
<td>Failed to freeze the transfer.</td>
</tr>
<tr>
<td>1317</td>
<td>划转解冻失败</td>
<td>Failed to unfreeze the transfer.</td>
</tr>
<tr>
<td>1318</td>
<td>划转确认失败</td>
<td>Failed to confirm the transfer.</td>
</tr>
<tr>
<td>1319</td>
<td>查询可划转金额失败</td>
<td>Failed to acquire the available transfer amount.</td>
</tr>
<tr>
<td>1320</td>
<td>此合约在非交易状态中, 无法进行系统划</td>
<td>The contract status is abnormal. Transfer is unavailable temporarily.</td>
</tr>
<tr>
<td>1321</td>
<td>划转失败, 请稍后重试或联系客服</td>
<td>Transfer failed. Please try again later or contact customer service.</td>
</tr>
<tr>
<td>1322</td>
<td>划转金额必须大于0</td>
<td>Invalid amount. Must be more than 0.</td>
</tr>
<tr>
<td>1323</td>
<td>服务异常, 划转失败, 请稍后再试</td>
<td>Abnormal service, transfer failed. Please try again later.</td>
</tr>
<tr>
<td>1327</td>
<td>无划转权限, 划转失败, 请联系客服</td>
<td>No transfer permission, transfer failed, please contact customer service.</td>
</tr>
<tr>
<td>1328</td>
<td>无划转权限, 划转失败, 请联系客服</td>
<td>No transfer permission, transfer failed, please contact customer service.</td>
</tr>
<tr>
<td>1329</td>
<td>无划转权限, 划转失败, 请联系客服</td>
<td>No transfer permission, transfer failed, please contact customer service.</td>
</tr>
<tr>
<td>1330</td>
<td>无划转权限, 划转失败, 请联系客服</td>
<td>No transfer permission, transfer failed, please contact customer service.</td>
</tr>
<tr>
<td>1331</td>
<td>超出划转精度限制(8位), 请修改后操作</td>
<td>Exceeds limit of transfer accuracy (8 digits). Please modify it.</td>
</tr>
</tbody></table>
<h1 id='websocket'>合约Websocket简介</h1><h2 id='14f70b1746-2'>接口列表</h2>
<table><thead>
<tr>
<th>权限类型</th>
<th>接口数据类型</th>
<th>请求方法</th>
<th>类型</th>
<th>描述</th>
<th>需要验签</th>
</tr>
</thead><tbody>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.kline.$period</td>
<td>sub</td>
<td>订阅 KLine 数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.kline.$period</td>
<td>req</td>
<td>请求 KLine 数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.depth.$type</td>
<td>sub</td>
<td>订阅 Market Depth 数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.depth.size_${size}.high_freq</td>
<td>sub</td>
<td>订阅 Market Depth增量推送数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.bbo</td>
<td>sub</td>
<td>买一卖一逐笔行情推送</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.detail</td>
<td>sub</td>
<td>订阅 Market detail 数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.trade.detail</td>
<td>req</td>
<td>请求 Trade detail 数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.trade.detail</td>
<td>sub</td>
<td>订阅 Trade Detail 数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.basis.$period.$basis_price_type</td>
<td>sub</td>
<td>订阅基差数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.basis.$period.$basis_price_type</td>
<td>req</td>
<td>请求基差数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.premium_index.$period</td>
<td>sub</td>
<td>订阅溢价指数K线数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.premium_index.$period</td>
<td>req</td>
<td>请求溢价指数K线数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.estimated_rate.$period</td>
<td>sub</td>
<td>订阅预测资金费率K线数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.estimated_rate.$period</td>
<td>req</td>
<td>请求预测资金费率K线数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>public.$contract_code.liquidation_orders</td>
<td>sub</td>
<td>订阅强平订单数据（免鉴权）</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>public.$contract_code.funding_rate</td>
<td>sub</td>
<td>订阅资金费率变动数据（免鉴权）</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>public.$contract_code.contract_info</td>
<td>sub</td>
<td>订阅合约信息变动数据（免鉴权）</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>orders.$contract_code</td>
<td>sub</td>
<td>订阅订单成交数据</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>资产接口</td>
<td>accounts.$contract_code</td>
<td>sub</td>
<td>订阅资产变动数据</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>资产接口</td>
<td>positions.$contract_code</td>
<td>sub</td>
<td>订阅持仓变动更新数据</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>matchOrders.$contract_code</td>
<td>sub</td>
<td>订阅撮合订单成交数据</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>trigger_order.$contract_code</td>
<td>sub</td>
<td>订阅计划委托订单更新ws推送</td>
<td>是</td>
</tr>
</tbody></table>
<h2 id='af44fd2dcc'>合约订阅地址</h2>
<!--
合约站行情请求以及订阅地址为：wss://api.hbdm.com/linear-swap-ws

合约站订单推送订阅地址：wss://api.hbdm.com/linear-swap-notification

合约站指数K线及基差数据订阅地址：wss://api.hbdm.com/ws_index

合约站行情请求以及订阅地址为：wss://api.btcgateway.pro/linear-swap-ws

合约站订单推送订阅地址：wss://api.btcgateway.pro/linear-swap-notification

合约站指数K线及基差数据订阅地址：wss://api.btcgateway.pro/ws_index
-->
<h3 id='9852b06629-10'>备注：</h3>
<ul>
<li>USDT本位永续合约正在真币内测，您可以发送UID与服务器IP地址到dm_mm@huobi.com 申请内测。</li>
</ul>

<p>如果对合约订单推送订阅有疑问，可以参考 <a href='https://docs.huobigroup.com/docs/usdt_swap/v1/cn/#2cff7db524'> Demo </a></p>
<h2 id='4977e9e52a-2'>访问次数限制</h2>
<p>公开行情接口和用户私有接口都有访问次数限制</p>

<ul>
<li><p>普通用户，需要密钥的私有接口，每个UID 3秒最多30次请求(该UID的所有币种的合约的所有私有接口共享3秒30次的额度)</p></li>
<li><p>其他非行情类的公开接口，比如获取指数信息，限价信息，交割结算、平台持仓信息等，所有用户都是每个IP3秒最多120次请求（所有该IP的非行情类的公开接口请求共享3秒120次的额度）</p></li>
<li><p>行情类的公开接口，比如：获取K线数据、获取聚合行情、市场行情、获取行情深度数据、获取溢价指数K线、获取实时预测资金费率k线，获取基差数据、获取市场最近成交记录：</p>

<p>（1） restful接口：同一个IP,  1秒最多800个请求 </p>

<p>（2）  websocket：req请求，同一时刻最多请求50次；sub请求，无限制，服务器主动推送数据</p></li>
<li><p>WebSocket私有订单成交推送接口(需要API KEY验签)</p>

<p>一个UID最多同时建立30个私有订单推送WS链接。该用户在一个品种(包含该品种的所有周期的合约)上，仅需要维持一个订单推送WS链接即可。</p>

<p>注意: 订单推送WS的限频，跟用户RESTFUL私有接口的限频是分开的，相互不影响。</p></li>
<li><p>websocket 1秒同时最多发40个sub请求。</p></li>
</ul>

<p>api接口response中的header返回以下字段</p>

<ul>
<li><p>ratelimit-limit： 单轮请求数上限，单位：次数</p></li>
<li><p>ratelimit-interval：请求数重置的时间间隔，单位：毫秒</p></li>
<li><p>ratelimit-remaining：本轮剩余可用请求数，单位：次数</p></li>
<li><p>ratelimit-reset：请求数上限重置时间，单位：毫秒 </p></li>
</ul>
<h1 id='websocket-2'>WebSocket心跳以及鉴权接口</h1><h2 id='472585d15d'>市场行情心跳</h2>
<ul>
<li>WebSocket Server 发送心跳：</li>
</ul>

<p><code>{&quot;ping&quot;: 18212558000}</code></p>

<ul>
<li>WebSocket Client 应该返回：</li>
</ul>

<p><code>{&quot;pong&quot;: 18212558000}</code></p>

<p>注：WebSocket Client 和 WebSocket Server 建立连接之后，WebSocket Server 每隔 <code>5s</code>（这个频率可能会变化） 会向 WebSocket Client 发起一次心跳，WebSocket Client 忽略心跳 5 次后，WebSocket Server 将会主动断开连接；WebSocket Client发送最近 2 次心跳message中的其中一个<code>ping</code>的值，WebSocket Server都会保持WebSocket连接。</p>
<h2 id='fdaa613443'>订单推送心跳</h2>
<ul>
<li>WebSocket API 支持单向心跳，Server 发起 ping message，Client 返回 pong message。 WebSocket Server 发送心跳:</li>
</ul>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;ping&quot;,</code></p>

<p><code>&quot;ts&quot;: &quot;1492420473058&quot;</code></p>

<p><code>}</code></p>

<ul>
<li>WebSocket Client 应该返回:</li>
</ul>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;pong&quot;</code></p>

<p><code>&quot;ts&quot;: &quot;1492420473058&quot;</code></p>

<p><code>}</code></p>
<h3 id='9852b06629-11'>备注：</h3>
<ul>
<li><p>&quot;pong&quot;操作返回数据里面的&quot;ts&quot;的值为&quot;ping&quot;推送收到的&quot;ts&quot;值</p></li>
<li><p>WebSocket Client 和 WebSocket Server 建⽴立连接之后，WebSocket Server 每隔 5s(这个频率可能会变化) 会向 WebSocket Client 发起⼀一次⼼心跳，WebSocket Client 忽略心跳 5 次后，WebSocket Server 将会主动断开连接。</p></li>
<li><p>异常情况WebSocket Server 会返回错误信息，比如：</p></li>
</ul>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;pong&quot;</code></p>

<p><code>&quot;ts&quot;: &quot;1492420473027&quot;,</code></p>

<p><code>&quot;err-code&quot;: 2011</code></p>

<p><code>&quot;err-msg&quot;: “详细出错信息”</code></p>

<p><code>}</code></p>
<h2 id='449fab721e'>订单推送访问地址</h2>
<!--
- 统一服务地址

  合约站订单推送订阅地址：wss://api.hbdm.com/linear-swap-notification
-->
<h3 id='9852b06629-12'>备注：</h3>
<ul>
<li>USDT本位永续合约正在真币内测，您可以发送UID与服务器IP地址到dm_mm@huobi.com 申请内测。<br></li>
</ul>

<p>正常ws请求连接不能同时超过30个</p>
<h3 id='7ee1785123'>数据压缩</h3>
<p>WebSocket API 返回的所有数据都进⾏了 GZIP 压缩，需要 client 在收到数据之后解压</p>
<h3 id='c64cd5458d'>请求与响应数据说明</h3>
<ul>
<li><p>字符编码：UTF-8</p></li>
<li><p>大小写敏感，包含所有参数名和返回值</p></li>
<li><p>数据类型：使用JSON传输数据</p></li>
<li><p>所有请求数据都有固定格式，具体接口说明文档中只会重点介绍非通用部分，</p></li>
</ul>

<blockquote>
<p>请求数据结构如下:</p>
</blockquote>
<pre class="highlight plaintext"><code>
   {
  "op": string, // 必填;Client 请求的操作类型(Server 会原样返回)，详细操作
  类型列列表请参考附录
  "cid": string, // 选填;当前请求唯一 ID(Client 自⽣成并保证本地唯一性，
  Server 会原样返回) 
  // 其余必填/可选字段
  }

</code></pre>
<blockquote>
<p>所有响应/推送数据都会以固定的结构返回，具体接口说明文档中只会重点介绍data部分，请求响应数据结构如下:</p>
</blockquote>
<pre class="highlight plaintext"><code>
  {
  "op": string, // 必填;本次响应 Client 请求的操作类型
  "cid": string, // 选填;Client 请求唯一 ID
  "ts": long, // 必填;Server 应答时本地时间戳
  "err-code": integer, // 必填;响应码，0 代表成功;非0 代表出错，详细响应码列表请参考错误码表。
  "err-msg": string, 只在出错情况下有此信息，表明详细的出错信息 
  "data": object // 选填;返回数据对象，请求处理成功时有效
  }

</code></pre>
<blockquote>
<p>推送数据结构如下:</p>
</blockquote>
<pre class="highlight plaintext"><code>
  {
  "op": "string", // 必填;Server 推送的操作类型，详细操作类型列表请参考附录
  "ts": long, // 必填;Server 推送时本地时间戳
  "data": object // 必填;返回数据对象
  }

</code></pre><h2 id='b1db8cc3ee'>服务方主动断开连接</h2>
<p>在建连和鉴权期间，如果出错，服务方会主动断开连接，在关闭之前推送数据结构如下,</p>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;close&quot;, // 表明是服务⽅方主动断开连接</code></p>

<p><code>&quot;ts&quot;: long   // Server 推送时本地时间戳</code></p>

<p><code>}</code></p>
<h2 id='47b397d5de'>服务方返回错误，但不断开连接</h2>
<p>鉴权成功后，在客户方提供非法Op或者某些内部错误的情况下，服务方会返回错误，但并不断开连接</p>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;error&quot;, // 表明是收到非法op或者内部错误</code></p>

<p><code>&quot;ts&quot;: long// Server 推送时本地时间戳</code></p>

<p><code>}</code></p>
<h2 id='authentication'>鉴权-Authentication</h2>
<p>用户自⼰在火币网⽣成Access Key和Secret Key，Secret Key由用户自⼰保存，⽤户需提供Access Key。目前关于 apikey 申请和修改，请在“账户 - API 管理 ” 创建新API Key 填写备注(可选择绑定 ip)点击创建。其中 Access Key 为 API 访问密钥，Secret Key 为用户对请求进⾏签名的密钥(仅申请时可见)。用户按规则生成签名(Signature)。 </p>

<p>交易功能 websocket 版本接⼝建立连接时首先要做鉴权操作，具体格式如下，</p>

<p>重要提示：这两个密钥与账号安全紧密相关，无论何时都请勿向其它人透露。 </p>
<h3 id='5d62f508ce'>鉴权请求数据格式</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;auth&quot;,</code></p>

<p><code>&quot;type&quot;: &quot;api&quot;,</code></p>

<p><code>&quot;AccessKeyId&quot;: &quot;e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx&quot;,</code></p>

<p><code>&quot;SignatureMethod&quot;: &quot;HmacSHA256&quot;,</code></p>

<p><code>&quot;SignatureVersion&quot;: &quot;2&quot;,</code></p>

<p><code>&quot;Timestamp&quot;: &quot;2017-05-11T15:19:30&quot;,</code></p>

<p><code>&quot;Signature&quot;: &quot;4F65x5A2bLyMWVQj3Aqp+B4w+ivaA7n5Oi2SuYtCJ9o=&quot;,</code></p>

<p><code>}</code></p>
<h3 id='d3461a6d5d'>鉴权请求数据格式说明</h3>
<table><thead>
<tr>
<th>字段名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>string</td>
<td>必填；操作名称，鉴权固定值为auth</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>必填；认证方式 api表示接口认证，ticket 表示终端认证</td>
</tr>
<tr>
<td>cid</td>
<td>string</td>
<td>选填；Client请求唯一ID</td>
</tr>
<tr>
<td>AccessKeyId</td>
<td>string</td>
<td>type的值为api时必填；API 访问密钥, 您申请的 APIKEY 中的 AccessKey</td>
</tr>
<tr>
<td>SignatureMethod</td>
<td>string</td>
<td>type的值为api时必填；签名方法, 用户计算签名的基于哈希的协议，此处使用 HmacSHA256</td>
</tr>
<tr>
<td>SignatureVersion</td>
<td>string</td>
<td>type的值为api时必填；签名协议的版本，此处使用 2</td>
</tr>
<tr>
<td>Timestamp</td>
<td>string</td>
<td>type的值为api时必填；时间戳, 您发出请求的时间 (UTC 时区) 。在查询请求中包含此值有助于防止第三方截取您的请求。如:2017-05-11T16:22:06。再次强调是 (UTC 时区)</td>
</tr>
<tr>
<td>Signature</td>
<td>string</td>
<td>type的值为api时必填；签名, 计算得出的值，用于确保签名有效和未被篡改</td>
</tr>
<tr>
<td>ticket</td>
<td>string</td>
<td>type的值为ticket时必填；登陆时返回</td>
</tr>
</tbody></table>
<h4 id='4c95618614-2'>注意：</h4>
<ul>
<li><p>为了减少已有用户的接入工作量，此处使用了与REST接口同样的签名算法进行鉴权。</p></li>
<li><p>请注意大小写</p></li>
<li><p>当type为api时，参数op，type，cid，Signature不参加签名计算</p></li>
<li><p>此处签名计算中请求方法固定值为<code>GET</code>,其余值请参考REST接口签名算法文档</p></li>
</ul>
<h4 id='e6916141d3'>步骤：</h4>
<p>示例例参数签名(Signature)计算过程如下，</p>

<ul>
<li><p>规范要计算签名的请求 因为使用 HMAC 进⾏签名计算时，使⽤不同内容计算得到的结果会完全
不同。所以在进⾏签名计算前，请先对请求进⾏规范化处理。</p></li>
<li><p>请求方法(GET 或 POST)，后面添加换行符 <code>\n</code> 。</p></li>
</ul>

<p><code>GET\n</code></p>

<ul>
<li>添加小写的访问地址，后面添加换行符<code>\n</code>。</li>
</ul>

<p><code>api.hbdm.com\n</code></p>

<ul>
<li>访问方法的路径，后面添加换行符<code>\n</code>。</li>
</ul>

<p><code>/linear-swap-notification\n</code></p>

<ul>
<li>按照ASCII码的顺序对参数名进行排序(使⽤ UTF-8 编码，且进⾏了 URI 编码，十六进制字符必须
大写，如‘:’会被编码为&#39;%3A&#39;，空格被编码为&#39;%20&#39;)。例如，下面是请求参数的原始顺序，进⾏过
编码后。</li>
</ul>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2017-05-11T15%3A19%3A30</code></p>

<ul>
<li><p>按照以上顺序，将各参数使用字符’&amp;’连接。 </p></li>
<li><p>组成最终的要进行签名计算的字符串如下:</p></li>
</ul>

<p>计算签名，将以下两个参数传入加密哈希函数: 要进行签名计算的字符串，进行签名的密钥(SecretKey) </p>

<p>得到签名计算结果并进行 Base64编码</p>

<p>将上述值作为参数Signature的取值添加到 API 请求中。 将此参数添加到请求时，必须将该值进⾏URI编码。</p>
<h3 id='1b742187b6'>鉴权应答数据格式说明</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>string</td>
<td>必填；操作名称，鉴权固定值为 auth</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>必填；根据请求的参数进行返回。</td>
</tr>
<tr>
<td>cid</td>
<td>string</td>
<td>选填；请求时携带则会返回。</td>
</tr>
<tr>
<td>err-code</td>
<td>int</td>
<td>成功返回 0, 失败为其他值，详细响应码列列表请参考附录</td>
</tr>
<tr>
<td>err-msg</td>
<td>string</td>
<td>可选，若出错表示详细错误信息</td>
</tr>
<tr>
<td>ts</td>
<td>long</td>
<td>服务端应答时间戳</td>
</tr>
<tr>
<td>user-id</td>
<td>long</td>
<td>⽤户 id</td>
</tr>
</tbody></table>

<blockquote>
<p>鉴权成功应答数据示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474081631</span><span class="p">,</span><span class="w">
  </span><span class="s2">"err-code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"user-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>鉴权失败应答返回数据示例</p>
</blockquote>
<pre class="highlight plaintext"><code>
{
"op": "auth",
"type":"api",
"ts": 1489474081631, 
"err-code": xxxx， 
"err-msg": ”详细的错误信息“
}

</code></pre><h1 id='websocket-3'>WebSocket市场行情接口</h1><h2 id='kline'>订阅 KLine 数据</h2><h3 id='websocket-api-server'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来订阅数据：</h3>
<p><code>{</code></p>

<p><code>&quot;sub&quot;: &quot;market.$contract_code.kline.$period&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generate by client&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确订阅请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
 </span><span class="p">{</span><span class="w">
    </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.kline.1min"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id1"</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>订阅成功返回数据的例子:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subbed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.kline.1min"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474081631</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-55'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.kline.$period，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
</tbody></table>
<h3 id='sub'>sub订阅参数说明</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
<td>支持大小写，比如:BTC-USDT</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线周期</td>
<td></td>
<td>仅支持小写：1min, 5min, 15min, 30min, 1hour,4hour,1day, 1mon</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-52'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>请求参数</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
</tr>
<tr>
<td>&lt;list&gt;(属性名称: tick)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>K线ID,也就是K线时间戳，K线起始时间</td>
</tr>
<tr>
<td>mrid</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>decimal</td>
<td>成交量张数</td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>decimal</td>
<td>成交笔数</td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>decimal</td>
<td>开盘价</td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>decimal</td>
<td>收盘价,当K线为最晚的一根时，是最新成交价</td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>decimal</td>
<td>最低价</td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>decimal</td>
<td>最高价</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>成交量(币), 即 sum(每一笔成交量(张)*单张合约面值/该笔成交价)</td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交额, 即sum（每一笔成交张数 * 合约面值 * 成交价格）</td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>之后每当 KLine 有更新时，client 会收到数据:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
   </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.kline.1min"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474082831</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489464480</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mrid"</span><span class="p">:</span><span class="w"> </span><span class="mi">268168237</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mf">7962.62</span><span class="p">,</span><span class="w">
        </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mf">7962.62</span><span class="p">,</span><span class="w">
        </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="mf">7962.62</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="mf">7962.62</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">

</span></code></pre><h2 id='kline-2'>请求 KLine 数据</h2><h3 id='websocket-api-server-2'>成功建立和 WebSocket API 的连接之后，向Server发送如下格式的数据来请求数据：</h3>
<p><code>{</code></p>

<p><code>&quot;req&quot;: &quot;market.$contract_code.kline.$period&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>&quot;from&quot;: &quot; type: long, 2017-07-28T00:00:00+08:00 至2050-01-01T00:00:00+08:00 之间的时间点，单位：秒&quot;,</code></p>

<p><code>&quot;to&quot;: &quot;type: long, 2017-07-28T00:00:00+08:00 至2050-01-01T00:00:00+08:00 之间的时间点，单位：秒，必须比 from 大&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>请求 KLine 数据请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"req"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.kline.1min"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1579247342</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1579247342</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-56'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>req</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.kline.$period，详细参数见req请求参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>from</td>
<td>true</td>
<td>long</td>
<td>开始时间</td>
<td></td>
</tr>
<tr>
<td>to</td>
<td>true</td>
<td>long</td>
<td>结束时间</td>
<td></td>
</tr>
</tbody></table>
<h3 id='req'>req请求参数说明</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
<td>支持大小写，&quot;BTC-USDT&quot;</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线周期</td>
<td></td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day,1week, 1mon</td>
</tr>
</tbody></table>
<h4 id='e0361480e3-16'>备注</h4>
<p>[t1, t5] 假设有 t1  ~ t5 的K线：</p>

<p>from: t1, to: t5, return [t1, t5].</p>

<p>from: t5, to: t1, which t5  &gt; t1, return [].</p>

<p>from: t5, return [t5].</p>

<p>from: t3, return [t3, t5].</p>

<p>to: t5, return [t1, t5].</p>

<p>from: t which t3  &lt; t  &lt;t4, return [t4, t5].</p>

<p>to: t which t3  &lt; t  &lt;t4, return [t1, t3].</p>

<p>from: t1 and to: t2, should satisfy 1325347200  &lt; t1  &lt; t2  &lt; 2524579200.</p>

<p>一次最多2000条。</p>

<blockquote>
<p>之后每当 KLine 有更新时，client 会收到数据：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
     </span><span class="s2">"rep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.kline.1min"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id4"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"wsid"</span><span class="p">:</span><span class="w"> </span><span class="mi">3925737956</span><span class="p">,</span><span class="w">
     </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
        </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1494478080</span><span class="p">,</span><span class="w">
        </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mf">10050.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mf">10058.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="mf">10050.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="mf">10058.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">175798.757708</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="p">{</span><span class="w">
        </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1494478140</span><span class="p">,</span><span class="w">
        </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mf">10058.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mf">10060.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="mf">10056.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="mf">10065.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">158331.348600</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-53'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>rep</td>
<td>true</td>
<td>string</td>
<td>请求参数</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>状态</td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>请求id</td>
</tr>
<tr>
<td>wsid</td>
<td>true</td>
<td>long</td>
<td>wsid</td>
</tr>
<tr>
<td>&lt;list&gt;(属性名称: data)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>K线ID,也就是K线时间戳，K线起始时间</td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>decimal</td>
<td>成交量张数</td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>decimal</td>
<td>成交笔数</td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>decimal</td>
<td>开盘价</td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>decimal</td>
<td>收盘价,当K线为最晚的一根时，是最新成交价</td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>decimal</td>
<td>最低价</td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>decimal</td>
<td>最高价</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>成交量(币), 即 sum(每一笔成交量(张)*单张合约面值/该笔成交价)</td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交额, 即sum（每一笔成交张数 * 合约面值 * 成交价格）</td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='market-depth'>订阅 Market Depth 数据</h2><h3 id='websocket-api-server-3'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来订阅数据：</h3>
<p><code>{</code></p>

<p><code>&quot;sub&quot;: &quot;market.$contract_code.depth.$type&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确订阅请求参数的例子：                                   </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">                                          
    </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.depth.step0"</span><span class="p">,</span><span class="w">       
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id5"</span><span class="w">                                
    </span><span class="p">}</span><span class="w"> 

</span></code></pre><h3 id='1f9ac54b15-57'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.depth.$type，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
</tbody></table>
<h3 id='sub-2'>sub订阅参数说明</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
<td>支持大小写，&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>string</td>
<td>Depth 类型</td>
<td></td>
<td>(150档数据)  step0, step1, step2, step3, step4, step5, step14, step15（合并深度1-5,14-15）,step0时，不合并深度;(20档数据)  step6, step7, step8, step9, step10, step11, step12, step13（合并深度7-13）；step6时，不合并深度；step12（表示合并精度1的20档深度数据，表示整数位的个位）、step13（表示合并精度10的20档深度数据，表示整数位的十位）、step14（表示合并精度1的150档深度数据，表示整数位的个位）、step15（表示合并精度10的150档深度数据，表示整数位的十位）</td>
</tr>
</tbody></table>
<h4 id='e0361480e3-17'>备注</h4>
<ul>
<li><p>合并深度仅改变显示方式，不改变实际成交价格。</p></li>
<li><p>step1至step5, step14, step15是进行了深度合并后的150档深度数据，step7至step13是进行了深度合并后的20档深度数据，对应精度如下：</p></li>
</ul>

<table><thead>
<tr>
<th>档位</th>
<th>Depth 类型</th>
<th>精度</th>
</tr>
</thead><tbody>
<tr>
<td>150档</td>
<td>step0</td>
<td>不合并</td>
</tr>
<tr>
<td>150档</td>
<td>step1</td>
<td>0.00001</td>
</tr>
<tr>
<td>150档</td>
<td>step2</td>
<td>0.0001</td>
</tr>
<tr>
<td>150档</td>
<td>step3</td>
<td>0.001</td>
</tr>
<tr>
<td>150档</td>
<td>step4</td>
<td>0.01</td>
</tr>
<tr>
<td>150档</td>
<td>step5</td>
<td>0.1</td>
</tr>
<tr>
<td>150档</td>
<td>step14</td>
<td>1</td>
</tr>
<tr>
<td>150档</td>
<td>step15</td>
<td>10</td>
</tr>
<tr>
<td>20档</td>
<td>step6</td>
<td>不合并</td>
</tr>
<tr>
<td>20档</td>
<td>step7</td>
<td>0.00001</td>
</tr>
<tr>
<td>20档</td>
<td>step8</td>
<td>0.0001</td>
</tr>
<tr>
<td>20档</td>
<td>step9</td>
<td>0.001</td>
</tr>
<tr>
<td>20档</td>
<td>step10</td>
<td>0.01</td>
</tr>
<tr>
<td>20档</td>
<td>step11</td>
<td>0.1</td>
</tr>
<tr>
<td>20档</td>
<td>step12</td>
<td>1</td>
</tr>
<tr>
<td>20档</td>
<td>step13</td>
<td>10</td>
</tr>
</tbody></table>

<blockquote>
<p>之后每当 depth 有更新时，client 会收到数据，例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
     </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.depth.step0"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474082831</span><span class="p">,</span><span class="w">
     </span><span class="s2">"tick"</span><span class="p">:</span><span class="w">
       </span><span class="p">{</span><span class="w"> 
        </span><span class="s2">"mrid"</span><span class="p">:</span><span class="w"> </span><span class="mi">269073229</span><span class="p">,</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539843937</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
             </span><span class="p">[</span><span class="mf">9999.9101</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="w"> 
             </span><span class="p">[</span><span class="mf">9992.3089</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="w">
                    </span><span class="p">],</span><span class="w">
             </span><span class="s2">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">[</span><span class="mf">10010.9800</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span><span class="w">
              </span><span class="p">[</span><span class="mf">10011.3900</span><span class="p">,</span><span class="mi">15</span><span class="p">]</span><span class="w">
                     </span><span class="p">],</span><span class="w">
          </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539843937417</span><span class="p">,</span><span class="w">
          </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539843937</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.depth.step0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-54'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>数据进入行情服务器时间戳，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;list&gt;(属性名称: tick)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>mrid</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>tick ID</td>
<td></td>
</tr>
<tr>
<td>asks</td>
<td>true</td>
<td>object</td>
<td>卖盘,[price(挂单价), vol(此价格挂单张数)], 按price升序</td>
<td></td>
</tr>
<tr>
<td>bids</td>
<td>true</td>
<td>object</td>
<td>买盘,[price(挂单价), vol(此价格挂单张数)], 按price降序</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>深度生成时间戳，每100MS生成一次，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>version</td>
<td>true</td>
<td>long</td>
<td>版本号</td>
<td></td>
</tr>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='market-depth-2'>订阅Market Depth增量数据</h2><h3 id='websocket-api-server-4'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来请求数据:</h3>
<p><code>{</code></p>

<p><code>&quot;sub&quot;: &quot;market.$contract_code.depth.size_${size}.high_freq&quot;,</code></p>

<p><code>&quot;data_type&quot;:&quot;incremental&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确订阅请求参数的例子： </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.depth.size_20.high_freq"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_type"</span><span class="p">:</span><span class="s2">"incremental"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id generated by client"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='1f9ac54b15-58'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.depth.size_${size}.high_freq，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>data_type</td>
<td>false</td>
<td>string</td>
<td>Depth 类型</td>
<td>不填默认为全量数据，&quot;incremental&quot;：增量数据，&quot;snapshot&quot;：全量数据</td>
</tr>
</tbody></table>
<h3 id='sub-3'>sub订阅参数说明</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>合约代码，支持大小写，比如&quot;BTC-USDT&quot;</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>string</td>
<td></td>
<td></td>
<td>档位数，20:表示20档不合并的深度，150:表示150档不合并的深度</td>
</tr>
</tbody></table>

<blockquote>
<p>response：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w"> </span><span class="p">{</span><span class="w">
 </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.depth.size_150.high_freq"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474082831</span><span class="p">,</span><span class="w">
 </span><span class="s2">"tick"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"mrid"</span><span class="p">:</span><span class="w"> </span><span class="mi">269073229</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539843937</span><span class="p">,</span><span class="w">
          </span><span class="s2">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                      </span><span class="p">[</span><span class="mf">9999.9101</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="w"> 
                      </span><span class="p">[</span><span class="mf">9992.3089</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="w">
           </span><span class="p">],</span><span class="w">
          </span><span class="s2">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                       </span><span class="p">[</span><span class="mf">10010.9800</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span><span class="w">
                       </span><span class="p">[</span><span class="mf">10011.3900</span><span class="p">,</span><span class="mi">15</span><span class="p">]</span><span class="w">
           </span><span class="p">],</span><span class="w">
         </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539843937417</span><span class="p">,</span><span class="w">
         </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539843937</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.depth.size_150.high_freq"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"event"</span><span class="p">:</span><span class="s2">"update"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-55'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$contract_code.depth.size_${size}.high_freq</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>进入行情服务器系统时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>mrid</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>tick ID</td>
<td></td>
</tr>
<tr>
<td>asks</td>
<td>true</td>
<td>object</td>
<td>卖盘,[price(挂单价), vol(此价格挂单张数)], 按price升序</td>
<td></td>
</tr>
<tr>
<td>bids</td>
<td>true</td>
<td>object</td>
<td>买盘,[price(挂单价), vol(此价格挂单张数)], 按price降序</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>系统检测orderbook时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>version</td>
<td>true</td>
<td>long</td>
<td>版本号</td>
<td></td>
</tr>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$symbol.depth.size_${size}.high_freq</td>
<td></td>
</tr>
<tr>
<td>event</td>
<td>true</td>
<td>string</td>
<td>事件类型；&quot;update&quot;:更新，表示推送买卖各20档或150档不合并深度的增量数据；&quot;snapshot&quot;:快照值，表示推送买卖各20档或150档不合并深度的全量数据</td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-18'>备注</h3>
<p>1、    当&quot;data_type&quot;为incremental时，首次推送的&quot;event&quot;为&quot;snapshot&quot;的数据，且当重新发送订阅请求时，首次返回都是&quot;snapshot&quot;的数据；</p>

<p>2、深度即可以按照合约周期订阅，也可以按照合约代码订阅，行情系统在进行数据计算时，需要更新对应类型的数据；</p>

<p>3、version（版本号），是自增的序号，每次增加1，不管是增量还是全量数据,每个连接是唯一的。多个websocket连接的version是可能不同的。</p>

<p>4、每30ms检查一次orderbook，如果有更新，则推送，如果没有更新，则不推送。</p>

<p>5、如果是增量数据，要自己维护好本地的orderbook bids\asks 数据。</p>
<h2 id='market-detail'>订阅 Market Detail 数据</h2><h3 id='websocket-api-server-5'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来请求数据:</h3>
<p><code>{</code></p>

<p><code>&quot;sub&quot;: &quot;market.$contract_code.detail&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>订阅 Market Detail 数据请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
 </span><span class="p">{</span><span class="w">                                    
  </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.detail"</span><span class="p">,</span><span class="w">     
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id6"</span><span class="w">                         
 </span><span class="p">}</span><span class="w">                                    

</span></code></pre><h3 id='1f9ac54b15-59'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.detail，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
</tbody></table>
<h3 id='sub-4'>sub订阅参数说明</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td>合约代码，支持大小写，比如&quot;BTC-USDT&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p>请求成功返回数据的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.detail"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539842340724</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539842340</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mrid"</span><span class="p">:</span><span class="w"> </span><span class="mi">268041138</span><span class="p">,</span><span class="w">
        </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mf">6740.47</span><span class="p">,</span><span class="w">
        </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mi">7800</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="mi">7800</span><span class="p">,</span><span class="w">
        </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="mf">6726.13</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">477.1200312075244664773339914558562673572</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="mi">32414</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1716</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-56'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$contract_code.detail</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
</tr>
<tr>
<td>&lt;list&gt;(属性名称: tick)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>ID</td>
</tr>
<tr>
<td>mrid</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>decimal</td>
<td>开盘价</td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>decimal</td>
<td>收盘价,当K线为最晚的一根时，是最新成交价</td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>decimal</td>
<td>最高价</td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>decimal</td>
<td>最低价</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>成交量(币), 即 sum(每一笔成交量(张)*单张合约面值/该笔成交价)</td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>decimal</td>
<td>成交量（张），买卖双边成交量之和</td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交额，即sum（每一笔成交张数 * 合约面值 * 成交价格）</td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>decimal</td>
<td>成交笔数</td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='92ecc6b6d0'>订阅买一卖一逐笔行情推送</h2><h3 id='websocket-api-server-6'>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来请求数据：</h3>
<p><code>{</code></p>

<p><code>&quot;req&quot;: &quot;market.$contract_code.bbo&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
     </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.bbo"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id8"</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-60'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.bbo，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
</tbody></table>
<h3 id='sub-5'>sub请求参数说明</h3>
<table><thead>
<tr>
<th>字段名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td>合约代码，支持大小写，比如&quot;BTC-USDT&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>返回示例</strong>:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
     </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.bbo"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474082831</span><span class="p">,</span><span class="w">
     </span><span class="s2">"tick"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.bbo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mrid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"269073229"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539843937</span><span class="p">,</span><span class="w">
         </span><span class="s2">"bid"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">9999.9101</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">],</span><span class="w">
        </span><span class="s2">"ask"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">10010.9800</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">],</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539843937417</span><span class="p">,</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539843937</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='66d8016b4f'><strong>返回参数说明</strong>：</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$contract_code.bbo</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒（指接口响应时间）</td>
<td></td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$contract_code.bbo</td>
<td></td>
</tr>
<tr>
<td>mrid</td>
<td>true</td>
<td>string</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>tick ID</td>
<td></td>
</tr>
<tr>
<td>ask</td>
<td>true</td>
<td>array</td>
<td>卖一盘,[price(挂单价), vol(此价格挂单张数)]</td>
<td></td>
</tr>
<tr>
<td>bid</td>
<td>true</td>
<td>array</td>
<td>买一盘,[price(挂单价), vol(此价格挂单张数)]</td>
<td></td>
</tr>
<tr>
<td>version</td>
<td>true</td>
<td>long</td>
<td>版本号</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒（指数据生成时间）</td>
<td></td>
</tr>
<tr>
<td>&lt;\tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

<ul>
<li><strong>说明</strong>：</li>
<li>当买一价、买一量、卖一价、卖一量，其中任一数据发生变化时，进行逐笔推送；</li>
<li>如果同一时刻有多个买一卖一的价格/单量的变化，直接用最新的买一卖一进行推送，直接丢弃中间结果；</li>
<li>由于客户端网络等原因导致接收数据失败，服务端会丢弃旧的队列数据；</li>
<li>version（版本号），直接取撮合id，保证全局唯一并且最新的推送版本号都是数值最大的。</li>
</ul>
<h2 id='trade-detail'>请求 Trade Detail 数据</h2><h3 id='websocket-api-server-7'>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来请求数据：</h3>
<p><code>{</code></p>

<p><code>&quot;req&quot;: &quot;market.$contract_code.trade.detail&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;</code></p>

<p><code>}</code></p>

<p>仅返回当前 Trade Detail</p>

<blockquote>
<p>请求 Trade Detail 数据请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
     </span><span class="s2">"req"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.trade.detail"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="p">,</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id8"</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-61'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>req</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.trade.detail，详细参数见req请求参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>size</td>
<td>false</td>
<td>int</td>
<td>数据条数，最多50，不填默认50</td>
<td>[1,50]</td>
</tr>
</tbody></table>
<h3 id='req-2'>req请求参数说明</h3>
<table><thead>
<tr>
<th>字段名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td>合约代码，支持大小写，比如&quot;BTC-USDT&quot; .</td>
</tr>
</tbody></table>

<blockquote>
<p>请求成功返回数据的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
 </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585831661886</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">478879310000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6681"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="w">
 </span><span class="p">}],</span><span class="w">
 </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2a024656-74e0-11ea-a2ee-3af9d3dd9051"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"rep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.trade.detail"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585831672148</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-57'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>rep</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$contract_code.trade.detail</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>返回状态</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>ID</td>
<td></td>
</tr>
<tr>
<td>&lt;list&gt;(属性名称: data)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>ID</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>string</td>
<td>价格</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>string</td>
<td>数量（张）</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>订单成交时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>发送时间</td>
<td></td>
</tr>
</tbody></table>
<h2 id='trade-detail-2'>订阅 Trade Detail 数据</h2><h3 id='websocket-api-server-8'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来订阅数据：</h3>
<p><code>{</code>  </p>

<p><code>&quot;sub&quot;: &quot;market.$contract_code.trade.detail&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确订阅请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
     </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.trade.detail"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id7"</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-62'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.trade.detail，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
</tbody></table>
<h3 id='sub-6'>sub订阅参数说明</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td>合约代码，支持大小写，比如&quot;BTC-USDT&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p>之后每当 Trade Detail 有更新时，client 会收到数据，例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.trade.detail"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539831709042</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">265842227</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539831709001</span><span class="p">,</span><span class="w">
            </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539831709001</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2658422273</span><span class="p">,</span><span class="w">
                </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">6742.25</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="w">
            </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-58'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$contract_code.trade.detail</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>发送时间</td>
<td></td>
</tr>
<tr>
<td>&lt;list&gt;(属性名称: tick)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>ID</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>tick数据戳</td>
<td></td>
</tr>
<tr>
<td>&lt;list&gt;(属性名称: data)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>数量（张）</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>订单时间戳</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>tick id</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>价格</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id='websocket-4'>WebSocket指数与基差数据接口</h1>
<ul>
<li>指数与基差数据订阅ws地址：wss://api.hbdm.com/ws_index</li>
</ul>
<h2 id='k-4'>订阅溢价指数K线数据</h2><h3 id='websocket-api-server-9'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来订阅数据：</h3>
<p><code>{</code>  </p>

<p><code>&quot;sub&quot;: &quot;market.$contract_code.premium_index.$period&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确订阅请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
     </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.premium_index.1min"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id7"</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-63'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.premium_index.$period，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
</tbody></table>
<h3 id='sub-7'>sub订阅参数说明</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
<td>&quot;BTC-USDT&quot;,&quot;ETH-USDT&quot;...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线类型</td>
<td></td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day, 1week, 1mon</td>
</tr>
</tbody></table>

<blockquote>
<p>之后每当溢价指数有更新时，client 会收到数据，例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
 </span><span class="p">{</span><span class="w">
  </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.premium_index.1min"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474082831</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> 
     </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489464480</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0015"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0015"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0015"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0015"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
     </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-59'>返回参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>指数K线ID,也就是K线时间戳，K线起始时间</td>
<td></td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>string</td>
<td>成交量(张)，数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>string</td>
<td>成交笔数，数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>string</td>
<td>开盘值（溢价指数）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>string</td>
<td>收盘值（溢价指数）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>string</td>
<td>最低值（溢价指数）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>string</td>
<td>最高值 （溢价指数）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>string</td>
<td>成交量(币), 数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>string</td>
<td>成交额， 数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='k-5'>请求溢价指数K线数据</h2><h3 id='websocket-api-server-10'>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来请求数据：</h3>
<p><code>{</code></p>

<p><code>&quot;req&quot;: &quot;market.$contract_code.premium_index.$period&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>&quot;from&quot;: &quot; type: long, 2017-07-28T00:00:00+08:00 至2050-01-01T00:00:00+08:00 之间的时间点，单位：秒&quot;,</code></p>

<p><code>&quot;to&quot;: &quot;type: long, 2017-07-28T00:00:00+08:00 至2050-01-01T00:00:00+08:00 之间的时间点，单位：秒，必须比 from 大&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>数据请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"req"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.premium_index.1min"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="mi">1571000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="mi">1573098606</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='1f9ac54b15-64'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>req</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.premium_index.$period，详细参数见req请求参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>from</td>
<td>true</td>
<td>long</td>
<td>开始时间（时间戳，单位秒）</td>
<td></td>
</tr>
<tr>
<td>to</td>
<td>true</td>
<td>long</td>
<td>结束时间 （时间戳，单位秒）</td>
<td></td>
</tr>
</tbody></table>
<h3 id='req-3'>req请求参数说明</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
<td>&quot;BTC-USDT&quot;,&quot;ETH-USDT&quot;...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线类型</td>
<td></td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day, 1week, 1mon</td>
</tr>
</tbody></table>
<h4 id='9852b06629-13'>备注：</h4>
<ul>
<li><p>一次返回最多2000条数据；</p></li>
<li><p>from和to都为必填。</p></li>
</ul>

<blockquote>
<p>请求成功返回数据的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="s2">"rep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.premium_index.1min"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id4"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"wsid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1231323423</span><span class="p">,</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1579489028884</span><span class="p">,</span><span class="w">
 </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
    </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1494478080</span><span class="p">,</span><span class="w">
    </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0015"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0015"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0015"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0015"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-60'>返回参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>rep</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>业务方id</td>
<td></td>
<td></td>
</tr>
<tr>
<td>wsid</td>
<td>true</td>
<td>long</td>
<td>wsid</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>指数K线ID,也就是K线时间戳，K线起始时间</td>
<td></td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>string</td>
<td>成交量(张)，数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>string</td>
<td>成交笔数，数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>string</td>
<td>开盘值（溢价指数）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>string</td>
<td>收盘值（溢价指数）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>string</td>
<td>最低值 （溢价指数）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>string</td>
<td>最高值  （溢价指数）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>string</td>
<td>成交量(币), 数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>string</td>
<td>成交额, 数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='k-6'>订阅预测资金费率K线数据</h2><h3 id='websocket-api-server-11'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来订阅数据：</h3>
<p><code>{</code>  </p>

<p><code>&quot;sub&quot;: &quot;market.$contract_code.estimated_rate.$period&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确订阅请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
     </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.btc-usdt.estimated_rate.1min"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id7"</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-65'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.estimated_rate.$period，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
</tbody></table>
<h3 id='sub-8'>sub订阅参数说明</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
<td>&quot;BTC-USDT&quot;,&quot;ETH-USDT&quot;...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线类型</td>
<td></td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day, 1week, 1mon</td>
</tr>
</tbody></table>

<blockquote>
<p>之后每当预测资金费率有更新时，client 会收到数据，例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.estimated_rate.1min"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474082831</span><span class="p">,</span><span class="w">
 </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> 
    </span><span class="p">{</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489464480</span><span class="p">,</span><span class="w">
     </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000153"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000153"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000153"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000153"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-61'>返回参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>k线id</td>
<td></td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>string</td>
<td>成交量(张)，数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>string</td>
<td>成交笔数，数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>string</td>
<td>开盘值 （预测资金费率）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>string</td>
<td>收盘值 （预测资金费率）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>string</td>
<td>最低值 （预测资金费率）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>string</td>
<td>最高值  （预测资金费率）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>string</td>
<td>成交量(币), 数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>string</td>
<td>成交额 数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='k-7'>请求预测资金费率K线数据</h2><h3 id='websocket-api-server-12'>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来请求数据：</h3>
<p><code>{</code></p>

<p><code>&quot;req&quot;: &quot;market.$contract_code.estimated_rate.$period&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>&quot;from&quot;: &quot; type: long, 2017-07-28T00:00:00+08:00 至2050-01-01T00:00:00+08:00 之间的时间点，单位：秒&quot;,</code></p>

<p><code>&quot;to&quot;: &quot;type: long, 2017-07-28T00:00:00+08:00 至2050-01-01T00:00:00+08:00 之间的时间点，单位：秒，必须比 from 大&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>数据请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"req"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.estimated_rate.1min"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1579247342</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1579247342</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-66'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>req</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.estimated_rate.$period，详细参数见req请求参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>from</td>
<td>true</td>
<td>long</td>
<td>开始时间（时间戳，单位秒）</td>
<td></td>
</tr>
<tr>
<td>to</td>
<td>true</td>
<td>long</td>
<td>结束时间 （时间戳，单位秒）</td>
<td></td>
</tr>
</tbody></table>
<h3 id='req-4'>req请求参数说明</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
<td>&quot;BTC-USDT&quot;,&quot;ETH-USDT&quot;...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线类型</td>
<td></td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day, 1week, 1mon</td>
</tr>
</tbody></table>
<h4 id='9852b06629-14'>备注：</h4>
<ul>
<li><p>一次返回最多2000条数据；</p></li>
<li><p>from和to都为必填。</p></li>
</ul>

<blockquote>
<p>请求成功返回数据的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="s2">"rep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.estimated_rate.1min"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id4"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"wsid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1231323423</span><span class="p">,</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1579489028884</span><span class="p">,</span><span class="w">
 </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
    </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1494478080</span><span class="p">,</span><span class="w">
    </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000153"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000153"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000153"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000153"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-62'>返回参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>rep</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>业务方id</td>
<td></td>
<td></td>
</tr>
<tr>
<td>wsid</td>
<td>true</td>
<td>long</td>
<td>wsid</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>k线id</td>
<td></td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>string</td>
<td>成交量(张)，数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>string</td>
<td>成交笔数，数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>string</td>
<td>开盘值（预测资金费率）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>string</td>
<td>收盘值（预测资金费率）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>string</td>
<td>最低值（预测资金费率）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>string</td>
<td>最高值 （预测资金费率）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>string</td>
<td>成交量(币), 数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>string</td>
<td>成交额 数值为0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='45aabcd3fd'>订阅基差数据</h2><h3 id='websocket-api-server-13'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来订阅数据：</h3>
<p><code>{</code>  </p>

<p><code>&quot;sub&quot;: &quot;market.$contract_code.basis.$period.$basis_price_type&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确订阅请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
     </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.basis.1min.open"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id7"</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-67'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.basis.$period.$basis_price_type，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
</tbody></table>
<h3 id='sub-9'>sub订阅参数说明</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约名称</td>
<td></td>
<td>如&quot;BTC-USDT&quot;</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>周期</td>
<td></td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day,1week, 1mon</td>
</tr>
<tr>
<td>basis_price_type</td>
<td>false</td>
<td>string</td>
<td>基差价格类型，表示在周期内计算基差使用的价格类型</td>
<td>不填，默认为使用开盘价</td>
<td>开盘价：open，收盘价：close，最高价：high，最低价：low，平均价=（最高价+最低价）/2：average</td>
</tr>
</tbody></table>

<blockquote>
<p>之后每当预测资金费率有更新时，client 会收到数据，例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.basis.1min.open"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474082831</span><span class="p">,</span><span class="w">
 </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12312321</span><span class="p">,</span><span class="w">
         </span><span class="s2">"contract_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4635"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"index_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4645"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"basis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4142"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"basis_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0024"</span><span class="w">
       </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-63'>返回参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>object array</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>long</td>
<td>唯一标识</td>
<td></td>
<td></td>
</tr>
<tr>
<td>contract_price</td>
<td>string</td>
<td>合约基准价，与基差价格类型匹配</td>
<td></td>
<td></td>
</tr>
<tr>
<td>index_price</td>
<td>string</td>
<td>指数基准价，与基差价格类型匹配</td>
<td></td>
<td></td>
</tr>
<tr>
<td>basis</td>
<td>string</td>
<td>基差=合约基准价 - 指数基准价</td>
<td></td>
<td></td>
</tr>
<tr>
<td>basis_rate</td>
<td>string</td>
<td>基差率=基差/指数基准价</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='6997aa03db'>请求基差数据</h2><h3 id='websocket-api-server-14'>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来请求数据：</h3>
<p><code>{</code></p>

<p><code>&quot;req&quot;: &quot;market.$contract_code.basis.$period.$basis_price_type&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>&quot;from&quot;: &quot; type: long, 2017-07-28T00:00:00+08:00 至2050-01-01T00:00:00+08:00 之间的时间点，单位：秒&quot;,</code></p>

<p><code>&quot;to&quot;: &quot;type: long, 2017-07-28T00:00:00+08:00 至2050-01-01T00:00:00+08:00 之间的时间点，单位：秒，必须比 from 大&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>数据请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"req"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.btc-usdt.basis.1min.open"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1579247342</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1579247342</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-68'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead><tbody>
<tr>
<td>req</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.basis.$period.$basis_price_type，详细参数见req请求参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>from</td>
<td>true</td>
<td>long</td>
<td>开始时间（时间戳，单位秒）</td>
<td></td>
</tr>
<tr>
<td>to</td>
<td>true</td>
<td>long</td>
<td>结束时间 （时间戳，单位秒）</td>
<td></td>
</tr>
</tbody></table>
<h3 id='req-5'>req请求参数说明</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约名称</td>
<td></td>
<td>如&quot;BTC-USDT&quot;</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>周期</td>
<td></td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day,1week, 1mon</td>
</tr>
<tr>
<td>basis_price_type</td>
<td>false</td>
<td>string</td>
<td>基差价格类型，表示在周期内计算基差使用的价格类型</td>
<td>不填，默认为使用开盘价</td>
<td>开盘价：open，收盘价：close，最高价：high，最低价：low，平均价=（最高价+最低价）/2：average</td>
</tr>
</tbody></table>
<h4 id='2020-6-5-20-13-00'>备注：目前只支持查询2020/6/5 20:13:00之后的基差数据。</h4>
<blockquote>
<p>请求成功返回数据的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="s2">"rep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT.basis.1min.open"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id4"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"wsid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1231231231</span><span class="p">,</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474082831</span><span class="p">,</span><span class="w">
 </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12312321</span><span class="p">,</span><span class="w">
         </span><span class="s2">"contact_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4635"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"index_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4645"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"basis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4142"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"basis_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0024"</span><span class="w">
       </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-64'>返回参数</h3>
<table><thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead><tbody>
<tr>
<td>rep</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.basis</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>业务方id</td>
<td></td>
</tr>
<tr>
<td>wsid</td>
<td>true</td>
<td>long</td>
<td>wsid</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>object array</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>唯一标识</td>
<td></td>
</tr>
<tr>
<td>contract_price</td>
<td>true</td>
<td>string</td>
<td>合约基准价，与基差价格类型匹配</td>
<td></td>
</tr>
<tr>
<td>index_price</td>
<td>true</td>
<td>string</td>
<td>指数基准价，与基差价格类型匹配</td>
<td></td>
</tr>
<tr>
<td>basis</td>
<td>true</td>
<td>string</td>
<td>基差=合约基准价 - 指数基准价</td>
<td></td>
</tr>
<tr>
<td>basis_rate</td>
<td>true</td>
<td>string</td>
<td>基差率=基差/指数基准价</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id='websocket-5'>WebSocket订单和用户数据接口</h1><h2 id='sub-10'>订阅订单成交数据（sub）</h2>
<p>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来订阅数据:</p>
<h3 id='99a3392418'>订阅请求数据格式</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;sub&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;cid&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;orders.$contract_code&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders.btc-usdt"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='cf6f5e9601'>订阅请求数据格式说明</h3>
<table><thead>
<tr>
<th>字段名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>string</td>
<td>必填；操作名称，订阅固定值为sub</td>
</tr>
<tr>
<td>cid</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
</tr>
<tr>
<td>topic</td>
<td>string</td>
<td>订阅主题名称，必填 (orders.$contract_code) 订阅、取消订阅某个合约下的成交订单信息； $contract_code为合约代码（BTC-USDT、ETH-USDT...），如果值为 * 时代表订阅所有合约;</td>
</tr>
</tbody></table>

<blockquote>
<p>成交详情通知数据格式说明</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notify"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders.btc-usdt"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474082831</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1489474"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1111</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="mi">758684042347171840</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="s2">"758684042347171840"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10683</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1408076414000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">1200</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"liquidation_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_avg_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"canceled_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1408076414000</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"trade_id"</span><span class="p">:</span><span class="mi">14469</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"14469-758684042347171840-1"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"trade_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">123.4555</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"trade_fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.234</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mf">34.123</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1490759594752</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maker"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='2b9b241982'>成交推送请求数据格式说明</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true <img width=250/></td>
<td>string</td>
<td>操作名称，推送固定值为 notify; <img width=1000/></td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>推送的主题</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>服务端应答时间戳</td>
<td></td>
</tr>
<tr>
<td>uid</td>
<td>true</td>
<td>string</td>
<td>用户uid</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>委托价格</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价，&quot;opponent&quot;:对手价，&quot;lightning&quot;:闪电平仓，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档，&quot;fok&quot;:FOK订单，&quot;ioc&quot;:IOC订单, &quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;lightning_ioc&quot;: 闪电平仓-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;lightning_fok&quot;：闪电平仓-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td>1准备提交 2准备提交 3已提交 4部分成交 5部分成交已撤单 6全部成交 7已撤单</td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>bingint</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>string格式的订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>long</td>
<td>客户订单ID</td>
<td></td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td>system:系统、web:用户网页、api:用户API、m:用户M站、risk:风控系统、settlement:交割结算、ios：ios客户端、android：安卓客户端、windows：windows客户端、mac：mac客户端、trigger：计划委托触发</td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型</td>
<td>1:报单 、 2:撤单 、 3:强平、4:交割</td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>订单创建时间</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交总数量</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交总金额，即sum（每一笔成交张数 * 合约面值 *成交价格）</td>
<td></td>
</tr>
<tr>
<td>fee</td>
<td>true</td>
<td>decimal</td>
<td>手续费</td>
<td></td>
</tr>
<tr>
<td>trade_avg_price</td>
<td>true</td>
<td>decimal</td>
<td>成交均价</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>liquidation_type</td>
<td>true</td>
<td>decimal</td>
<td>强平类型 0:非强平类型，1：多空轧差， 2:部分接管，3：全部接管</td>
<td></td>
</tr>
<tr>
<td>canceled_at</td>
<td>true</td>
<td>long</td>
<td>撤单时间</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td>“USDT”</td>
</tr>
<tr>
<td>&lt;trade&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>全局唯一的交易标识</td>
<td></td>
</tr>
<tr>
<td>trade_id</td>
<td>true</td>
<td>long</td>
<td>与linear-swap-api/v1/swap_matchresults返回结果中的match_id一样，是撮合结果id， 非唯一，可重复，注意：一个撮合结果代表一个taker单和N个maker单的成交记录的集合，如果一个taker单吃了N个maker单，那这N笔trade都是一样的撮合结果id</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交数量</td>
<td></td>
</tr>
<tr>
<td>trade_price</td>
<td>true</td>
<td>decimal</td>
<td>成交价格</td>
<td></td>
</tr>
<tr>
<td>trade_fee</td>
<td>true</td>
<td>decimal</td>
<td>成交手续费</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交金额（成交数量<em>合约面值</em>成交价格 ）</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>成交创建时间</td>
<td></td>
</tr>
<tr>
<td>role</td>
<td>true</td>
<td>string</td>
<td>taker或maker</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td>“USDT”</td>
</tr>
<tr>
<td>&lt;/trade&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='unsub'>取消订阅订单成交数据（unsub）</h2>
<p>成功建⽴和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来取消订阅数据:</p>
<h3 id='5ece2c9713'>取消订阅请求数据格式</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;unsub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;orders.$contract_code&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的取消订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">                                
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">                   
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders.BTC-USDT"</span><span class="p">,</span><span class="w">       
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">        
</span><span class="p">}</span><span class="w">                                  
</span></code></pre><h3 id='4efe6ad8fa'>取消订阅请求数据格式说明</h3>
<table><thead>
<tr>
<th style="text-align: left">字段名称</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填;操作名称，订阅固定值为 unsub;</td>
</tr>
<tr>
<td style="text-align: left">cid</td>
<td style="text-align: left">string</td>
<td style="text-align: left">选填;Client 请求唯一 ID</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填;待取消订阅主题名称:orders.$contract_code，详细主题列列表请参考附录;contract_code支持大小写</td>
</tr>
</tbody></table>
<h3 id='25b9181131'>订阅与取消订阅规则说明</h3>
<table><thead>
<tr>
<th>订阅(sub)</th>
<th>取消订阅(unsub)</th>
<th>规则</th>
</tr>
</thead><tbody>
<tr>
<td>orders.*</td>
<td>orders.*</td>
<td>允许</td>
</tr>
<tr>
<td>orders.contract_code1</td>
<td>orders.*</td>
<td>允许</td>
</tr>
<tr>
<td>orders.contract_code1</td>
<td>orders.contract_code1</td>
<td>允许</td>
</tr>
<tr>
<td>orders.contract_code1</td>
<td>orders.contract_code2</td>
<td>不允许</td>
</tr>
<tr>
<td>orders.*</td>
<td>orders.contract_code1</td>
<td>不允许</td>
</tr>
</tbody></table>
<h2 id='sub-11'>资产变动数据（sub）</h2>
<p>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来订阅数据:</p>
<h3 id='99a3392418-2'>订阅请求数据格式</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;sub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;accounts.$contract_code&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的订阅请求:                           </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">                                   
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">                      
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="p">,</span><span class="w">        
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accounts.BTC-USDT"</span><span class="w">       
</span><span class="p">}</span><span class="w">                                   

</span></code></pre><h3 id='cf6f5e9601-2'>订阅请求数据格式说明</h3>
<table><thead>
<tr>
<th style="text-align: left">字段名称</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填；操作名称，订阅固定值为sub</td>
</tr>
<tr>
<td style="text-align: left">cid</td>
<td style="text-align: left">string</td>
<td style="text-align: left">选填;Client 请求唯一 ID</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填；订阅主题名称，必填 (accounts.$contract_code)  订阅、取消订阅某个合约代码下的资产变更信息，当 $contract_code值为 * 时代表订阅所有合约代码; contract_code支持大小写，比如BTC-USDT</td>
</tr>
</tbody></table>
<h4 id='9852b06629-15'>备注：</h4>
<ul>
<li>推送接口新增定期推送逻辑：每 5 秒进行一次定期推送，由定期推送触发的数据中 event 参数值为“snapshot”，表示由系统定期推送触发。 如果5秒内某合约资产已触发过推送，则该合约资产跳过此次推送。</li>
</ul>

<blockquote>
<p>当资产有更新时，返回的参数示例如下:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notify"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accounts.btc-usdt"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585832015669</span><span class="p">,</span><span class="w">
 </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order.match"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.65300225033282</span><span class="p">,</span><span class="w">
  </span><span class="s2">"margin_static"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.624326797617663</span><span class="p">,</span><span class="w">
  </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0357473851449755</span><span class="p">,</span><span class="w">
  </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
  </span><span class="s2">"margin_available"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.607254865187846</span><span class="p">,</span><span class="w">
  </span><span class="s2">"profit_real"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001819856887332005</span><span class="p">,</span><span class="w">
  </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.028675452715159</span><span class="p">,</span><span class="w">
  </span><span class="s2">"withdraw_available"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.578579412472687</span><span class="p">,</span><span class="w">
  </span><span class="s2">"risk_rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">210.93164485504528</span><span class="p">,</span><span class="w">
  </span><span class="s2">"liquidation_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">174.14824361517893</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"adjust_factor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.075</span><span class="w">
 </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='b302a98fa6'>返回字段说明</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true <img width=250/></td>
<td>string</td>
<td>操作名称，推送固定值为 notify; <img width=1000/></td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>推送的主题</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>服务端应答时间戳</td>
<td></td>
</tr>
<tr>
<td>uid</td>
<td>true</td>
<td>string</td>
<td>用户uid</td>
<td></td>
</tr>
<tr>
<td>event</td>
<td>true</td>
<td>string</td>
<td>资产变化通知相关事件说明</td>
<td>比如订单创建开仓(order.open) 、订单成交(order.match)（除开强平和结算交割）、结算交割(settlement)、订单强平成交(order.liquidation)（对钆和接管仓位）、订单撤销(order.cancel) 、合约账户划转（contract.transfer)（包括外部划转、母子划转和不同保证金账户划转）、系统（contract.system)、其他资产变化(other)、切换杠杆（switch_lever_rate） 、初始资金（init）、由系统定期推送触发（snapshot）</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot;,&quot;ETH-USDT&quot;...</td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
<td></td>
</tr>
<tr>
<td>margin_balance</td>
<td>true</td>
<td>decimal</td>
<td>账户权益</td>
<td></td>
</tr>
<tr>
<td>margin_static</td>
<td>true</td>
<td>decimal</td>
<td>静态权益</td>
<td></td>
</tr>
<tr>
<td>margin_position</td>
<td>true</td>
<td>decimal</td>
<td>持仓保证金（当前持有仓位所占用的保证金）</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金</td>
<td></td>
</tr>
<tr>
<td>margin_available</td>
<td>true</td>
<td>decimal</td>
<td>可用保证金</td>
<td></td>
</tr>
<tr>
<td>profit_real</td>
<td>true</td>
<td>decimal</td>
<td>已实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>risk_rate</td>
<td>true</td>
<td>decimal</td>
<td>保证金率</td>
<td></td>
</tr>
<tr>
<td>liquidation_price</td>
<td>true</td>
<td>decimal</td>
<td>预估强平价</td>
<td></td>
</tr>
<tr>
<td>withdraw_available</td>
<td>true</td>
<td>decimal</td>
<td>可划转数量</td>
<td></td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>adjust_factor</td>
<td>true</td>
<td>decimal</td>
<td>调整系数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='unsub-2'>取消订阅资产变动数据（unsub）</h2>
<p>成功建⽴和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来取消订阅数据:</p>
<h3 id='5ece2c9713-2'>取消订阅请求数据格式</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;unsub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;accounts.$contract_code&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的取消订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">                                 
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">                  
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accounts.BTC-USDT"</span><span class="p">,</span><span class="w">    
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">       
</span><span class="p">}</span><span class="w">   

</span></code></pre><h3 id='4efe6ad8fa-2'>取消订阅请求数据格式说明</h3>
<table><thead>
<tr>
<th>字段名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>string</td>
<td>必填;操作名称，订阅固定值为 unsub;</td>
</tr>
<tr>
<td>cid</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
</tr>
<tr>
<td>topic</td>
<td>string</td>
<td>必填;必填；必填；订阅主题名称，必填 (accounts.$contract_code)  订阅、取消订阅某个合约代码下的资产变更信息，当 $contract_code值为 * 时代表订阅所有合约代码;contract_code支持大小写;</td>
</tr>
</tbody></table>
<h3 id='25b9181131-2'>订阅与取消订阅规则说明</h3>
<table><thead>
<tr>
<th>订阅(sub)</th>
<th>取消订阅(unsub)</th>
<th>规则</th>
</tr>
</thead><tbody>
<tr>
<td>accounts.*</td>
<td>accounts.*</td>
<td>允许</td>
</tr>
<tr>
<td>accounts.contract_code1</td>
<td>accounts.*</td>
<td>允许</td>
</tr>
<tr>
<td>accounts.contract_code1</td>
<td>accounts.contract_code1</td>
<td>允许</td>
</tr>
<tr>
<td>accounts.contract_code1</td>
<td>accounts.contract_code2</td>
<td>不允许</td>
</tr>
<tr>
<td>accounts.*</td>
<td>accounts.contract_code1</td>
<td>不允许</td>
</tr>
</tbody></table>
<h2 id='sub-12'>持仓变动更新数据（sub）</h2>
<p>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来订阅数据:</p>
<h3 id='99a3392418-3'>订阅请求数据格式</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;sub&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;positions.$contract_code&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;topic to sub&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">                                 
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">                    
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="p">,</span><span class="w">      
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positions.BTC-USDT"</span><span class="w">    
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='cf6f5e9601-3'>订阅请求数据格式说明</h3>
<table><thead>
<tr>
<th style="text-align: left">字段名称</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填；操作名称，订阅固定值为sub</td>
</tr>
<tr>
<td style="text-align: left">cid</td>
<td style="text-align: left">string</td>
<td style="text-align: left">选填;Client 请求唯一 ID</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填；订阅主题名称，必填 (positions.$contract_code)  订阅、取消订阅某个合约代码下的持仓变更信息，当 $contract_code值为 * 时代表订阅所有合约代码,contract_code支持大小写;</td>
</tr>
</tbody></table>

<blockquote>
<p>当持仓有更新时，返回的参数示例如下:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notify"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positions.btc-usdt"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585831975715</span><span class="p">,</span><span class="w">
 </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order.match"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">22.0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mf">22.0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cost_open"</span><span class="p">:</span><span class="w"> </span><span class="mf">4797.075764608844</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cost_hold"</span><span class="p">:</span><span class="w"> </span><span class="mf">6688.728896560855</span><span class="p">,</span><span class="w">
  </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.037636531688646</span><span class="p">,</span><span class="w">
  </span><span class="s2">"profit_rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.648780928625918</span><span class="p">,</span><span class="w">
  </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1673377373398984</span><span class="p">,</span><span class="w">
  </span><span class="s2">"position_margin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02912749900701708</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">7553</span><span class="p">,</span><span class="w">
  </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
 </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-65'>返回参数</h3>
<table><thead>
<tr>
<th>字段名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>string</td>
<td>订阅主题</td>
</tr>
<tr>
<td>uid</td>
<td>string</td>
<td>账户id</td>
</tr>
<tr>
<td>ts</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
</tr>
<tr>
<td>event</td>
<td>string</td>
<td>持仓变化通知相关事件说明，比如订单创建平仓(order.close) 、订单成交(order.match)（除开强平和结算交割）、结算交割(settlement)、订单强平成交(order.liquidation)（对钆和接管仓位）、订单撤销(order.cancel)、切换杠杆（switch_lever_rate） 、初始持仓（init）、由系统定期推送触发（snapshot）</td>
</tr>
<tr>
<td>&lt;list&gt; (attr name: data)</td>
<td>array object</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td>品种代码 ,&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>string</td>
<td>合约代码，&quot;BTC-USDT&quot;</td>
</tr>
<tr>
<td>volume</td>
<td>decimal</td>
<td>持仓量</td>
</tr>
<tr>
<td>available</td>
<td>decimal</td>
<td>可平仓数量</td>
</tr>
<tr>
<td>frozen</td>
<td>decimal</td>
<td>冻结数量</td>
</tr>
<tr>
<td>cost_open</td>
<td>decimal</td>
<td>开仓均价</td>
</tr>
<tr>
<td>cost_hold</td>
<td>decimal</td>
<td>持仓均价</td>
</tr>
<tr>
<td>profit_unreal</td>
<td>decimal</td>
<td>未实现盈亏</td>
</tr>
<tr>
<td>profit_rate</td>
<td>decimal</td>
<td>收益率</td>
</tr>
<tr>
<td>profit</td>
<td>decimal</td>
<td>收益</td>
</tr>
<tr>
<td>position_margin</td>
<td>decimal</td>
<td>持仓保证金</td>
</tr>
<tr>
<td>lever_rate</td>
<td>int</td>
<td>杠杆倍数</td>
</tr>
<tr>
<td>direction</td>
<td>string</td>
<td>仓位方向   &quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>last_price</td>
<td>decimal</td>
<td>最新价</td>
</tr>
<tr>
<td>margin_asset</td>
<td>string</td>
<td>保证金币种（计价币种）</td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id='9852b06629-16'>备注：</h4>
<ul>
<li><p>推送接口新增定期推送逻辑：每 5 秒进行一次定期推送，由定期推送触发的数据中 event 参数值为“snapshot”，表示由系统定期推送触发。 如果5秒内某仓位已触发过推送，则该仓位跳过此次推送。</p></li>
<li><p>当用户持仓量为0时使用切换杠杆的接口，持仓推送接口不会推送&quot;switch_lever_rate&quot;。</p></li>
</ul>
<h2 id='unsub-3'>取消订阅持仓变动数据（unsub）</h2>
<p>成功建⽴和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来取消订阅数据:</p>
<h3 id='5ece2c9713-3'>取消订阅请求数据格式</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;unsub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;positions.$contract_code&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的取消订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">                                    
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">                     
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positions.BTC-USDT"</span><span class="p">,</span><span class="w">      
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">          
</span><span class="p">}</span><span class="w">                                    
</span></code></pre><h3 id='4efe6ad8fa-3'>取消订阅请求数据格式说明</h3>
<table><thead>
<tr>
<th>字段名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>string</td>
<td>必填;操作名称，订阅固定值为 unsub;</td>
</tr>
<tr>
<td>cid</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
</tr>
<tr>
<td>topic</td>
<td>string</td>
<td>必填;必填；必填；订阅主题名称，必填 (positions.$contract_code)  订阅、取消订阅某个合约代码下的资产变更信息，当 $contract_code值为 * 时代表订阅所有合约代码;contract_code支持大小写,比如BTC-USDT</td>
</tr>
</tbody></table>
<h3 id='25b9181131-3'>订阅与取消订阅规则说明</h3>
<table><thead>
<tr>
<th>订阅(sub)</th>
<th>取消订阅(unsub)</th>
<th>规则</th>
</tr>
</thead><tbody>
<tr>
<td>positions.*</td>
<td>positions.*</td>
<td>允许</td>
</tr>
<tr>
<td>positions.contract_code1</td>
<td>positions.*</td>
<td>允许</td>
</tr>
<tr>
<td>positions.contract_code1</td>
<td>positions.contract_code1</td>
<td>允许</td>
</tr>
<tr>
<td>positions.contract_code1</td>
<td>positions.contract_code2</td>
<td>不允许</td>
</tr>
<tr>
<td>positions.*</td>
<td>positions.contract_code1</td>
<td>不允许</td>
</tr>
</tbody></table>
<h2 id='sub-13'>订阅合约订单撮合数据（sub）</h2>
<p>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来订阅数据:</p>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;sub&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;40sG903yz80oDFWr&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;matchOrders.$contract_code&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">                                    
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">                     
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"matchOrders.BTC-USDT"</span><span class="p">,</span><span class="w">      
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">          
</span><span class="p">}</span><span class="w">                                    
</span></code></pre><h3 id='1f9ac54b15-69'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>订阅固定值为sub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，(matchOrders.$contract_code) 订阅某个品种下的合约变动信息；$contract_code为品种代码（BTC-USDT、ETH-USDT），如果值为 * 时代表订阅所有品种; contract_code支持大小写;</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>返回的参数为：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="s2">"notify"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="s2">"matchOrders.btc-usdt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1600926986125</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="mi">758688290195656704</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="s2">"758688290195656704"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="mi">1600926984112</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"trade_id"</span><span class="p">:</span><span class="mi">14470</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"14470-758688290195656704-1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_price"</span><span class="p">:</span><span class="mf">10329.11</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mf">103.2911</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="mi">1600926986046</span><span class="p">,</span><span class="w">
            </span><span class="s2">"role"</span><span class="p">:</span><span class="s2">"taker"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="s2">"114387879"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"volume"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"direction"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offset"</span><span class="p">:</span><span class="s2">"open"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="mf">10329.11</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_source"</span><span class="p">:</span><span class="s2">"web"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="s2">"opponent"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-66'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true <img width=250/></td>
<td>string <img width=250/></td>
<td>操作名称，推送固定值为 notify; <img width=1000/></td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>推送的主题</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>服务端应答时间戳</td>
<td></td>
</tr>
<tr>
<td>uid</td>
<td>true</td>
<td>string</td>
<td>用户uid</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态(3未成交 4部分成交 5部分成交已撤单 6全部成交 7已撤单)</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>订单ID ,字符串类型</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>long</td>
<td>客户订单id</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型</td>
<td>1:报单 、 2:撤单 、 3:强平、4:交割</td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>订单已成交数量</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>订单总委托数量</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>委托价格</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价，&quot;opponent&quot;:对手价，&quot;post_only&quot;:只做maker单,post only下单只受用户持仓数量限制，&quot;lightning&quot;:闪电平仓，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档，&quot;fok&quot;:FOK订单，&quot;ioc&quot;:IOC订单, &quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;lightning_ioc&quot;: 闪电平仓-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;lightning_fok&quot;：闪电平仓-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
<tr>
<td>&lt;trade&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>成交唯一ID</td>
<td></td>
</tr>
<tr>
<td>trade_id</td>
<td>true</td>
<td>long</td>
<td>撮合结果id</td>
<td></td>
</tr>
<tr>
<td>trade_price</td>
<td>true</td>
<td>decimal</td>
<td>成交价格</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交量（张）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交金额（成交数量<em>合约面值</em>成交价）</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>role</td>
<td>true</td>
<td>string</td>
<td>taker或maker</td>
<td></td>
</tr>
<tr>
<td>&lt;/trade&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='unsub-4'>取消订阅合约订单撮合数据（unsub）</h2>
<p>成功建⽴和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来取消订阅数据:</p>
<h3 id='5ece2c9713-4'>取消订阅请求数据格式</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;unsub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;matchOrders.$contract_code&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的取消订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">                                    
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">                     
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"matchOrders.BTC-USDT"</span><span class="p">,</span><span class="w">   
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">          
</span><span class="p">}</span><span class="w">                                    
</span></code></pre><h3 id='4efe6ad8fa-4'>取消订阅请求数据格式说明</h3>
<table><thead>
<tr>
<th style="text-align: left">字段名称</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填;操作名称，订阅固定值为 unsub;</td>
</tr>
<tr>
<td style="text-align: left">cid</td>
<td style="text-align: left">string</td>
<td style="text-align: left">选填;Client 请求唯一 ID</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填;必填；必填；订阅主题名称，必填 (matchOrders.$contract_code)  订阅、取消订阅某个合约代码下的资产变更信息，当 $contract_code值为 * 时代表订阅所有合约代码;</td>
</tr>
</tbody></table>
<h3 id='25b9181131-4'>订阅与取消订阅规则说明</h3>
<table><thead>
<tr>
<th>订阅(sub)</th>
<th>取消订阅(unsub)</th>
<th>规则</th>
</tr>
</thead><tbody>
<tr>
<td>matchOrders.*</td>
<td>matchOrders.*</td>
<td>允许</td>
</tr>
<tr>
<td>matchOrders.contract_code1</td>
<td>matchOrders.*</td>
<td>允许</td>
</tr>
<tr>
<td>matchOrders.contract_code1</td>
<td>matchOrders.contract_code1</td>
<td>允许</td>
</tr>
<tr>
<td>matchOrders.contract_code1</td>
<td>matchOrders.contract_code2</td>
<td>不允许</td>
</tr>
<tr>
<td>matchOrders.*</td>
<td>matchOrders.contract_code1</td>
<td>不允许</td>
</tr>
</tbody></table>
<h2 id='sub-14'>订阅强平订单数据(免鉴权)（sub）</h2><h3 id='4b550b6f5b'>订阅强平订单数据格式</h3>
<p><code>{</code></p>

<p><code>“op”: “sub”,</code></p>

<p><code>“topic&quot;: &quot;public.$contract_code.liquidation_orders”,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client”,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public.BTC-USDT.liquidation_orders"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='ca88326368'><strong>请求参数</strong></h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>订阅固定值为sub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (public.$contract_code.liquidation_orders) 订阅某个品种下的强平订单信息；$contract_code为品种代码（BTC-USDT、ETH-USDT），如果值为 * 时代表订阅所有品种; contract_code支持大小写;</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>当有订单被爆仓账户接管后，返回的参数示例如下：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="s2">"notify"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="s2">"public.btc-usdt.liquidation_orders"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1580815422403</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"direction"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"offset"</span><span class="p">:</span><span class="s2">"close"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"volume"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="mf">4.236</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="mi">1580815422296</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='ef87ad8012'><strong>返回参数说明</strong></h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>操作名称，推送固定值为 notify;</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>推送的主题</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>服务端应答时间戳</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>array object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>仓位方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>数量（张）</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>价格</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>订单创建时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='unsub-5'>取消订阅强平订单(免鉴权)（unsub）</h2><h3 id='4d8f4d366e'>取消订阅强平订单数据格式</h3>
<p><code>{</code></p>

<p><code>“op”: “unsub”,</code></p>

<p><code>“topic&quot;: &quot;public.$contract_code.liquidation_orders”,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client”,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的取消订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public.BTC-USDT.liquidation_orders"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='4efe6ad8fa-5'>取消订阅请求数据格式说明</h3>
<table><thead>
<tr>
<th>字段名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>string</td>
<td>必填;操作名称，订阅固定值为 unsub;</td>
</tr>
<tr>
<td>cid</td>
<td>string</td>
<td>选填;Client 请求唯一 ID</td>
</tr>
<tr>
<td>topic</td>
<td>string</td>
<td>订阅主题名称，必填 (public.$contract_code.liquidation_orders)  订阅、取消订阅某个品种下的资产变更信息，当 $contract_code值为 * 时代表订阅所有品种;</td>
</tr>
</tbody></table>
<h3 id='25b9181131-5'>订阅与取消订阅规则说明</h3>
<table><thead>
<tr>
<th>订阅(sub)</th>
<th>取消订阅(unsub)</th>
<th>规则</th>
</tr>
</thead><tbody>
<tr>
<td>public.*.liquidation_orders</td>
<td>public.*.liquidation_orders</td>
<td>允许</td>
</tr>
<tr>
<td>public.$contract_code.liquidation_orders</td>
<td>public.*.liquidation_orders</td>
<td>允许</td>
</tr>
<tr>
<td>public.contract_code1.liquidation_orders</td>
<td>public.contract_code1.liquidation_orders</td>
<td>允许</td>
</tr>
<tr>
<td>public.contract_code1.liquidation_orders</td>
<td>public.contract_code2.liquidation_orders</td>
<td>不允许</td>
</tr>
<tr>
<td>public.*.liquidation_orders</td>
<td>public.contract_code1.liquidation_orders</td>
<td>不允许</td>
</tr>
</tbody></table>
<h2 id='sub-15'>订阅资金费率推送(免鉴权)（sub）</h2>
<p>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来订阅数据:</p>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;sub&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;40sG903yz80oDFWr&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;public.$contract_code.funding_rate&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public.btc-usdt.funding_rate"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='ca88326368-2'><strong>请求参数</strong></h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>订阅固定值为sub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (public.$contract_code.funding_rate) 订阅某个品种下的强平订单信息；$contract_code为品种代码（BTC-USDT、ETH-USDT），如果值为 * 时代表订阅所有品种; contract_code支持大小写;</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>当资金费率有更新时，返回的参数示例如下</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w"> 
      </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notify"</span><span class="p">,</span><span class="w">            
      </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public.btc-usdt.funding_rate"</span><span class="p">,</span><span class="w">    
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474082831</span><span class="p">,</span><span class="w">   
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w"> 
          </span><span class="s2">"funding_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1490759594752"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"funding_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.12000001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"estimated_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.12000001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"settlement_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1490759594752"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-67'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>操作名称，推送固定值为 notify;</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>推送的主题</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>服务端应答时间戳</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>资金费币种</td>
<td>&quot;USDT&quot;...</td>
</tr>
<tr>
<td>funding_time</td>
<td>true</td>
<td>string</td>
<td>当期资金费率时间</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>funding_rate</td>
<td>true</td>
<td>string</td>
<td>当期资金费率</td>
<td></td>
</tr>
<tr>
<td>estimated_rate</td>
<td>true</td>
<td>string</td>
<td>下一期预测资金费率</td>
<td></td>
</tr>
<tr>
<td>settlement_time</td>
<td>true</td>
<td>string</td>
<td>结算时间</td>
<td>如&quot;1490759594752&quot;</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='unsub-6'>取消订阅资金费率(免鉴权)（unsub）</h2>
<p>成功建⽴和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来取消订阅数据:</p>
<h3 id='5ece2c9713-5'>取消订阅请求数据格式</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;unsub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;public.$contract_code.funding_rate&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的取消订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">                                    
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">                     
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public.BTC-USDT.funding_rate"</span><span class="p">,</span><span class="w">   
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">          
</span><span class="p">}</span><span class="w">                                    
</span></code></pre><h3 id='4efe6ad8fa-6'>取消订阅请求数据格式说明</h3>
<table><thead>
<tr>
<th style="text-align: left">字段名称</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填;操作名称，订阅固定值为 unsub;</td>
</tr>
<tr>
<td style="text-align: left">cid</td>
<td style="text-align: left">string</td>
<td style="text-align: left">选填;Client 请求唯一 ID</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填;必填；必填；订阅主题名称，必填 (public.$contract_code.funding_rate)  订阅、取消订阅某个合约代码下的资产变更信息，当 $contract_code值为 * 时代表订阅所有合约代码;</td>
</tr>
</tbody></table>
<h3 id='25b9181131-6'>订阅与取消订阅规则说明</h3>
<table><thead>
<tr>
<th>订阅(sub)</th>
<th>取消订阅(unsub)</th>
<th>规则</th>
</tr>
</thead><tbody>
<tr>
<td>public.*.funding_rate</td>
<td>pubic.*.funding_rate</td>
<td>允许</td>
</tr>
<tr>
<td>public.contract_code1.funding_rate</td>
<td>public.*.funding_rate</td>
<td>允许</td>
</tr>
<tr>
<td>public.contract_code1.funding_rate</td>
<td>public.contract_code1.funding_rate</td>
<td>允许</td>
</tr>
<tr>
<td>public.contract_code1.funding_rate</td>
<td>public.contract_code2.funding_rate</td>
<td>不允许</td>
</tr>
<tr>
<td>public.*.funding_rate</td>
<td>public.contract_code1.funding_rate</td>
<td>不允许</td>
</tr>
</tbody></table>
<h3 id='e0361480e3-19'>备注</h3>
<p>推送逻辑一般是1分钟一次，但是出现以下情况时不会计算资金费率：</p>

<ul>
<li>合约处于 非交易状态 （待上市，停牌，待开盘，结算中，交割中，结算完成，交割完成，下市）</li>
<li>指数update_time超过5分钟没更新，不计算资金费率</li>
<li>深度数据的updateTime超过5分钟没有更新，不计算资金费率</li>
<li>每次读取到的150档买盘深度和卖盘深度进行md5加密，如果连续5次（或以上）和前一个点的数值一致，则认为系统处于停服状态，此时不计算该点位的资金费率</li>
</ul>
<h2 id='sub-16'>订阅合约信息变动(免鉴权)（sub）</h2>
<p>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来订阅数据:</p>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;sub&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;40sG903yz80oDFWr&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;public.$contract_code.contract_info&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public.btc-usdt.contract_info"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-70'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>订阅固定值为sub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (public.$contract_code.contract_info) 订阅某个品种下的合约变动信息；$contract_code为品种代码（BTC-USDT、ETH-USDT），如果值为 * 时代表订阅所有品种; contract_code支持大小写;</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>返回的参数为：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notify"</span><span class="p">,</span><span class="w">           
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public.btc-usdt.contract_info"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474082831</span><span class="p">,</span><span class="w">
    </span><span class="s2">"event"</span><span class="p">:</span><span class="s2">"init"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contract_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price_tick"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
        </span><span class="s2">"settlement_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1490759594752"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"create_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20200102"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contract_status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-68'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>操作名称，推送固定值为 notify</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>推送的主题</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>event</td>
<td>true</td>
<td>string</td>
<td>通知相关事件说明</td>
<td>订阅成功返回的初始合约信息（init），合约信息字段变化触发（update），系统定期推送触发（snapshot）</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>contract_size</td>
<td>true</td>
<td>decimal</td>
<td>合约面值，即1张合约对应多少美元</td>
<td>10, 100...</td>
</tr>
<tr>
<td>price_tick</td>
<td>true</td>
<td>decimal</td>
<td>合约价格最小变动精度</td>
<td>0.001, 0.01...</td>
</tr>
<tr>
<td>settlement_date</td>
<td>true</td>
<td>string</td>
<td>合约下次结算时间</td>
<td>时间戳，如&quot;1490759594752&quot;</td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>string</td>
<td>合约上市日期</td>
<td>如&quot;20180706&quot;</td>
</tr>
<tr>
<td>contract_status</td>
<td>true</td>
<td>int</td>
<td>合约状态</td>
<td>合约状态: 0:已下市、1:上市、2:待上市、3:停牌，4:待开盘、5:结算中、6:交割中、7:结算完成、8:交割完成</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='a2c8f89312'>说明：</h3>
<ul>
<li>合约信息变动WS推送接口有定期推送逻辑，每60秒进行一次定期推送，由定期推送触发的数据中event参数值为“snapshot”，表示由系统定期推送触发。如果60秒内已经触发过推送，则跳过该次定期推送。</li>
<li>订阅成功时，会立即推送一条最新的合约信息，event为init。</li>
<li>订阅成功后，当合约信息任何一个字段发生变化时推送最新合约信息，多个字段同时变化时仅推送一条最新合约信息，event为update。</li>
<li>当合约状态流转为“交割完成”时，合约下次结算时间为空字符串。</li>
<li>只有状态为1：上市，才能够正常交易，其他状态不可交易；</li>
</ul>
<h2 id='unsub-7'>取消订阅合约信息变动(免鉴权)（unsub）</h2>
<p>成功建⽴和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来取消订阅数据:</p>
<h3 id='5ece2c9713-6'>取消订阅请求数据格式</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;unsub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;public.$contract_code.contract_info&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的取消订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">                                    
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">                     
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public.BTC-USDT.contract_info"</span><span class="p">,</span><span class="w">   
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">          
</span><span class="p">}</span><span class="w">                                    
</span></code></pre><h3 id='4efe6ad8fa-7'>取消订阅请求数据格式说明</h3>
<table><thead>
<tr>
<th style="text-align: left">字段名称</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填;操作名称，订阅固定值为 unsub;</td>
</tr>
<tr>
<td style="text-align: left">cid</td>
<td style="text-align: left">string</td>
<td style="text-align: left">选填;Client 请求唯一 ID</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填;必填；必填；订阅主题名称，必填 (public.$contract_code.contract_info)  订阅、取消订阅某个合约代码下的资产变更信息，当 $contract_code值为 * 时代表订阅所有合约代码;</td>
</tr>
</tbody></table>
<h3 id='25b9181131-7'>订阅与取消订阅规则说明</h3>
<table><thead>
<tr>
<th>订阅(sub)</th>
<th>取消订阅(unsub)</th>
<th>规则</th>
</tr>
</thead><tbody>
<tr>
<td>public.*.contract_info</td>
<td>public.*.contract_info</td>
<td>允许</td>
</tr>
<tr>
<td>public.contract_code1.contract_info</td>
<td>public.*.contract_info</td>
<td>允许</td>
</tr>
<tr>
<td>public.contract_code1.contract_info</td>
<td>public.contract_code1.contract_info</td>
<td>允许</td>
</tr>
<tr>
<td>public.contract_code1.contract_info</td>
<td>public.contract_code2.contract_info</td>
<td>不允许</td>
</tr>
<tr>
<td>public.*.contract_info</td>
<td>public.contract_code1.contract_info</td>
<td>不允许</td>
</tr>
</tbody></table>
<h2 id='sub-17'>订阅计划委托订单更新(sub)</h2>
<p>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来订阅数据:</p>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;sub&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;trigger_order.$contract_code&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trigger_order.BTC-USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-71'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>订阅固定值为sub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (trigger_order.$contract_code) 订阅某个品种下的合约计划委托订单更新信息；$contract_code为品种代码（BTC-USDT、ETH-USDT），如果值为 * 时代表订阅所有品种; contract_code支持大小写;</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p><strong>返回示例</strong>:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notify"</span><span class="p">,</span><span class="w">           
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trigger_order.eos-usdt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474082831</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15712398"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w">  </span><span class="p">[{</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EOS"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EOS-USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trigger_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ge"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"lever_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"161251"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"relation_order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"triggered_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.03</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547448030638</span><span class="p">,</span><span class="w">
                </span><span class="s2">"triggered_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_insert_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"canceled_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547448845593</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fail_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fail_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='66d8016b4f-2'><strong>返回参数说明</strong>：</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>操作名称，推送固定值为 notify</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>推送的主题，与订阅的入参一样</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>uid</td>
<td>true</td>
<td>string</td>
<td>用户uid</td>
<td></td>
</tr>
<tr>
<td>event</td>
<td>true</td>
<td>string</td>
<td>通知相关事件说明</td>
<td>计划委托订单下单成功（order），计划委托撤单成功（cancel），计划委托触发成功（trigger_success），计划委托触发失败（trigger_fail）</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT&quot; ...</td>
</tr>
<tr>
<td>trigger_type</td>
<td>true</td>
<td>string</td>
<td>触发类型： ge大于等于；le小于等于</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型</td>
<td>1、报单</td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>买：&quot;buy&quot;,卖：&quot;sell&quot;</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>开：&quot;open&quot;,平：&quot;close&quot;</td>
</tr>
<tr>
<td>lever_rate</td>
<td>true</td>
<td>int</td>
<td>杠杆倍数</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>decimal</td>
<td>计划委托单订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>字符串类型的订单ID</td>
<td></td>
</tr>
<tr>
<td>relation_order_id</td>
<td>true</td>
<td>string</td>
<td>该字段为关联限价单的关联字段，是t_trigger_order 表中的order_id 字段值，关联t_order表中的user_order_id 值，未触发前数值为-1</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td>2:已提交、4:报单成功、5:报单失败、6:已撤单</td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>来源</td>
<td></td>
</tr>
<tr>
<td>trigger_price</td>
<td>true</td>
<td>decimal</td>
<td>触发价</td>
<td></td>
</tr>
<tr>
<td>triggered_price</td>
<td>true</td>
<td>decimal</td>
<td>被触发时的价格</td>
<td></td>
</tr>
<tr>
<td>order_price</td>
<td>true</td>
<td>decimal</td>
<td>委托价</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>订单创建时间</td>
<td></td>
</tr>
<tr>
<td>triggered_at</td>
<td>true</td>
<td>long</td>
<td>触发时间</td>
<td></td>
</tr>
<tr>
<td>order_insert_at</td>
<td>true</td>
<td>long</td>
<td>下order单时间</td>
<td></td>
</tr>
<tr>
<td>canceled_at</td>
<td>true</td>
<td>long</td>
<td>撤单时间</td>
<td></td>
</tr>
<tr>
<td>fail_code</td>
<td>true</td>
<td>int</td>
<td>被触发时下order单失败错误码</td>
<td></td>
</tr>
<tr>
<td>fail_reason</td>
<td>true</td>
<td>string</td>
<td>被触发时下order单失败原因（英文）</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id='062bb701f5'><strong>说明</strong>：</h4>
<ul>
<li>订单状态系统处理的中间态不进行推送，比如报单中和撤单中；具体通知事件说明映射如下：

<ul>
<li> 当订单状态流转到2（已提交），event通知事件为order（计划委托订单下单成功）；</li>
<li> 当订单状态流转到4（报单成功），event通知事件为trigger_success（计划委托触发成功）；</li>
<li> 当订单状态流转到6（已撤单），event通知事件为cancel（计划委托撤单成功）；</li>
<li> 当订单状态流转到5（报单失败），event通知事件为trigger_fail（计划委托触发失败）；</li>
</ul></li>
<li>订阅时，单合约无法重复订阅，全合约订阅可覆盖单合约的订阅，订阅全合约后无法订阅单合约；</li>
</ul>
<h2 id='unsub-8'>取消订阅计划委托订单更新（unsub）</h2>
<p>成功建⽴和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来取消订阅数据:</p>
<h3 id='5ece2c9713-7'>取消订阅请求数据格式</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;unsub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;trigger_order.$contract_code&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的取消订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">                                    
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">                     
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trigger_order.BTC-USDT"</span><span class="p">,</span><span class="w">   
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">          
</span><span class="p">}</span><span class="w">                                    
</span></code></pre><h3 id='4efe6ad8fa-8'>取消订阅请求数据格式说明</h3>
<table><thead>
<tr>
<th style="text-align: left">字段名称</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填;操作名称，订阅固定值为 unsub;</td>
</tr>
<tr>
<td style="text-align: left">cid</td>
<td style="text-align: left">string</td>
<td style="text-align: left">选填;Client 请求唯一 ID</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">string</td>
<td style="text-align: left">必填;必填；必填；订阅主题名称，必填 (trigger_order.$contract_code)  订阅、取消订阅某个合约代码下的计划委托订单更新信息，当 $contract_code值为 * 时代表订阅所有合约代码;</td>
</tr>
</tbody></table>
<h3 id='25b9181131-8'>订阅与取消订阅规则说明</h3>
<table><thead>
<tr>
<th>订阅(sub)</th>
<th>取消订阅(unsub)</th>
<th>规则</th>
</tr>
</thead><tbody>
<tr>
<td>trigger_order.*</td>
<td>trigger_order.*</td>
<td>允许</td>
</tr>
<tr>
<td>trigger_order.contract_code1</td>
<td>trigger_order.*</td>
<td>允许</td>
</tr>
<tr>
<td>trigger_order.contract_code1</td>
<td>trigger_order.contract_code1</td>
<td>允许</td>
</tr>
<tr>
<td>trigger_order.contract_code1</td>
<td>trigger_order.contract_code2</td>
<td>不允许</td>
</tr>
<tr>
<td>trigger_order.*</td>
<td>trigger_order.contract_code1</td>
<td>不允许</td>
</tr>
</tbody></table>
<h1 id='websocket-6'>WebSocket附录</h1><h2 id='op'>操作类型（OP）说明</h2>
<table><thead>
<tr>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ping</td>
<td>⼼跳发起(server)</td>
</tr>
<tr>
<td>pong</td>
<td>心跳应答</td>
</tr>
<tr>
<td>auth</td>
<td>鉴权</td>
</tr>
<tr>
<td>sub</td>
<td>订阅消息</td>
</tr>
<tr>
<td>unsub</td>
<td>取消订阅消息</td>
</tr>
<tr>
<td>notify</td>
<td>推送订阅消息(server)</td>
</tr>
</tbody></table>
<h2 id='topic'>主题（topic）类型说明</h2>
<table><thead>
<tr>
<th>类型</th>
<th>使用操作类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>orders.$contract_code</td>
<td>sub,unsub</td>
<td>订阅、取消订阅指定交易易对的订单变更更消息，当 contract_code 值为 * 时代表订阅所有交易易对</td>
</tr>
</tbody></table>
<h2 id='err-code'>响应码（Err-Code）说明</h2>
<table><thead>
<tr>
<th>返回码</th>
<th>返回描述</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Request successfully.</td>
</tr>
<tr>
<td>2001</td>
<td>Invalid authentication.</td>
</tr>
<tr>
<td>2002</td>
<td>Authentication required.</td>
</tr>
<tr>
<td>2003</td>
<td>Authentication failed.</td>
</tr>
<tr>
<td>2004</td>
<td>Number of visits exceeds limit.</td>
</tr>
<tr>
<td>2005</td>
<td>Connection has been authenticated.</td>
</tr>
<tr>
<td>2010</td>
<td>Topic error.</td>
</tr>
<tr>
<td>2011</td>
<td>Contract doesn&#39;t exist.</td>
</tr>
<tr>
<td>2012</td>
<td>Topic not subscribed.</td>
</tr>
<tr>
<td>2013</td>
<td>Authentication type doesn&#39;t exist.</td>
</tr>
<tr>
<td>2014</td>
<td>Repeated subscription.</td>
</tr>
<tr>
<td>2030</td>
<td>Exceeds connection limit of single user.</td>
</tr>
<tr>
<td>2040</td>
<td>Missing required parameter.</td>
</tr>
</tbody></table>

<p><br>
<br>
<br>
<br></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
    <script>
      const lang_btn = document.getElementById('lang_box');
      const btn_spot = document.getElementById('btn_spot');
      const btn_dm = document.getElementById('btn_dm');
      const btn_coin_margined_swap = document.getElementById('btn_coin_margined_swap');
      const btn_usdt_swap = document.getElementById('btn_usdt_swap')
      const btn_option = document.getElementById('btn_option');
      const v1_url = document.getElementById('v1_url');
      const v2_url = document.getElementById('v2_url');
      const url = GetUrlRelativePath();

      if(url.indexOf('cn') != -1){
        //如果是中文环境
        lang_btn.innerHTML = 'English';
        btn_spot.innerHTML = '现货';
        btn_dm.innerHTML = '交割合约';
        btn_coin_margined_swap.innerHTML = '币本位永续合约';
        btn_usdt_swap.innerHTML = 'USDT永续合约';
        btn_option.innerHTML = '期权合约';
        lang_btn.href = url.replace('cn/', 'en/');
        btn_spot.href = btn_spot.href.replace('en/', 'cn/');
        btn_dm.href = btn_dm.href.replace('en/', 'cn/');
        btn_coin_margined_swap.href = btn_coin_margined_swap.href.replace('en/', 'cn/');
        btn_usdt_swap.href = btn_usdt_swap.href.replace('en/', 'cn/');
        btn_option.href = btn_option.href.replace('en/', 'cn/');
        v1_url.href = '/docs/spot/v1/cn/';
        v2_url.href = '/docs/spot/v2/cn/';
      }else{
        //如果是英文环境
        lang_btn.innerHTML = '中文';
        btn_spot.innerHTML = 'Spot';
        btn_dm.innerHTML = 'Futures';
        // btn_swap.innerHTML = 'SWAP API';
        btn_coin_margined_swap.innerHTML = 'Coin Margined Swap';
        btn_usdt_swap.innerHTML = 'USDT Margined Swap';
        btn_option.innerHTML = 'Option';
        lang_btn.href = url.replace('en/', 'cn/');
        btn_spot.href = btn_spot.href.replace('cn/', 'en/');
        btn_dm.href = btn_dm.href.replace('cn/', 'en/');
        // btn_swap.href = btn_swap.href.replace('cn/', 'en/');
        btn_coin_margined_swap.href = btn_coin_margined_swap.href.replace('cn/', 'en/');
        btn_usdt_swap.href = btn_usdt_swap.href.replace('cn/', 'en/');
        btn_option.href = btn_option.href.replace('cn/', 'en/');
        v1_url.href = '/docs/spot/v1/en/';
        v2_url.href = '/docs/spot/v2/en/';
      }

      if(location.href.indexOf('docs/dm/v') > 0){
        btn_spot.className = '';
        btn_dm.className = 'current';
        btn_coin_margined_swap.className = '';
        btn_usdt_swap.className = '';
        btn_option.className = '';
      } 
      else if(location.href.indexOf('docs/coin_margined_swap/v') > 0){
        btn_spot.className = '';
        btn_dm.className = '';
        btn_coin_margined_swap.className = 'current';        
        btn_usdt_swap.className = '';
        btn_option.className = '';
      } else if(location.href.indexOf('docs/usdt_swap/v') > 0){
        btn_spot.className = '';        
        btn_dm.className = '';
        btn_coin_margined_swap.className = '';
        btn_usdt_swap.className = 'current';
        btn_option.className = '';
      } else if(location.href.indexOf('docs/option/v') > 0){
        btn_spot.className = '';
        btn_coin_margined_swap.className = '';
        btn_usdt_swap.className = '';
        btn_dm.className = '';
        btn_option.className = 'current';
      } else {
        btn_spot.className = 'current';
        btn_coin_margined_swap.className = '';
        btn_usdt_swap.className = '';
        btn_dm.className = '';
        btn_option.className = '';
      }
      lang_btn.style.display = 'block';
      function GetUrlRelativePath(){
        let url = document.location.toString();
        let arrUrl = url.split("//");
        let start = arrUrl[1].indexOf("/");
        let relUrl = arrUrl[1].substring(start);
        if(relUrl.indexOf("?") != -1){
          relUrl = relUrl.split("?")[0];
        }
        if(relUrl.indexOf("#") != -1){
          relUrl = relUrl.split("#")[0];
        }
        return relUrl;
  　　}
    </script>
  </body>
</html>
