
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <title>火币期权合约 API 文档</title>
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <header>
      <div class="flex_box">
        <img src="images/logo.svg" class="logo" alt="Logo" />
        <div class="nav_box">
          <span class="nav_cell" style="display: none">
            <a href="javascript:;" class="nav_first">v1<i class="icon_nav"></i></a>
            <ul class="nav_ul">
              <li>
                <a href="/docs/spot/v1/en/" id="v1_url">v1</a>
              </li>
            </ul>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/spot/v1/en/" id="btn_spot">现货</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/dm/v1/en/" id="btn_dm">交割合约</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/coin_margined_swap/v1/en/" id="btn_coin_margined_swap">币本位永续合约</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/usdt_swap/v1/en/" id="btn_usdt_swap">USDT本位永续合约</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/option/v1/en/" id="btn_option">期权合约</a>
          </span>
          <!-- <span class="nav_cell nav_tab">
            <a href="/docs/swap/v1/en/" id="btn_swap">永续合约</a>
          </span> -->
        </div>
      </div>
      <a href="/docs/spot/v1/cn/" class="lang" id="lang_box">简体中文</a>
    </header>
    <div class="toc-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#5ea2e0cde2" class="toc-h1 toc-link" data-title="简介">简介</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api" class="toc-h2 toc-link" data-title="期权合约API简介">期权合约API简介</a>
                  </li>
                  <li>
                    <a href="#6ac6895b3f" class="toc-h2 toc-link" data-title="做市商项目">做市商项目</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#185368440e" class="toc-h1 toc-link" data-title="更新日志">更新日志</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1-0-6-2021-5-17-client_order_id" class="toc-h2 toc-link" data-title="1.0.6 2021年5月17日 【修改：母子账户划转（新增选填入参：client_order_id）】">1.0.6 2021年5月17日 【修改：母子账户划转（新增选填入参：client_order_id）】</a>
                  </li>
                  <li>
                    <a href="#1-0-5-2021-2-26-ch-market-trade-detail-tick-contract_code" class="toc-h2 toc-link" data-title="1.0.5 2021年2月26日 【新增：获取账户总资产估值接口。修改获取合约最高限价和最低限价接口（支持用户所有入参都不填，接口返回所有当前上市合约的限价数据。）、修改获取市场最近成交记录接口（支持用户所有入参都不填，接口返回所有当前上市合约的最近成交数据；当用户不传入参时， 返参ch值为market.*trade.detail。在返参tick下新增字段：contract_code。）】">1.0.5 2021年2月26日 【新增：获取账户总资产估值接口。修改获取合约最高限价和最低限价接口（支持用户所有入参都不填，接口返回所有当前上市合约的限价数据。）、修改获取市场最近成交记录接口（支持用户所有入参都不填，接口返回所有当前上市合约的最近成交数据；当用户不传入参时， 返参ch值为market.*trade.detail。在返参tick下新增字段：contract_code。）】</a>
                  </li>
                  <li>
                    <a href="#1-0-4-2021-2-5-trade-detail-trade-detail" class="toc-h2 toc-link" data-title="1.0.4 2021年2月5日【新增：批量设置子账户交易权限接口、批量获取子账户资产信息接口。修改：获取市场最近成交记录接口、批量获取最近的交易记录接口、订阅 Trade Detail 数据接口、请求 Trade Detail 数据接口】">1.0.4 2021年2月5日【新增：批量设置子账户交易权限接口、批量获取子账户资产信息接口。修改：获取市场最近成交记录接口、批量获取最近的交易记录接口、订阅 Trade Detail 数据接口、请求 Trade Detail 数据接口】</a>
                  </li>
                  <li>
                    <a href="#1-0-3-2020-01-29-id-id-18-id-order_id_str-id" class="toc-h2 toc-link" data-title="1.0.3 2020年01月29日 【修改：全部撤单接口、计划委托全部撤单接口、合约当前未成交委托接口、计划委托当前委托接口，修改：计划委托订单的订单ID由原本的自然数自增ID 改为长度为 18 位的唯一标识ID。推荐使用下单后返回的 order_id_str（字符串类型的订单 ID），避免发生长度过大而被系统截断的情况。】">1.0.3 2020年01月29日 【修改：全部撤单接口、计划委托全部撤单接口、合约当前未成交委托接口、计划委托当前委托接口，修改：计划委托订单的订单ID由原本的自然数自增ID 改为长度为 18 位的唯一标识ID。推荐使用下单后返回的 order_id_str（字符串类型的订单 ID），避免发生长度过大而被系统截断的情况。】</a>
                  </li>
                  <li>
                    <a href="#1-0-2-2021-01-12-market-detail" class="toc-h2 toc-link" data-title="1.0.2 2021年01月12号 【修改获取当前可用合约总持仓量、修改获取合约历史委托接口、修改获取计划委托历史委托接口、修改订阅Market Detail数据】">1.0.2 2021年01月12号 【修改获取当前可用合约总持仓量、修改获取合约历史委托接口、修改获取计划委托历史委托接口、修改订阅Market Detail数据】</a>
                  </li>
                  <li>
                    <a href="#1-0-1-2020-10-10-websocket" class="toc-h2 toc-link" data-title="1.0.1 2020年10月10日 【新增：订阅系统状态更新推送的 WebSocket 接口】">1.0.1 2020年10月10日 【新增：订阅系统状态更新推送的 WebSocket 接口】</a>
                  </li>
                  <li>
                    <a href="#1-0-0-2020-9-1-18-00-gmt-8" class="toc-h2 toc-link" data-title="1.0.0 2020年9月1日18:00(GMT+8)">1.0.0 2020年9月1日18:00(GMT+8)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#0d9cec2a3b" class="toc-h1 toc-link" data-title="合约交易接入说明">合约交易接入说明</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ab0b26742c" class="toc-h2 toc-link" data-title="合约交易接口列表">合约交易接口列表</a>
                  </li>
                  <li>
                    <a href="#8664ee712b" class="toc-h2 toc-link" data-title="访问地址">访问地址</a>
                  </li>
                  <li>
                    <a href="#c64cd15fdc" class="toc-h2 toc-link" data-title="签名认证">签名认证</a>
                  </li>
                  <li>
                    <a href="#4977e9e52a" class="toc-h2 toc-link" data-title="访问次数限制">访问次数限制</a>
                  </li>
                  <li>
                    <a href="#9aaa7f5ea2" class="toc-h2 toc-link" data-title="撤单率限制【暂未启用】">撤单率限制【暂未启用】</a>
                  </li>
                  <li>
                    <a href="#e09f675bbd" class="toc-h2 toc-link" data-title="停服维护">停服维护</a>
                  </li>
                  <li>
                    <a href="#bef5ec9210" class="toc-h2 toc-link" data-title="查询系统是否可用">查询系统是否可用</a>
                  </li>
                  <li>
                    <a href="#67361e2961" class="toc-h2 toc-link" data-title="获取当前系统时间戳">获取当前系统时间戳</a>
                  </li>
                  <li>
                    <a href="#f39e8d8281" class="toc-h2 toc-link" data-title="错误码详情">错误码详情</a>
                  </li>
                  <li>
                    <a href="#api-2" class="toc-h2 toc-link" data-title="API 最佳实践">API 最佳实践</a>
                  </li>
                  <li>
                    <a href="#2cff7db524" class="toc-h2 toc-link" data-title="代码实例">代码实例</a>
                  </li>
                  <li>
                    <a href="#demo-2" class="toc-h2 toc-link" data-title="策略DEMO">策略DEMO</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#0adb1147b3" class="toc-h1 toc-link" data-title="常见问题">常见问题</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#59ce3c8353" class="toc-h2 toc-link" data-title="接入验签相关">接入验签相关</a>
                  </li>
                  <li>
                    <a href="#ws" class="toc-h2 toc-link" data-title="行情及WS推送相关">行情及WS推送相关</a>
                  </li>
                  <li>
                    <a href="#d9c242c3fe" class="toc-h2 toc-link" data-title="交易相关">交易相关</a>
                  </li>
                  <li>
                    <a href="#a231eed8c5" class="toc-h2 toc-link" data-title="错误码相关">错误码相关</a>
                  </li>
                  <li>
                    <a href="#9065b72c3b" class="toc-h2 toc-link" data-title="如何更有效的解决问题">如何更有效的解决问题</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#0737c93bf7" class="toc-h1 toc-link" data-title="合约市场行情接口">合约市场行情接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#6b15dcb6a3" class="toc-h2 toc-link" data-title="获取合约信息">获取合约信息</a>
                  </li>
                  <li>
                    <a href="#1028ab8392" class="toc-h2 toc-link" data-title="获取合约指数信息">获取合约指数信息</a>
                  </li>
                  <li>
                    <a href="#025c787500" class="toc-h2 toc-link" data-title="获取合约最高限价和最低限价">获取合约最高限价和最低限价</a>
                  </li>
                  <li>
                    <a href="#2703acfb75" class="toc-h2 toc-link" data-title="查询合约市场指标">查询合约市场指标</a>
                  </li>
                  <li>
                    <a href="#e30aaa2765" class="toc-h2 toc-link" data-title="获取当前可用合约总持仓量">获取当前可用合约总持仓量</a>
                  </li>
                  <li>
                    <a href="#7191d942c0" class="toc-h2 toc-link" data-title="获取预估交割价">获取预估交割价</a>
                  </li>
                  <li>
                    <a href="#7db2c9819a" class="toc-h2 toc-link" data-title="获取平台持仓量">获取平台持仓量</a>
                  </li>
                  <li>
                    <a href="#3c4726638f" class="toc-h2 toc-link" data-title="查询系统状态">查询系统状态</a>
                  </li>
                  <li>
                    <a href="#1716b8327e" class="toc-h2 toc-link" data-title="获取行情深度数据">获取行情深度数据</a>
                  </li>
                  <li>
                    <a href="#k" class="toc-h2 toc-link" data-title="获取K线数据">获取K线数据</a>
                  </li>
                  <li>
                    <a href="#c0732fad25" class="toc-h2 toc-link" data-title="获取聚合行情">获取聚合行情</a>
                  </li>
                  <li>
                    <a href="#a690ab6851" class="toc-h2 toc-link" data-title="获取市场最近成交记录">获取市场最近成交记录</a>
                  </li>
                  <li>
                    <a href="#8aa1eaa6bf" class="toc-h2 toc-link" data-title="批量获取最近的交易记录">批量获取最近的交易记录</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#e2d72291c6" class="toc-h1 toc-link" data-title="合约资产接口">合约资产接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#f4d78556c7" class="toc-h2 toc-link" data-title="获取账户总资产估值">获取账户总资产估值</a>
                  </li>
                  <li>
                    <a href="#e807c44c06" class="toc-h2 toc-link" data-title="获取用户账户信息">获取用户账户信息</a>
                  </li>
                  <li>
                    <a href="#46a3ba9a2f" class="toc-h2 toc-link" data-title="获取用户持仓信息">获取用户持仓信息</a>
                  </li>
                  <li>
                    <a href="#7dbd291aad" class="toc-h2 toc-link" data-title="批量设置子账户交易权限">批量设置子账户交易权限</a>
                  </li>
                  <li>
                    <a href="#a2a4472972" class="toc-h2 toc-link" data-title="查询母账户下所有子账户资产信息">查询母账户下所有子账户资产信息</a>
                  </li>
                  <li>
                    <a href="#d498051674" class="toc-h2 toc-link" data-title="批量获取子账户资产信息">批量获取子账户资产信息</a>
                  </li>
                  <li>
                    <a href="#1da4700b7e" class="toc-h2 toc-link" data-title="查询母账户下的单个子账户资产信息">查询母账户下的单个子账户资产信息</a>
                  </li>
                  <li>
                    <a href="#12a5adfd6a" class="toc-h2 toc-link" data-title="查询母账户下的单个子账户持仓信息">查询母账户下的单个子账户持仓信息</a>
                  </li>
                  <li>
                    <a href="#da46d99549" class="toc-h2 toc-link" data-title="查询用户财务记录">查询用户财务记录</a>
                  </li>
                  <li>
                    <a href="#642a2a6389" class="toc-h2 toc-link" data-title="获取用户当前的下单量限制">获取用户当前的下单量限制</a>
                  </li>
                  <li>
                    <a href="#ae76aa5ff8" class="toc-h2 toc-link" data-title="获取用户当前的手续费费率">获取用户当前的手续费费率</a>
                  </li>
                  <li>
                    <a href="#5cfe1f07e1" class="toc-h2 toc-link" data-title="获取用户当前的划转限制">获取用户当前的划转限制</a>
                  </li>
                  <li>
                    <a href="#8ea578627e" class="toc-h2 toc-link" data-title="获取用户当前的持仓量限制">获取用户当前的持仓量限制</a>
                  </li>
                  <li>
                    <a href="#4e2bbf5aa5" class="toc-h2 toc-link" data-title="获取用户资产和持仓信息">获取用户资产和持仓信息</a>
                  </li>
                  <li>
                    <a href="#7bc510fe47" class="toc-h2 toc-link" data-title="母子账户划转">母子账户划转</a>
                  </li>
                  <li>
                    <a href="#6381f8e39d" class="toc-h2 toc-link" data-title="获取母账户下的所有母子账户划转记录">获取母账户下的所有母子账户划转记录</a>
                  </li>
                  <li>
                    <a href="#api-3" class="toc-h2 toc-link" data-title="获取用户API指标禁用信息">获取用户API指标禁用信息</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ea84f6c646" class="toc-h1 toc-link" data-title="合约交易接口">合约交易接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#9dc85ffb46" class="toc-h2 toc-link" data-title="合约下单">合约下单</a>
                  </li>
                  <li>
                    <a href="#33123f0c09" class="toc-h2 toc-link" data-title="合约批量下单">合约批量下单</a>
                  </li>
                  <li>
                    <a href="#4e53c0fccd" class="toc-h2 toc-link" data-title="撤销订单">撤销订单</a>
                  </li>
                  <li>
                    <a href="#f175a031e7" class="toc-h2 toc-link" data-title="全部撤单">全部撤单</a>
                  </li>
                  <li>
                    <a href="#e24ab99584" class="toc-h2 toc-link" data-title="获取用户的订单信息">获取用户的订单信息</a>
                  </li>
                  <li>
                    <a href="#77f352d1d1" class="toc-h2 toc-link" data-title="获取用户的订单明细信息">获取用户的订单明细信息</a>
                  </li>
                  <li>
                    <a href="#7eeb4e6ac4" class="toc-h2 toc-link" data-title="获取用户的当前未成交委托">获取用户的当前未成交委托</a>
                  </li>
                  <li>
                    <a href="#ee3bf6d276" class="toc-h2 toc-link" data-title="获取用户的历史委托">获取用户的历史委托</a>
                  </li>
                  <li>
                    <a href="#cc32b5f290" class="toc-h2 toc-link" data-title="获取用户的历史成交记录">获取用户的历史成交记录</a>
                  </li>
                  <li>
                    <a href="#669c2a2e3d" class="toc-h2 toc-link" data-title="闪电平仓下单">闪电平仓下单</a>
                  </li>
                  <li>
                    <a href="#03b4e6fa59" class="toc-h2 toc-link" data-title="计划委托下单">计划委托下单</a>
                  </li>
                  <li>
                    <a href="#2857693297" class="toc-h2 toc-link" data-title="计划委托撤单">计划委托撤单</a>
                  </li>
                  <li>
                    <a href="#362fe20088" class="toc-h2 toc-link" data-title="计划委托全部撤单">计划委托全部撤单</a>
                  </li>
                  <li>
                    <a href="#b5280a27b3" class="toc-h2 toc-link" data-title="获取计划委托当前委托">获取计划委托当前委托</a>
                  </li>
                  <li>
                    <a href="#37aeb9f3bd" class="toc-h2 toc-link" data-title="获取计划委托历史委托">获取计划委托历史委托</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#7b425c9845" class="toc-h1 toc-link" data-title="现货-期权合约划转接口">现货-期权合约划转接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#6e82128d5d" class="toc-h2 toc-link" data-title="现货-期权合约账户间进行资金的划转">现货-期权合约账户间进行资金的划转</a>
                  </li>
                  <li>
                    <a href="#86f9c9c3d1" class="toc-h2 toc-link" data-title="响应码列表">响应码列表</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket" class="toc-h1 toc-link" data-title="合约Websocket简介">合约Websocket简介</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#14f70b1746-2" class="toc-h2 toc-link" data-title="接口列表">接口列表</a>
                  </li>
                  <li>
                    <a href="#af44fd2dcc" class="toc-h2 toc-link" data-title="合约订阅地址">合约订阅地址</a>
                  </li>
                  <li>
                    <a href="#4977e9e52a-2" class="toc-h2 toc-link" data-title="访问次数限制">访问次数限制</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-2" class="toc-h1 toc-link" data-title="WebSocket心跳以及鉴权接口">WebSocket心跳以及鉴权接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#472585d15d" class="toc-h2 toc-link" data-title="市场行情心跳">市场行情心跳</a>
                  </li>
                  <li>
                    <a href="#fdaa613443" class="toc-h2 toc-link" data-title="订单推送心跳">订单推送心跳</a>
                  </li>
                  <li>
                    <a href="#449fab721e" class="toc-h2 toc-link" data-title="订单推送访问地址">订单推送访问地址</a>
                  </li>
                  <li>
                    <a href="#b1db8cc3ee" class="toc-h2 toc-link" data-title="服务方主动断开连接">服务方主动断开连接</a>
                  </li>
                  <li>
                    <a href="#47b397d5de" class="toc-h2 toc-link" data-title="服务方返回错误，但不断开连接">服务方返回错误，但不断开连接</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="鉴权-Authentication">鉴权-Authentication</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-3" class="toc-h1 toc-link" data-title="WebSocket市场行情接口">WebSocket市场行情接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#kline" class="toc-h2 toc-link" data-title="订阅 KLine 数据">订阅 KLine 数据</a>
                  </li>
                  <li>
                    <a href="#kline-2" class="toc-h2 toc-link" data-title="请求 KLine 数据">请求 KLine 数据</a>
                  </li>
                  <li>
                    <a href="#market-depth" class="toc-h2 toc-link" data-title="订阅 Market Depth 数据">订阅 Market Depth 数据</a>
                  </li>
                  <li>
                    <a href="#market-depth-2" class="toc-h2 toc-link" data-title="订阅 Market Depth增量推送数据">订阅 Market Depth增量推送数据</a>
                  </li>
                  <li>
                    <a href="#market-detail" class="toc-h2 toc-link" data-title="订阅 Market Detail 数据">订阅 Market Detail 数据</a>
                  </li>
                  <li>
                    <a href="#trade-detail" class="toc-h2 toc-link" data-title="请求 Trade Detail 数据">请求 Trade Detail 数据</a>
                  </li>
                  <li>
                    <a href="#trade-detail-2" class="toc-h2 toc-link" data-title="订阅 Trade Detail 数据">订阅 Trade Detail 数据</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-4" class="toc-h1 toc-link" data-title="WebSocket订单和用户数据接口">WebSocket订单和用户数据接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#8a7d47a861" class="toc-h2 toc-link" data-title="订阅订单成交数据">订阅订单成交数据</a>
                  </li>
                  <li>
                    <a href="#unsub" class="toc-h2 toc-link" data-title="取消订阅订单成交数据（unsub）">取消订阅订单成交数据（unsub）</a>
                  </li>
                  <li>
                    <a href="#f0259ca770" class="toc-h2 toc-link" data-title="订阅资产变动数据">订阅资产变动数据</a>
                  </li>
                  <li>
                    <a href="#unsub-2" class="toc-h2 toc-link" data-title="取消订阅资产变动数据（unsub）">取消订阅资产变动数据（unsub）</a>
                  </li>
                  <li>
                    <a href="#sub-6" class="toc-h2 toc-link" data-title="持仓变动更新数据（sub）">持仓变动更新数据（sub）</a>
                  </li>
                  <li>
                    <a href="#unsub-3" class="toc-h2 toc-link" data-title="取消订阅持仓变动数据（unsub）">取消订阅持仓变动数据（unsub）</a>
                  </li>
                  <li>
                    <a href="#sub-7" class="toc-h2 toc-link" data-title="订阅撮合订单成交数据（sub）">订阅撮合订单成交数据（sub）</a>
                  </li>
                  <li>
                    <a href="#unsub-4" class="toc-h2 toc-link" data-title="取消撮合订单成交数据（unsub）">取消撮合订单成交数据（unsub）</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-5" class="toc-h1 toc-link" data-title="WebSocket系统状态更新接口">WebSocket系统状态更新接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#639acfa81d" class="toc-h2 toc-link" data-title="订阅系统状态更新">订阅系统状态更新</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-6" class="toc-h1 toc-link" data-title="WebSocket附录">WebSocket附录</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#op" class="toc-h2 toc-link" data-title="操作类型（OP）说明">操作类型（OP）说明</a>
                  </li>
                  <li>
                    <a href="#topic" class="toc-h2 toc-link" data-title="主题（topic）类型说明">主题（topic）类型说明</a>
                  </li>
                  <li>
                    <a href="#err-code" class="toc-h2 toc-link" data-title="响应码（Err-Code）说明">响应码（Err-Code）说明</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.hbg.com/zh-cn/apikey/'>  创建 API Key </a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='5ea2e0cde2'>简介</h1><h2 id='api'>期权合约API简介</h2>
<p>欢迎使用火币期权合约 API！ 你可以使用此 API 获得市场行情数据，进行交易，并且管理你的账户。</p>

<p>在文档的右侧是代码示例，目前我们仅提供针对 <code>shell</code> 的代码示例。</p>

<p>你可以通过选择上方下拉菜单的版本号来切换文档对应的 API 版本，也可以通过点击右上方的语言按钮来切换文档语言。</p>
<h2 id='6ac6895b3f'>做市商项目</h2>
<aside class="notice">  
做市商项目不支持点卡抵扣、VIP、交易量相关活动以及任何形式的返佣活动。
</aside>  

<p>欢迎有优秀 maker 策略交易量大的用户参与长期合约做市商项目。如果您的火币交割合约账户中有折合大于 3 BTC 资产，或火币币本位永续合约账户中有折合大于 3 BTC 资产，或火币期权合约账户中有折合大于 3 BTC 资产，或火币USDT本位永续合约账户中有大于 100000 USDT 资产，请提供以下信息到 dm_mm@huobi.com（做市商项目不支持点卡抵扣、VIP、交易量相关活动以及任何形式的返佣活动）:</p>

<ol>
<li>提供火币 UID （需不存在返佣关系的 UID）；</li>
<li>提供其他交易平台 maker 交易量截图证明（比如30天内成交量，或者 VIP 等级等）；</li>
</ol>
<h1 id='185368440e'>更新日志</h1><h2 id='1-0-6-2021-5-17-client_order_id'>1.0.6 2021年5月17日 【修改：母子账户划转（新增选填入参：client_order_id）】</h2><h3 id='1-client_order_id'>1、修改母子账户划转接口（新增选填入参：client_order_id）</h3>
<ul>
<li>接口名称：母子账户划转</li>
<li>接口类型：私有接口</li>
<li>接口URL：/option-api/v1/option_master_sub_transfer</li>
</ul>
<h2 id='1-0-5-2021-2-26-ch-market-trade-detail-tick-contract_code'>1.0.5 2021年2月26日 【新增：获取账户总资产估值接口。修改获取合约最高限价和最低限价接口（支持用户所有入参都不填，接口返回所有当前上市合约的限价数据。）、修改获取市场最近成交记录接口（支持用户所有入参都不填，接口返回所有当前上市合约的最近成交数据；当用户不传入参时， 返参ch值为market.*trade.detail。在返参tick下新增字段：contract_code。）】</h2><h3 id='1'>1、新增获取账户总资产估值接口</h3>
<ul>
<li>接口名称：获取账户总资产估值</li>
<li>接口类型：私有接口</li>
<li>接口URL：/option-api/v1/option_balance_valuation</li>
</ul>
<h3 id='2'>2、修改获取合约最高限价和最低限价接口（支持用户所有入参都不填，接口返回所有当前上市合约的限价数据。）</h3>
<ul>
<li>接口名称：获取合约最高限价和最低限价</li>
<li>接口类型：共公接口</li>
<li>接口URL：/option-api/v1/option_price_limit</li>
</ul>
<h3 id='3-ch-market-trade-detail-data-contract_code'>3、修改获取市场最近成交记录接口（支持用户所有入参都不填，接口返回所有当前上市合约的最近成交数据；当用户不传入参时， 返参ch值为market.*trade.detail。在返参data下新增字段：contract_code。）</h3>
<ul>
<li>接口名称：获取市场最近成交记录</li>
<li>接口类型：共公接口</li>
<li>接口URL：/option-ex/market/trade</li>
</ul>
<h2 id='1-0-4-2021-2-5-trade-detail-trade-detail'>1.0.4 2021年2月5日【新增：批量设置子账户交易权限接口、批量获取子账户资产信息接口。修改：获取市场最近成交记录接口、批量获取最近的交易记录接口、订阅 Trade Detail 数据接口、请求 Trade Detail 数据接口】</h2><h3 id='1-2'>1、新增批量设置子账户交易权限接口</h3>
<ul>
<li>接口名称：批量设置子账户交易权限</li>
<li>接口类型：私有接口</li>
<li>接口URL：/option-api/v1/option_sub_auth</li>
</ul>
<h3 id='2-2'>2、新增批量获取子账户资产信息接口</h3>
<ul>
<li>接口名称：批量获取子账户资产信息</li>
<li>接口类型：私有接口</li>
<li>接口URL：/option-api/v1/option_sub_account_info_list</li>
</ul>
<h3 id='3-data-quantity-data-trade_turnover'>3、修改获取市场最近成交记录接口（返参data参数下新增quantity，表示成交量（币）。计算公式：成交量（币） = 成交量（张）* 合约面值。返参data参数下新增trade_turnover，表示成交额（计价币种）。计算公式：成交额（计价币种） = 成交量（张）* 合约面值 * 成交价格。）</h3>
<ul>
<li>接口名称：获取市场最近成交记录</li>
<li>接口类型：公共接口</li>
<li>接口URL：/option-ex/market/trade</li>
</ul>
<h3 id='4-data-quantity-data-trade_turnover'>4、修改批量获取最近的交易记录接口（返参data参数下新增quantity，表示成交量（币）。计算公式：成交量（币） = 成交量（张）* 合约面值。返参data参数下新增trade_turnover，表示成交额（计价币种）。计算公式：成交额（计价币种） = 成交量（张）* 合约面值 * 成交价格。）</h3>
<ul>
<li>接口名称：批量获取最近的交易记录</li>
<li>接口类型：公共接口</li>
<li>接口URL：/option-ex/market/history/trade</li>
</ul>
<h3 id='5-trade-detail-data-quantity-data-trade_turnover'>5、修改订阅 Trade Detail 数据接口（返参data参数下新增quantity，表示成交量（币）。计算公式：成交量（币） = 成交量（张）* 合约面值。返参data参数下新增trade_turnover，表示成交额（计价币种）。计算公式：成交额（计价币种） = 成交量（张）* 合约面值 * 成交价格。）</h3>
<ul>
<li>接口名称：订阅 Trade Detail 数据</li>
<li>接口类型：公共接口</li>
<li>订阅地址：market.$contract_code.trade.detail</li>
</ul>
<h3 id='6-trade-detail-data-quantity-data-trade_turnover'>6、修改请求 Trade Detail 数据接口（返参data参数下新增quantity，表示成交量（币）。计算公式：成交量（币） = 成交量（张）* 合约面值。返参data参数下新增trade_turnover，表示成交额（计价币种）。计算公式：成交额（计价币种） = 成交量（张）* 合约面值 * 成交价格。）</h3>
<ul>
<li>接口名称：请求 Trade Detail 数据</li>
<li>接口类型：公共接口</li>
<li>订阅地址：market.$contract_code.trade.detail</li>
</ul>
<h2 id='1-0-3-2020-01-29-id-id-18-id-order_id_str-id'>1.0.3 2020年01月29日 【修改：全部撤单接口、计划委托全部撤单接口、合约当前未成交委托接口、计划委托当前委托接口，修改：计划委托订单的订单ID由原本的自然数自增ID 改为长度为 18 位的唯一标识ID。推荐使用下单后返回的 order_id_str（字符串类型的订单 ID），避免发生长度过大而被系统截断的情况。】</h2><h3 id='1-2-direction-buy-sell-offset-open-close'>1、修改全部撤单接口（请求参数新增 2 个选填字段:direction，表示买卖方向，不填默认撤销全部。参数可选值为“buy”:买，“sell”:卖。offset，表示开平方向，不填默认撤销全部。参数可 选值为“open”:开仓，“close”:平仓。）</h3>
<ul>
<li>接口名称：全部撤单</li>
<li>接口类型：私有接口</li>
<li>接口URL：/option-api/v1/option_cancelall</li>
</ul>
<h3 id='2-2-direction-buy-sell-offset-open-close'>2、修改计划委托全部撤单接口（请求参数新增 2 个选填字段:direction，表示买卖方向，不填默认撤销全部。参数可选值为“buy”:买，“sell”:卖。offset，表示开平方向，不填默认撤销全部。参数可 选值为“open”:开仓，“close”:平仓。）</h3>
<ul>
<li>接口名称：计划委托全部撤单</li>
<li>接口类型：私有接口</li>
<li>接口URL：/option-api/v1/option_trigger_cancelall</li>
</ul>
<h3 id='3-2-sort_by-created_at-update_time-trade_type-0-1-2-3-4-orders-update_time'>3、获取合约当前未成交委托接口（请求参数新增 2 个选填字段:sort_by，表示排序字段，不填默认按创建时间倒序。参数可选值为“created_at”(按照创建时间倒序)，“update_time”(按照更新时间倒 序)。trade_type，表示交易类型，不填默认查询全部。参数可选值为 0:全部,1:买入 开多,2: 卖出开空,3: 买入平空,4: 卖出平多。返回参数中的 orders 下新增以下字段:update_time(订单更新时间，单位毫秒)。）</h3>
<ul>
<li>接口名称：获取合约当前未成交委托</li>
<li>接口类型：私有接口</li>
<li>接口URL：/option-api/v1/option_openorders </li>
</ul>
<h3 id='4-trade_type-0-1-2-3-4'>4、查询计划委托当前委托接口（请求参数新增选填字段:trade_type，表示交易类型，不填默认查询全部。参数可选值为 0:全部,1:买入开多,2: 卖出开空,3: 买入平空,4: 卖出平多。）</h3>
<ul>
<li>接口名称：查询计划委托当前委托</li>
<li>接口类型：私有接口</li>
<li>接口URL：/option-api/v1/option_trigger_openorders</li>
</ul>
<h2 id='1-0-2-2021-01-12-market-detail'>1.0.2 2021年01月12号 【修改获取当前可用合约总持仓量、修改获取合约历史委托接口、修改获取计划委托历史委托接口、修改订阅Market Detail数据】</h2><h3 id='1-data-trade_volume-24-trade_amount-24-trade_turnover-24'>1、修改获取当前可用合约总持仓量（在返回参数data中新增trade_volume：最近24小时成交量（张），trade_amount：最近24小时成交量（币）trade_turnover：最近24小时成交额、这三个字段 ）</h3>
<ul>
<li>接口名称: 获取当前可用合约总持仓量</li>
<li>接口类型: 公共接口</li>
<li>接口URL: /option-api/v1/option_open_interest</li>
</ul>
<h3 id='2-market-detail-tick-ask-bid'>2、修改订阅Market Detail数据（在返参tick中新增ask表示卖一，bid表示买一。）</h3>
<ul>
<li>接口名称: 订阅Market Detail数据</li>
<li>接口类型: 公共接口</li>
<li>订阅主题: market.$contract_code.detail</li>
</ul>
<h3 id='3-sort_by-create_date-update_time-update_time'>3、修改获取合约历史委托接口（新增入参：sort_by(表示：排序字段，可选值为“create_date”，“update_time”)。新增返回参数：update_time（表示：订单的更新时间））</h3>
<ul>
<li>接口名称: 获取合约历史委托接口 </li>
<li>接口类型: 私有接口</li>
<li>接口URL: /option-api/v1/option_hisorders</li>
</ul>
<h3 id='4-sort_by-created_at-update_time-update_time'>4、修改获取计划委托历史委托接口（新增入参：sort_by(表示：排序字段，可选值为“created_at”，“update_time”)。新增返回参数：update_time（表示：订单的更新时间））</h3>
<ul>
<li>接口名称: 获取计划委托历史委托 </li>
<li>接口类型: 私有接口</li>
<li>接口URL: /option-api/v1/option_trigger_hisorders</li>
</ul>
<h2 id='1-0-1-2020-10-10-websocket'>1.0.1 2020年10月10日 【新增：订阅系统状态更新推送的 WebSocket 接口】</h2><h3 id='1-websocket'>1、新增订阅系统状态更新推送的 WebSocket 接口</h3>
<ul>
<li>接口名称：订阅系统状态更新</li>
<li>接口类型: 公共接口</li>
<li>订阅主题：public.$service.heartbeat</li>
</ul>
<h2 id='1-0-0-2020-9-1-18-00-gmt-8'>1.0.0 2020年9月1日18:00(GMT+8)</h2><h1 id='0d9cec2a3b'>合约交易接入说明</h1><h2 id='ab0b26742c'>合约交易接口列表</h2><h3 id='14f70b1746'>接口列表</h3>
<table><thead>
<tr>
<th>权限类型</th>
<th>接口数据类型</th>
<th>接口</th>
<th>请求方式</th>
<th>接口描述</th>
<th>需要验签</th>
</tr>
</thead><tbody>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>/option-api/v1/option_contract_info</td>
<td>GET</td>
<td>获取合约信息</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>/option-api/v1/option_index</td>
<td>GET</td>
<td>获取合约指数信息</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>/option-api/v1/option_price_limit</td>
<td>GET</td>
<td>获取合约最高限价和最低限价</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>/option-api/v1/option_market_index</td>
<td>GET</td>
<td>查询合约市场指标</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>/option-api/v1/option_open_interest</td>
<td>GET</td>
<td>获取当前可用合约总持仓量</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>/option-api/v1/option_delivery_price</td>
<td>GET</td>
<td>获取预估交割价</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>/option-api/v1/option_his_open_interest</td>
<td>GET</td>
<td>获取平台持仓量</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>基础信息接口</td>
<td>/option-api/v1/option_api_state</td>
<td>GET</td>
<td>查询系统状态</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>/option-ex/market/depth</td>
<td>GET</td>
<td>获取行情深度数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>/option-ex/market/history/kline</td>
<td>GET</td>
<td>获取K线数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>/option-ex/market/detail/merged</td>
<td>GET</td>
<td>获取聚合行情</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>/option-ex/market/trade</td>
<td>GET</td>
<td>获取市场最近成交记录</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>/option-ex/market/history/trade</td>
<td>GET</td>
<td>批量获取最近的交易记录</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>资产接口</td>
<td>/option-api/v1/option_balance_valuation</td>
<td>POST</td>
<td>获取账户总资产估值</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>资产接口</td>
<td>/option-api/v1/option_account_info</td>
<td>POST</td>
<td>获取用户账户信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>资产接口</td>
<td>/option-api/v1/option_position_info</td>
<td>POST</td>
<td>获取用户持仓信息</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>账户接口</td>
<td>/option-api/v1/option_sub_auth</td>
<td>POST</td>
<td>批量设置子账户交易权限</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_sub_account_list</td>
<td>POST</td>
<td>查询母账户下所有子账户资产信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_sub_account_info_list</td>
<td>POST</td>
<td>批量获取子账户资产信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_sub_account_info</td>
<td>POST</td>
<td>查询母账户下的单个子账户资产信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_sub_position_info</td>
<td>POST</td>
<td>查询母账户下的单个子账户持仓信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_financial_record</td>
<td>POST</td>
<td>查询用户财务记录</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_order_limit</td>
<td>POST</td>
<td>获取用户当前的下单量限制</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_fee</td>
<td>POST</td>
<td>获取用户当前的手续费费率</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_transfer_limit</td>
<td>POST</td>
<td>获取用户当前的划转限制</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_position_limit</td>
<td>POST</td>
<td>获取用户当前的持仓量限制</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_account_position_info</td>
<td>POST</td>
<td>获取用户资产和持仓信息</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>账户接口</td>
<td>/option-api/v1/option_master_sub_transfer</td>
<td>POST</td>
<td>母子账户划转</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_master_sub_transfer_record</td>
<td>POST</td>
<td>获取母账户下的所有母子账户划转记录</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_api_trading_status</td>
<td>GET</td>
<td>获取用户API指标禁用信息</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>/option-api/v1/option_order</td>
<td>POST</td>
<td>合约下单</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>/option-api/v1/option_batchorder</td>
<td>POST</td>
<td>批量下单</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>/option-api/v1/option_cancel</td>
<td>POST</td>
<td>撤销订单</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>交易接口</td>
<td>/option-api/v1/option_cancelall</td>
<td>POST</td>
<td>撤销全部单</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>/option-api/v1/option_order_info</td>
<td>POST</td>
<td>获取用户的订单信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>/option-api/v1/option_order_detail</td>
<td>POST</td>
<td>获取用户的订单明细信息</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>/option-api/v1/option_openorders</td>
<td>POST</td>
<td>获取用户的当前未成交委托</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>/option-api/v1/option_hisorders</td>
<td>POST</td>
<td>获取用户的历史委托</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>/option-api/v1/option_matchresults</td>
<td>POST</td>
<td>获取用户的历史成交记录</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>账户接口</td>
<td>/option-api/v1/option_lightning_close_position</td>
<td>POST</td>
<td>闪电平仓下单</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>账户接口</td>
<td>/option-api/v1/option_trigger_order</td>
<td>POST</td>
<td>计划委托下单</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>账户接口</td>
<td>/option-api/v1/option_trigger_cancel</td>
<td>POST</td>
<td>计划委托撤单</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>账户接口</td>
<td>/option-api/v1/option_trigger_cancelall</td>
<td>POST</td>
<td>计划委托全部撤单</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_trigger_openorders</td>
<td>POST</td>
<td>获取计划委托当前委托</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>账户接口</td>
<td>/option-api/v1/option_trigger_hisorders</td>
<td>POST</td>
<td>获取计划委托历史委托</td>
<td>是</td>
</tr>
<tr>
<td>交易</td>
<td>账户接口</td>
<td>https://api.huobi.pro/v2/account/transfer</td>
<td>POST</td>
<td>现货-期权合约账户间进行资金的划转</td>
<td>是</td>
</tr>
</tbody></table>
<h2 id='8664ee712b'>访问地址</h2>
<table><thead>
<tr>
<th>访问地址</th>
<th>适用站点</th>
<th>适用功能</th>
<th>适用交易对</th>
</tr>
</thead><tbody>
<tr>
<td>https://api.hbdm.com</td>
<td>火币合约</td>
<td>API</td>
<td>火币合约的交易品种</td>
</tr>
</tbody></table>
<h3 id='e0361480e3'>备注</h3>
<p>如果api.hbdm.com无法访问，可以使用api.btcgateway.pro来做调试，AWS服务器用户推荐使用api.hbdm.vn；</p>
<h2 id='c64cd15fdc'>签名认证</h2><h3 id='34addae335'>签名说明</h3>
<p>API 请求在通过 internet 传输的过程中极有可能被篡改，为了确保请求未被更改，除公共接口（基础信息，行情数据）外的私有接口均必须使用您的 API Key 做签名认证，以校验参数或参数值在传输途中是否发生了更改。</p>

<p>一个合法的请求由以下几部分组成：</p>

<ul>
<li><p>方法请求地址：即访问服务器地址 api.hbdm.com，比如 api.hbdm.com/option-api/v1/option_order。</p></li>
<li><p>API 访问密钥（AccessKeyId）：您申请的 API Key 中的 Access Key。</p></li>
<li><p>签名方法（SignatureMethod）：用户计算签名的基于哈希的协议，此处使用 HmacSHA256。</p></li>
<li><p>签名版本（SignatureVersion）：签名协议的版本，此处使用2。</p></li>
<li><p>时间戳（Timestamp）：您发出请求的时间 (UTC 时区) (UTC 时区) (UTC 时区) 。如：2017-05-11T16:22:06。在查询请求中包含此值有助于防止第三方截取您的请求。</p></li>
<li><p>必选和可选参数：每个方法都有一组用于定义 API 调用的必需参数和可选参数。可以在每个方法的说明中查看这些参数及其含义。 请一定注意：对于 GET 请求，每个方法自带的参数都需要进行签名运算； 对于 POST 请求，每个方法自带的参数不进行签名认证，即 POST 请求中需要进行签名运算的只有 AccessKeyId、SignatureMethod、SignatureVersion、Timestamp 四个参数，其它参数放在 body 中。</p></li>
<li><p>签名：签名计算得出的值，用于确保签名有效和未被篡改。</p></li>
</ul>
<h3 id='api-key'>创建 API Key</h3>
<p>您可以在 <a href='https://www.hbg.com/zh-cn/apikey/'>  这里 </a>   创建 API Key。</p>

<p>API Key 包括以下两部分</p>

<ul>
<li><p><code>Access Key</code>  API 访问密钥</p></li>
<li><p><code>Secret Key</code>  签名认证加密所使用的密钥（仅申请时可见）</p></li>
</ul>

<aside class="notice">  
创建 API Key 时可以选择绑定 IP 地址，未绑定 IP 地址的 API Key 有效期为90天。
</aside>  

<aside class="notice">  
API Key 具有包括交易、借贷和充提币等所有操作权限。
</aside>  

<aside class="warning">  
这两个密钥与账号安全紧密相关，无论何时都请勿向其它人透露。
</aside>  
<h3 id='1fbac240b7'>签名步骤</h3>
<p>规范要计算签名的请求 因为使用 HMAC 进行签名计算时，使用不同内容计算得到的结果会完全不同。所以在进行签名计算前，请先对请求进行规范化处理。下面以查询某订单详情请求为例进行说明：</p>

<p>查询某订单详情</p>

<p><code>https://api.hbdm.com/option-api/v1/option_order?</code></p>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx</code></p>

<p><code>&amp;SignatureMethod=HmacSHA256</code></p>

<p><code>&amp;SignatureVersion=2</code></p>

<p><code>&amp;Timestamp=2017-05-11T15:19:30</code></p>
<h4 id='1-get-post-n'>1. 请求方法（GET 或 POST），后面添加换行符 “\n”</h4>
<p><code>GET\n</code></p>
<h4 id='2-n'>2. 添加小写的访问地址，后面添加换行符 “\n”</h4>
<p><code>
api.hbdm.com\n
</code></p>
<h4 id='3-n'>3. 访问方法的路径，后面添加换行符 “\n”</h4>
<p><code>
/option-api/v1/option_order\n
</code></p>
<h4 id='4-ascii'>4. 按照ASCII码的顺序对参数名进行排序。例如，下面是请求参数的原始顺序，进行过编码后</h4>
<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx</code></p>

<p><code>SignatureMethod=HmacSHA256</code></p>

<p><code>SignatureVersion=2</code></p>

<p><code>Timestamp=2017-05-11T15%3A19%3A30</code></p>

<aside class="notice">  
使用 UTF-8 编码，且进行了 URI 编码，十六进制字符必须大写，如 “:” 会被编码为 “%3A” ，空格被编码为 “%20”。
</aside>  

<aside class="notice">  
时间戳（Timestamp）需要以YYYY-MM-DDThh:mm:ss格式添加并且进行 URI 编码。
</aside>  
<h4 id='5'>5. 经过排序之后</h4>
<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx</code></p>

<p><code>SignatureMethod=HmacSHA256</code></p>

<p><code>SignatureVersion=2</code></p>

<p><code>Timestamp=2017-05-11T15%3A19%3A30</code></p>
<h4 id='6-amp'>6. 按照以上顺序，将各参数使用字符 “&amp;” 连接</h4>
<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2017-05-11T15%3A19%3A30</code></p>
<h4 id='7'>7. 组成最终的要进行签名计算的字符串如下</h4>
<p><code>POST\n</code></p>

<p><code>api.hbdm.com\n</code></p>

<p><code>/option-api/v1/option_order\n</code></p>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2017-05-11T15%3A19%3A30</code></p>
<h4 id='8-secret-key'>8. 用上一步里生成的 “请求字符串” 和你的密钥 (Secret Key) 生成一个数字签名</h4>
<p><code>4F65x5A2bLyMWVQj3Aqp+B4w+ivaA7n5Oi2SuYtCJ9o=</code></p>

<ol>
<li><p>将上一步得到的请求字符串和 API 私钥作为两个参数，调用HmacSHA256哈希函数来获得哈希值。</p></li>
<li><p>将此哈希值用base-64编码，得到的值作为此次接口调用的数字签名。</p></li>
</ol>
<h4 id='9'>9. 将生成的数字签名加入到请求的路径参数里</h4>
<p>最终，发送到服务器的 API 请求应该为</p>

<p><code>https://api.hbdm.com/option-api/v1/option_order?AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2017-05-11T15%3A19%3A30&amp;Signature=4F65x5A2bLyMWVQj3Aqp%2BB4w%2BivaA7n5Oi2SuYtCJ9o%3D</code></p>

<ol>
<li><p>把所有必须的认证参数添加到接口调用的路径参数里</p></li>
<li><p>把数字签名在URL编码后加入到路径参数里，参数名为“Signature”。</p></li>
</ol>
<h2 id='4977e9e52a'>访问次数限制</h2>
<ul>
<li><p>交割合约、币本位永续合约、期权合约和USDT本位永续合约都分开限频</p></li>
<li><p>公开行情接口和用户私有接口都有访问次数限制</p></li>
<li><p>普通用户，需要密钥的私有接口，每个UID 3秒最多 48 次请求(交易接口3秒最多 24 次请求，查询接口3秒最多 24 次请求) (该UID的所有币种和不同到期日的合约的所有私有接口共享该限制) 。<a href=https://docs.huobigroup.com/docs/option/v1/cn/#ab0b26742c>查看API接口类型列表(其中读取即查询,交易即交易)</a></p></li>
<li><p>其他非行情类的公开接口，比如获取指数信息，限价信息，交割结算、平台持仓信息等，所有用户都是每个IP3秒最多60次请求（所有该IP的非行情类的公开接口请求共享3秒60次的额度）</p></li>
<li><p>行情类的公开接口，比如：获取K线数据、获取聚合行情、市场行情、获取市场最近成交记录：</p>

<p>（1） restful接口：同一个IP, 所有业务（交割合约、币本位永续合约、期权合约和USDT本位永续合约）总共1秒最多800个请求</p>

<p>（2） websocket：req请求，同一时刻最多请求50次；sub请求，无限制，服务器主动推送数据</p></li>
<li><p>WebSocket私有订单成交推送接口(需要API KEY验签)</p>

<p>一个UID最多同时建立30个私有订单成交推送WS链接。该用户在一个品种(包含该品种的所有周期的合约)上，仅需要维持一个订单推送WS链接即可。</p>

<p>注意: 订单推送WS的限频，跟用户RESTFUL私有接口的限频是分开的，相互不影响。</p></li>
<li><p>查询与交易API接口返回的header中会有限频信息。比如：查询订单信息接口(/option-api/v1/option_account_info)，返回的header中的ratelimit-limit即查询接口的总限制频率次数，ratelimit-remaining即查询接口的剩余总限制频率次数。下单接口(/option-api/v1/option_order)，返回的header中的ratelimit-limit即交易接口的总限制频率次数，ratelimit-remaining即交易接口的剩余总限制频率次数。 <a href=https://docs.huobigroup.com/docs/option/v1/cn/#ab0b26742c>查看API接口类型列表(其中读取即查询,交易即交易)</a> </p></li>
<li><p>所有API接口返回数据中增加限频信息</p></li>
</ul>

<p>将在api接口response中的header返回以下字段：</p>

<p>ratelimit-limit： 单轮请求数上限，单位：次数</p>

<p>ratelimit-interval：请求数重置的时间间隔，单位：毫秒</p>

<p>ratelimit-remaining：本轮剩余可用请求数，单位：次数</p>

<p>ratelimit-reset：请求数上限重置时间，单位：毫秒</p>

<ul>
<li>一个uid对应计划委托下单接口请求1秒5次、一个uid对应计划委托撤单接口请求1秒5次、一个uid对应计划委托全部撤单接口请求1秒5次。</li>
</ul>
<h2 id='9aaa7f5ea2'>撤单率限制【暂未启用】</h2>
<ul>
<li><p>当用户通过API在10分钟内特定订单价格类型的委托单总笔数大于或等于2500笔时，系统会自动计算撤单率，如果撤单率大于99%，则禁止该用户通过API特定价格类型进行下单5分钟（如果下单会报：1084  您的合约API挂单接口被禁用,请于{0} (GMT+8) 后再试）；</p></li>
<li><p>当API用户在1小时的总禁用次数达到3次时，则禁止用户通过API特定价格类型进行下单30分钟（如果下单会报：1084  您的合约API挂单接口被禁用,请于{0} (GMT+8) 后再试），待解禁恢复访问后，总禁用次数重置，且之前周期统计过的次数不计入新周期的总禁用次数;</p></li>
<li><p>其他客户端挂撤单以及API撤单将不受影响，每次禁用会以短信和邮件形式通知；</p></li>
<li><p>被禁用的API下单类型仅包括：限价委托、Post_only、FOK、IOC四种订单价格类型，其他下单方式如lightning（闪电平仓下单），opponent(对手价下单)，optimal_5（最优5档），optimal_10(最优10档下单），optimal_20（最优20档下单），opponent_ioc（对手价-IOC下单），lightning_ioc（闪电平仓-IOC下单），optimal_5_ioc（最优5档-IOC下单），optimal_10_ioc（最优10档-IOC下单），optimal_20_ioc（最优20档-IOC下单），opponent_fok（对手价-FOK下单），lightning_fok（闪电平仓-FOK下单），optimal_5_fok（最优5档-FOK下单），optimal_10_fok（最优10档-FOK下单），optimal_20_fok（最优20档-FOK下单）等在禁用期间将仍然可用；</p></li>
<li><p>禁用期间下单类型为被禁用的四种类型时，接口返回信息header中会包括字段：&quot;recovery-time：禁用的恢复时间戳&quot;，单位为毫秒，表示禁用结束时间，可恢复访问的时间戳；如果不在禁用期间，header中不返回该字段；</p></li>
<li><p>委托单总笔数与撤单率的计算是基于UID，母子UID是分开单独计算的。计算撤单率的时间周期为10分钟/次（开始时间从00:00开始,结束时间00:10。每10分钟一个周期。）；</p></li>
<li><p>指标说明：</p>

<ul>
<li>撤单率 = 无效撤单总笔数 / 委托单总笔数（订单来源均为API）。</li>
<li>委托单总笔数=同时满足以下所有条件的委托单总笔数：

<ul>
<li>订单来源为API并且订单类型为报单（order Type = 1）；</li>
<li>订单价格类型为限价委托、Post_only、FOK和IOC四种订单价格类型；</li>
<li>委托单的下单时间在【当周期开始时间-3秒，当周期结束时间】内的委托单总笔数；</li>
</ul></li>
<li>无效撤单总笔数=同时满足以下所有条件的委托单总笔数：

<ul>
<li>订单来源为API并且订单类型为报单（order Type = 1）；</li>
<li>订单价格类型为限价委托、Post_only、FOK和IOC四种订单价格类型；</li>
<li>订单状态为已撤销（status = 7）；</li>
<li>订单成交数量为0；</li>
<li>撤单时间与下单时间间隔小于等于3秒；</li>
<li>委托单的撤单时间在当周期内的委托单。</li>
</ul></li>
</ul></li>
<li><p>为了保证API系统的稳定性和交易性能，请您在高峰期时段尽量降低API订单的撤单量和撤单率，以避免频繁触发API的限制机制，以下是降低撤单率的建议：</p>

<ul>
<li>1．订单的价格更靠近盘口；</li>
<li>2、适当延长下单与撤单的时间间隔；</li>
<li>3、适当增加单笔订单金额，减少下单次数；</li>
<li>4、尽量增加订单成交率:

<ul>
<li>1) 优先使用对手价、最优5档、最优10档、最优20档、闪电平仓、opponent_ioc（对手价-IOC下单）、lightning_ioc（闪电平仓-IOC下单）、optimal_5_ioc（最优5档-IOC下单）、optimal_10_ioc（最优10档-IOC下单）、optimal_20_ioc（最优20档-IOC下单）、opponent_fok（对手价-FOK下单）、lightning_fok（闪电平仓-FOK下单）、optimal_5_fok（最优5档-FOK下单）、optimal_10_fok（最优10档-FOK下单）、optimal_20_fok（最优20档-FOK下单）等成交概率大的委托方式下单；</li>
<li>2) IOC订单、FOK订单、Post_only订单尽量摆在买卖第一档的位置上；</li>
</ul></li>
<li>5、适当延长策略轮询时间。</li>
</ul></li>
</ul>
<h2 id='e09f675bbd'>停服维护</h2>
<p>当该业务系统停服维护期间，除了以下提供给用户查询系统状态的接口能够正常使用外（<a href='https://docs.huobigroup.com/docs/option/v1/cn/#bef5ec9210'>获取当前系统状态</a>），该业务所有rest接口都会固定返回响应报文:<code>{&quot;status&quot;: &quot;maintain&quot;}</code>。websocket推送接口在停服维护时，除了WebSocket系统状态更新的推送接口可以正常调用外（<a href='https://docs.huobigroup.com/docs/option/v1/cn/#websocket-5'>WebSocket系统状态更新接口</a>），其他推送接口都会返回1006的错误码。</p>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maintain"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='995c57552b'>接口为：</h4>
<ul>
<li>查询系统是否可用：https://api.hbdm.com/heartbeat/</li>
</ul>

<p>除了以上rest接口获取系统维护停服信息外，也可以通过订阅WebSocket系统状态更新接口获取系统维护停服信息</p>
<h2 id='bef5ec9210'>查询系统是否可用</h2>
<ul>
<li>Interface <code>https://api.hbdm.com/heartbeat/</code></li>
</ul>
<h3 id='9852b06629'>备注：</h3>
<ul>
<li> 注意请求时地址后面的“/”一定要带上。</li>
</ul>
<h3 id='70bdef7e25'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td>&quot;ok&quot; 或 &quot;error&quot;...</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>dict object</td>
<td></td>
</tr>
<tr>
<td>heartbeat</td>
<td>int</td>
<td>交割合约 1: 可用 0: 不可用(即停服维护)</td>
</tr>
<tr>
<td>swap_heartbeat</td>
<td>int</td>
<td>币本位永续 1: 可用 0: 不可用(即停服维护)</td>
</tr>
<tr>
<td>estimated_recovery_time</td>
<td>long</td>
<td>null: 正常. 交割合约预计恢复时间， 单位:毫秒</td>
</tr>
<tr>
<td>swap_estimated_recovery_time</td>
<td>long</td>
<td>null: 正常. 币本位永续合约预计恢复时间，单位：毫秒.</td>
</tr>
<tr>
<td>option_heartbeat</td>
<td>int</td>
<td>期权合约 1: 可用 0: 不可用(即停服维护)</td>
</tr>
<tr>
<td>option_estimated_recovery_time</td>
<td>long</td>
<td>null: 正常. 期权合约预计恢复时间，单位：毫秒.</td>
</tr>
<tr>
<td>linear_swap_heartbeat</td>
<td>long</td>
<td>USDT本位永续 1: 可用 0: 不可用(即停服维护)</td>
</tr>
<tr>
<td>linear_swap_estimated_recovery_time</td>
<td>long</td>
<td>null: 正常. USDT本位永续合约预计恢复时间，单位：毫秒.</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>返回数据</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"heartbeat"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"estimated_recovery_time"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"swap_heartbeat"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"swap_estimated_recovery_time"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"option_heartbeat"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"option_estimated_recovery_time"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"linear_swap_heartbeat"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"linear_swap_estimated_recovery_time"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1557714418033</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='67361e2961'>获取当前系统时间戳</h2>
<p>get <code>https://api.hbdm.com/api/v1/timestamp</code></p>
<h3 id='1f9ac54b15'>请求参数</h3>
<p>无</p>

<blockquote>
<p>返回数据</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1578124684692</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-2'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>当前系统时间戳</td>
<td></td>
</tr>
</tbody></table>
<h4 id='e0361480e3-2'>备注</h4>
<ul>
<li>可以用于校对系统时间。</li>
</ul>
<h2 id='f39e8d8281'>错误码详情</h2>
<table><thead>
<tr>
<th>错误代码</th>
<th>错误描述</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>无效身份</td>
</tr>
<tr>
<td>1000</td>
<td>系统异常</td>
</tr>
<tr>
<td>1001</td>
<td>系统未准备就绪</td>
</tr>
<tr>
<td>1002</td>
<td>查询异常</td>
</tr>
<tr>
<td>1003</td>
<td>操作redis异常</td>
</tr>
<tr>
<td>1004</td>
<td>系统繁忙,请稍后再试</td>
</tr>
<tr>
<td>1010</td>
<td>用户不存在</td>
</tr>
<tr>
<td>1011</td>
<td>用户会话不存在,请重试</td>
</tr>
<tr>
<td>1012</td>
<td>账户不存在</td>
</tr>
<tr>
<td>1013</td>
<td>合约品种不存在</td>
</tr>
<tr>
<td>1014</td>
<td>合约不存在</td>
</tr>
<tr>
<td>1015</td>
<td>指数价格不存在</td>
</tr>
<tr>
<td>1016</td>
<td>对手价不存在</td>
</tr>
<tr>
<td>1017</td>
<td>查询订单不存在</td>
</tr>
<tr>
<td>1018</td>
<td>主账号不存在</td>
</tr>
<tr>
<td>1019</td>
<td>主账号不在开通子账号白名单里</td>
</tr>
<tr>
<td>1020</td>
<td>您的子账号数量已超出限制,请联系客服</td>
</tr>
<tr>
<td>1021</td>
<td>开户失败。您的主账号尚未开通合约交易权限,请前往开通</td>
</tr>
<tr>
<td>1030</td>
<td>输入错误</td>
</tr>
<tr>
<td>1031</td>
<td>非法的请求来源</td>
</tr>
<tr>
<td>1032</td>
<td>访问次数超出限制</td>
</tr>
<tr>
<td>1033</td>
<td>合约周期字段值错误</td>
</tr>
<tr>
<td>1034</td>
<td>报单价格类型字段值错误</td>
</tr>
<tr>
<td>1035</td>
<td>报单方向字段值错误</td>
</tr>
<tr>
<td>1036</td>
<td>报单开平字段值错误</td>
</tr>
<tr>
<td>1037</td>
<td>倍数不符合要求,请联系客服</td>
</tr>
<tr>
<td>1038</td>
<td>下单价格超出精度限制,请修改后下单</td>
</tr>
<tr>
<td>1039</td>
<td>买入价必须低于{0}{1},卖出价必须高于{2}{3}</td>
</tr>
<tr>
<td>1040</td>
<td>下单数量不能为空或者不能小于0, 请修改后下单</td>
</tr>
<tr>
<td>1041</td>
<td>下单数量超出限制 ({0}张),请修改后下单</td>
</tr>
<tr>
<td>1042</td>
<td>下单数量+挂单数量+持仓数量超过了单用户多仓持仓限制({0}张),请修改后下单</td>
</tr>
<tr>
<td>1043</td>
<td>下单数量+挂单数量+持仓数量超过了单用户空仓持仓限制({0}张), 请修改后下单</td>
</tr>
<tr>
<td>1044</td>
<td>触发平台限仓,请修改后下单</td>
</tr>
<tr>
<td>1045</td>
<td>当前有挂单,无法切换倍数</td>
</tr>
<tr>
<td>1046</td>
<td>当前合约持仓不存在</td>
</tr>
<tr>
<td>1047</td>
<td>可用担保资产不足</td>
</tr>
<tr>
<td>1048</td>
<td>可平量不足</td>
</tr>
<tr>
<td>1049</td>
<td>暂不支持市价开仓</td>
</tr>
<tr>
<td>1050</td>
<td>客户报单号重复</td>
</tr>
<tr>
<td>1051</td>
<td>没有可撤销的订单</td>
</tr>
<tr>
<td>1052</td>
<td>批量撤单、下单的订单数量超过平台限制数量</td>
</tr>
<tr>
<td>1053</td>
<td>无法获取最新价格区间</td>
</tr>
<tr>
<td>1054</td>
<td>无法获取最新价</td>
</tr>
<tr>
<td>1055</td>
<td>价格不合理, 下单后将导致账户权益小于0 , 请修改价格后下单</td>
</tr>
<tr>
<td>1056</td>
<td>结算中,暂时无法下单/撤单</td>
</tr>
<tr>
<td>1057</td>
<td>暂停交易中,暂时无法下单</td>
</tr>
<tr>
<td>1058</td>
<td>停牌中,暂时无法下单</td>
</tr>
<tr>
<td>1059</td>
<td>交割中,暂时无法下单/撤单</td>
</tr>
<tr>
<td>1060</td>
<td>合约处于非交易状态,暂时无法下单</td>
</tr>
<tr>
<td>1061</td>
<td>订单不存在</td>
</tr>
<tr>
<td>1062</td>
<td>撤单中,请耐心等待</td>
</tr>
<tr>
<td>1063</td>
<td>订单已成交</td>
</tr>
<tr>
<td>1064</td>
<td>报单主键冲突</td>
</tr>
<tr>
<td>1065</td>
<td>客户报单号不是整数</td>
</tr>
<tr>
<td>1066</td>
<td>{0}字段不能为空</td>
</tr>
<tr>
<td>1067</td>
<td>{0}字段不合法</td>
</tr>
<tr>
<td>1068</td>
<td>导出错误</td>
</tr>
<tr>
<td>1069</td>
<td>价格不合理</td>
</tr>
<tr>
<td>1070</td>
<td>数据为空,无法导出</td>
</tr>
<tr>
<td>1071</td>
<td>订单已撤,无法撤单</td>
</tr>
<tr>
<td>1072</td>
<td>卖出价必须低于{0}{1}</td>
</tr>
<tr>
<td>1073</td>
<td>仓位异常,请联系客服</td>
</tr>
<tr>
<td>1074</td>
<td>下单异常,请联系客服</td>
</tr>
<tr>
<td>1075</td>
<td>价格不合理, 下单后将导致担保资产率小于0 , 请修改价格后下单</td>
</tr>
<tr>
<td>1076</td>
<td>盘口无数据,请稍后再试</td>
</tr>
<tr>
<td>1077</td>
<td>交割结算中,当前品种资金查询失败</td>
</tr>
<tr>
<td>1078</td>
<td>交割结算中,部分品种资金查询失败</td>
</tr>
<tr>
<td>1079</td>
<td>交割结算中,当前品种持仓查询失败</td>
</tr>
<tr>
<td>1080</td>
<td>交割结算中,部分品种持仓查询失败</td>
</tr>
<tr>
<td>1081</td>
<td>{0}合约计划委托订单数量不得超过{1}</td>
</tr>
<tr>
<td>1082</td>
<td>触发类型参数错误</td>
</tr>
<tr>
<td>1083</td>
<td>您的仓位已进入强平接管,暂时无法下单</td>
</tr>
<tr>
<td>1084</td>
<td>您的合约API挂单接口被禁用,请于{0} (GMT+8) 后再试</td>
</tr>
<tr>
<td>1085</td>
<td>计划委托下单失败,请修改价格再次下单或联系客服</td>
</tr>
<tr>
<td>1086</td>
<td>{0}合约暂时限制{1}端开仓,请联系客服</td>
</tr>
<tr>
<td>1087</td>
<td>{0}合约暂时限制{1}端平仓,请联系客服</td>
</tr>
<tr>
<td>1088</td>
<td>{0}合约暂时限制{1}端撤单,请联系客服</td>
</tr>
<tr>
<td>1089</td>
<td>{0}账户暂时限制划转,请联系客服</td>
</tr>
<tr>
<td>1090</td>
<td>担保资产率小于0, 无法下单</td>
</tr>
<tr>
<td>1091</td>
<td>账户权益小于0, 无法下单</td>
</tr>
<tr>
<td>1092</td>
<td>闪电平仓取盘口第{0}档的价格, 下单后将导致账户权益小于0 , 请改为手动输入价格或使用对手价下单</td>
</tr>
<tr>
<td>1093</td>
<td>闪电平仓取盘口第{0}档的价格, 下单后将导致担保资产率小于0 , 请改为手动输入价格或使用对手价下单</td>
</tr>
<tr>
<td>1094</td>
<td>倍数不能为空, 请切换倍数或联系客服</td>
</tr>
<tr>
<td>1095</td>
<td>合约处于非交易状态, 暂时无法切换倍数</td>
</tr>
<tr>
<td>1100</td>
<td>您没有开仓权限,请联系客服</td>
</tr>
<tr>
<td>1101</td>
<td>您没有平仓权限,请联系客服</td>
</tr>
<tr>
<td>1102</td>
<td>您没有转入权限,请联系客服</td>
</tr>
<tr>
<td>1103</td>
<td>您没有转出权限,请联系客服</td>
</tr>
<tr>
<td>1104</td>
<td>合约交易受限,当前禁止交易</td>
</tr>
<tr>
<td>1105</td>
<td>合约交易受限,当前只能平仓</td>
</tr>
<tr>
<td>1106</td>
<td>合约交割结算中,暂时无法划转</td>
</tr>
<tr>
<td>1108</td>
<td>Dubbo调用异常</td>
</tr>
<tr>
<td>1109</td>
<td>子账号没有开仓权限,请联系客服</td>
</tr>
<tr>
<td>1110</td>
<td>子账号没有平仓权限,请联系客服</td>
</tr>
<tr>
<td>1111</td>
<td>子账号没有入金权限,请联系客服</td>
</tr>
<tr>
<td>1112</td>
<td>子账号没有出金权限,请联系客服</td>
</tr>
<tr>
<td>1113</td>
<td>子账号没有交易权限,请登录主账号授权</td>
</tr>
<tr>
<td>1114</td>
<td>子账号没有划转权限,请登录主账号授权</td>
</tr>
<tr>
<td>1115</td>
<td>您没有访问此子账号的权限</td>
</tr>
<tr>
<td>1200</td>
<td>登录失败,请重试</td>
</tr>
<tr>
<td>1220</td>
<td>您尚未开通合约交易,无访问权限</td>
</tr>
<tr>
<td>1221</td>
<td>币币账户总资产不满足合约开通条件</td>
</tr>
<tr>
<td>1222</td>
<td>开户天数不满足合约开通条件</td>
</tr>
<tr>
<td>1223</td>
<td>VIP等级不满足合约开通条件</td>
</tr>
<tr>
<td>1224</td>
<td>您所在的国家/地区不满足合约开通条件</td>
</tr>
<tr>
<td>1225</td>
<td>开通合约失败</td>
</tr>
<tr>
<td>1226</td>
<td>合约已开户,无法重复开户</td>
</tr>
<tr>
<td>1227</td>
<td>火币合约暂不支持子账户,请返回退出子账户,切换主账户登录</td>
</tr>
<tr>
<td>1228</td>
<td>您尚未开通合约交易, 请先开通</td>
</tr>
<tr>
<td>1229</td>
<td>重复同意协议</td>
</tr>
<tr>
<td>1230</td>
<td>您尚未做风险认证</td>
</tr>
<tr>
<td>1231</td>
<td>您尚未做身份认证</td>
</tr>
<tr>
<td>1232</td>
<td>您上传的图片格式/大小不符合要求,请重新上传</td>
</tr>
<tr>
<td>1233</td>
<td>您尚未开通高倍数协议 (使用高倍数请先使用主账号登录web或APP端同意高倍数协议)</td>
</tr>
<tr>
<td>1234</td>
<td>{0}合约未完成的开仓委托数量不得超过{1}笔</td>
</tr>
<tr>
<td>1235</td>
<td>{0}合约未完成的平仓委托数量不得超过{1}笔</td>
</tr>
<tr>
<td>1250</td>
<td>无法获取HT_token</td>
</tr>
<tr>
<td>1251</td>
<td>无法获取BTC净资产,请稍后再试</td>
</tr>
<tr>
<td>1252</td>
<td>无法获取币币账户资产,请稍后再试</td>
</tr>
<tr>
<td>1253</td>
<td>签名验证错误</td>
</tr>
<tr>
<td>1254</td>
<td>子账号无权限开通合约，请前往web端登录主账号开通</td>
</tr>
<tr>
<td>1300</td>
<td>划转失败</td>
</tr>
<tr>
<td>1301</td>
<td>可划转余额不足</td>
</tr>
<tr>
<td>1302</td>
<td>系统划转错误</td>
</tr>
<tr>
<td>1303</td>
<td>单笔转出的数量不能低于{0}{1}</td>
</tr>
<tr>
<td>1304</td>
<td>单笔转出的数量不能高于{0}{1}</td>
</tr>
<tr>
<td>1305</td>
<td>单笔转入的数量不能低于{0}{1}</td>
</tr>
<tr>
<td>1306</td>
<td>单笔转入的数量不能高于{0}{1}</td>
</tr>
<tr>
<td>1307</td>
<td>您当日累计转出量超过{0}{1}, 暂无法转出</td>
</tr>
<tr>
<td>1308</td>
<td>您当日累计转入量超过{0}{1}, 暂无法转入</td>
</tr>
<tr>
<td>1309</td>
<td>您当日累计净转出量超过{0}{1}, 暂无法转出</td>
</tr>
<tr>
<td>1310</td>
<td>您当日累计净转入量超过{0}{1}, 暂无法转入</td>
</tr>
<tr>
<td>1311</td>
<td>超过平台当日累计最大转出量限制, 暂无法转出</td>
</tr>
<tr>
<td>1312</td>
<td>超过平台当日累计最大转入量限制, 暂无法转入</td>
</tr>
<tr>
<td>1313</td>
<td>超过平台当日累计最大净转出量限制, 暂无法转出</td>
</tr>
<tr>
<td>1314</td>
<td>超过平台当日累计最大净转入量限制, 暂无法转入</td>
</tr>
<tr>
<td>1315</td>
<td>划转类型错误</td>
</tr>
<tr>
<td>1316</td>
<td>划转冻结失败</td>
</tr>
<tr>
<td>1317</td>
<td>划转解冻失败</td>
</tr>
<tr>
<td>1318</td>
<td>划转确认失败</td>
</tr>
<tr>
<td>1319</td>
<td>查询可划转金额失败</td>
</tr>
<tr>
<td>1320</td>
<td>此合约在非交易状态中, 无法进行系统划转</td>
</tr>
<tr>
<td>1321</td>
<td>划转失败, 请稍后重试或联系客服</td>
</tr>
<tr>
<td>1322</td>
<td>划转金额必须大于0</td>
</tr>
<tr>
<td>1323</td>
<td>服务异常, 划转失败, 请稍后再试</td>
</tr>
<tr>
<td>1325</td>
<td>设置交易单位失败</td>
</tr>
<tr>
<td>1326</td>
<td>获取交易单位失败</td>
</tr>
<tr>
<td>1327</td>
<td>无划转权限, 划转失败, 请联系客服</td>
</tr>
<tr>
<td>1328</td>
<td>无划转权限, 划转失败, 请联系客服</td>
</tr>
<tr>
<td>1329</td>
<td>无划转权限, 划转失败, 请联系客服</td>
</tr>
<tr>
<td>1330</td>
<td>无划转权限, 划转失败, 请联系客服</td>
</tr>
<tr>
<td>1331</td>
<td>超出划转精度限制(8位), 请修改后操作</td>
</tr>
<tr>
<td>1332</td>
<td>永续合约不存在</td>
</tr>
<tr>
<td>1333</td>
<td>开通跟单吃单协议失败</td>
</tr>
<tr>
<td>1334</td>
<td>查询跟单吃单协议失败</td>
</tr>
<tr>
<td>1335</td>
<td>查询跟单吃单二次确认设置失败</td>
</tr>
<tr>
<td>1336</td>
<td>更新跟单吃单二次确认设置失败</td>
</tr>
<tr>
<td>1337</td>
<td>查询跟单吃单设置失败</td>
</tr>
<tr>
<td>1338</td>
<td>更新跟单吃单设置失败</td>
</tr>
<tr>
<td>1339</td>
<td>昵称含有不合法词汇, 请修改</td>
</tr>
<tr>
<td>1340</td>
<td>昵称已被使用, 请修改</td>
</tr>
<tr>
<td>1341</td>
<td>报名阶段已结束</td>
</tr>
<tr>
<td>1342</td>
<td>子账号无法设置昵称</td>
</tr>
<tr>
<td>1343</td>
<td>指标失效, 请重新设置</td>
</tr>
<tr>
<td>1344</td>
<td>抱歉, 目前可最多对{0}个合约创建行情提醒</td>
</tr>
<tr>
<td>1345</td>
<td>抱歉, {0}合约目前可最多创建{1}个提醒</td>
</tr>
<tr>
<td>1346</td>
<td>该指标已存在, 请勿重复设置</td>
</tr>
<tr>
<td>1347</td>
<td>{0}参数错误, 请修改</td>
</tr>
<tr>
<td>1348</td>
<td>该合约不支持全仓模式</td>
</tr>
<tr>
<td>1349</td>
<td>委托单倍数与当前持仓的倍数不符, 请先切换倍数</td>
</tr>
<tr>
<td>1401</td>
<td>委托价必须小于行权价</td>
</tr>
<tr>
<td>1403</td>
<td>{0}合约止盈止损订单的委托数量不得超过{1}</td>
</tr>
<tr>
<td>1404</td>
<td>止盈止损订单仅支持与开仓订单绑定</td>
</tr>
<tr>
<td>1405</td>
<td>止盈价不得{0}{1}{2}</td>
</tr>
<tr>
<td>1406</td>
<td>您的抽奖次数已用完</td>
</tr>
<tr>
<td>1407</td>
<td>止损价不得{0}{1}{2}</td>
</tr>
<tr>
<td>1408</td>
<td>该止盈止损委托单未生效, 无法撤销</td>
</tr>
<tr>
<td>1409</td>
<td>您没有止盈止损订单权限,请联系客服</td>
</tr>
<tr>
<td>1410</td>
<td>批量操作子账号的数量不能超过{0}个</td>
</tr>
<tr>
<td>1411</td>
<td>结算中, 暂时无法查询订单信息</td>
</tr>
<tr>
<td>1412</td>
<td>{0}不符合价格精度限制{1}</td>
</tr>
<tr>
<td>1413</td>
<td>您没有跟踪委托订单权限,请联系客服</td>
</tr>
<tr>
<td>1414</td>
<td>您尚未开通网格交易协议(使用网格交易请先使用主账号登录web或APP端同意协议)</td>
</tr>
<tr>
<td>1415</td>
<td>终止价不得在网格价格范围内,请修改!</td>
</tr>
<tr>
<td>1416</td>
<td>超出最大运行时长({0}天{1}时),请修改!</td>
</tr>
<tr>
<td>1417</td>
<td>超出网格数量范围({0}~{1}个),请修改!</td>
</tr>
<tr>
<td>1418</td>
<td>最多同时运行{0}个网格, 请先终止其它网格</td>
</tr>
<tr>
<td>1419</td>
<td>超出初始化保证金范围({0}~{1}}{2})</td>
</tr>
<tr>
<td>1420</td>
<td>您没有合约的网格交易权限, 请联系客服</td>
</tr>
<tr>
<td>1421</td>
<td>当前合约有委托单或持仓, 请先撤销或平仓</td>
</tr>
<tr>
<td>1422</td>
<td>预计每格收益率小于0,请修改!</td>
</tr>
<tr>
<td>1423</td>
<td>网格最低价和最高价的价差不合理,请修改!</td>
</tr>
<tr>
<td>1424</td>
<td>该网格已因其它原因被终止, 无法修改或手动终止</td>
</tr>
<tr>
<td>1425</td>
<td>回调比例必须{0}{1}, 请修改!</td>
</tr>
<tr>
<td>1426</td>
<td>激活价必须{0}最新价</td>
</tr>
<tr>
<td>1427</td>
<td>{0}合约跟踪委托订单数量不得超过{1}</td>
</tr>
<tr>
<td>1428</td>
<td>相同合约的优惠券只能领取1张</td>
</tr>
<tr>
<td>1429</td>
<td>已领取,请勿重复领取</td>
</tr>
<tr>
<td>1430</td>
<td>此优惠券已失效,请刷新</td>
</tr>
<tr>
<td>1431</td>
<td>系统维护中,预计GMT+8 {0} 可恢复</td>
</tr>
<tr>
<td>1432</td>
<td>存在初始化中的网格,暂时无法下单</td>
</tr>
<tr>
<td>1433</td>
<td>您有限价单导致网格终止,请前往历史委托查看详情</td>
</tr>
<tr>
<td>12001</td>
<td>无效的提交时间</td>
</tr>
<tr>
<td>12002</td>
<td>错误的签名版本</td>
</tr>
<tr>
<td>12003</td>
<td>错误的签名方法</td>
</tr>
<tr>
<td>12004</td>
<td>密钥已经过期</td>
</tr>
<tr>
<td>12005</td>
<td>ip地址错误</td>
</tr>
<tr>
<td>12006</td>
<td>提交时间不能为空</td>
</tr>
<tr>
<td>12007</td>
<td>公钥错误</td>
</tr>
<tr>
<td>12008</td>
<td>校验失败</td>
</tr>
<tr>
<td>12009</td>
<td>用户被锁定或不存在</td>
</tr>
</tbody></table>
<h2 id='api-2'>API 最佳实践</h2><h3 id='1-option-api-v1-option_hisorders'>1、option-api/v1/option_hisorders 历史委托查询接口：</h3>
<ul>
<li><p>为了保证时效性和降低延迟，强烈建议用户使用option-api/v1/option_order_info获取用户订单信息接口来查询订单信息，获取合约订单信息接口从内存里面查询，无延迟，接口响应速度更快。</p></li>
<li><p>如果用户一定要使用option-api/v1/option_hisorders 历史委托查询接口，请尽量输入更多的查询条件，trade_type（推荐传0查询全部）、type、status、create_date尽量都输入，并且查询日期create_date参数输入尽量小的整数，最好只查询一天的数据；</p></li>
</ul>
<h3 id='2-option-api-v1-option_matchresults'>2、option-api/v1/option_matchresults 获取历史成交记录接口：</h3>
<ul>
<li>为了提升查询的性能和响应速度，查询条件 trade_type（推荐传0查询全部） 、contract_code 、create_date 尽量都输入，并且create_date输入尽量小的整数，最好只查询一天的数据；</li>
</ul>
<h3 id='3-option-api-v1-option_financial_record'>3、option-api/v1/option_financial_record 查询用户财务记录接口：</h3>
<ul>
<li>为了提升查询的性能和响应速度，查询条件type（推荐不填查询全部）、create_date，尽量都输入，并且查询日期create_date参数输入尽量小的整数，最好只查询一天的数据；</li>
</ul>
<h3 id='4-option-api-v1-option_order_detail'>4、option-api/v1/option_order_detail 获取订单明细接口：</h3>
<ul>
<li><p>请求参数没有带上created_at等参数查询订单时，可能会发生查询结果延迟。建议您在使用此接口时请求字段带上：created_at（下单时间戳）和 order_type(订单类型，默认填1)，会直接查询数据库，查询结果会更及时。</p></li>
<li><p>查询条件created_at使用13位long类型时间戳（包含毫秒时间），如果输入准确的时间戳，查询性能将会提升。</p></li>
<li><p>例如:&quot;2019/10/18 10:26:22&quot;转换为时间戳为：1571365582123。也可以直接从option_order下单接口返回报文中的ts中获取时间戳作为参数查询接口option-api/v1/option_order_detail获取订单明细，同时created_at禁止传0；；</p></li>
</ul>
<h3 id='5-market-depth-websocket'>5、订阅Market Depth 数据的WebSocket：</h3>
<ul>
<li><p>获得150档深度数据，使用step0, step1, step2, step3, step4, step5, step14, step15；</p></li>
<li><p>获得20档深度数据，使用 step6, step7, step8, step9, step10, step11, step12, step13；</p></li>
<li><p>由于每100ms推送一次150档全量数据，数据量比较大，如果客户端网络带宽不足或者处理不及时，webSocket断开可能比较频繁，强烈建议使用step6, step7, step8, step9, step10, step11, step12, step13 取20档数据。比如订阅20档数据</p></li>
</ul>

<p><code>{</code></p>

<p><code>&quot;sub&quot;: &quot;market.BTC-USDT-200925-C-10000.depth.step6&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id5&quot;</code></p>

<p><code>}</code></p>

<ul>
<li>我们也推荐使用增量订阅市场深度数据，增量深度数据有20档不合并数据和150档不合并数据，首次或者重连都推送全量数据，之后会推送增量数据，每30MS检查一次，如果有更新则推送，没有更新则不推送。需要维护好本地的深度数据。</li>
</ul>

<p><code>{</code></p>

<p><code>&quot;sub&quot;: &quot;market.BTC-USDT-200925-C-10000.depth.size_20.high_freq&quot;,</code></p>

<p><code>&quot;data_type&quot;:&quot;incremental&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id1&quot;</code></p>

<p><code>}</code></p>
<h3 id='6-option-api-v1-option_order-option-api-v1-option_batchorder'>6、option-api/v1/option_order合约下单和option-api/v1/option_batchorder合约批量下单接口：</h3>
<ul>
<li>推荐传参数client_order_id（用户级别唯一），主要防止下单和批量下单接口由于网络或其它原因接口超时或者没有返回，可以根据client_order_id通过请求接口option-api/v1/option_order_info来快速获取订单是否下单正常或者快速获取订单信息。</li>
</ul>
<h3 id='7-2'>7、服务器部署最佳选择：</h3>
<ul>
<li>建议您将服务器放置在AWS东京C区，并且使用api.hbdm.vn域名，能有效减少网络断连与网络超时情况。</li>
</ul>
<h2 id='2cff7db524'>代码实例</h2>
<ul>
<li><p><a href='https://github.com/hbdmapi/hbdm_Python'> Python </a>  </p></li>
<li><p><a href='https://github.com/hbdmapi/huobi_option_Java'> Java </a> </p></li>
<li><p><a href='https://github.com/hbdmapi/huobi_futures_Postman'>Postman</a></p></li>
</ul>
<h3 id='demo'>备注：期权代码使用方式与交割与永续合约类似，其他语言demo可以参考交割与永续合约</h3><h2 id='demo-2'>策略DEMO</h2>
<ul>
<li><a href='https://github.com/hbdmapi/hbdm_Python/tree/master/examples/huobi_option_mm'> Python </a> </li>
</ul>
<h1 id='0adb1147b3'>常见问题</h1><h2 id='59ce3c8353'>接入验签相关</h2><h3 id='q1-api-key'>Q1: 期权API Key和现货是否同一个？</h3>
<p>期权API Key和现货API Key是同一个，两个是一样的。您可以在 <a href='https://www.hbg.com/zh-cn/apikey/'>  这里 </a>   创建 API Key。</p>
<h3 id='q2'>Q2: 为什么经常出现断线、超时的错误？</h3>
<p>如果是在大陆网络环境去请求API接口，网络连接很不稳定，很容易出现超时。建议使用AWS东京C区服务器进行访问。</p>

<p>国内网络可以使用api.btcgateway.pro或者api.hbdm.vn来进行调试,如果仍然无法请求，请在国外服务器上进行运行。</p>
<h3 id='q3-websocket'>Q3: 为什么WebSocket总是断开连接？</h3>
<p>由于网络环境不同，很容易导致websocket断开连接(websocket: close 1006 (abnormal closure))，目前最佳实践是建议您将服务器放置在AWS东京C区，并且使用api.hbdm.vn域名；同时需要做好断连重连操作；行情心跳与订单心跳均需要按照《Websocket心跳以及鉴权接口》的行情心跳与订单心跳回复不同格式的Pong消息：<a href='https://docs.huobigroup.com/docs/option/v1/cn/#472585d15d'>  这里</a>  。以上操作可以有效减少断连情况。</p>
<h3 id='q4-api-hbdm-com-api-hbdm-vn'>Q4: api.hbdm.com与api.hbdm.vn有什么区别？</h3>
<p>api.hbdm.vn域名使用的是AWS的CDN服务，理论上AWS服务器用户使用此域名会更快更稳定；api.hbdm.com域名使用的是Cloudflare的CDN服务。</p>
<h3 id='q5-403-verification-failure'>Q5: 为什么签名认证总返回失败(403:Verification failure [校验失败]) ？</h3>
<p>期权签名过程和永续以及交割签名过程类似，除了参考以下注意事项外，请参照期权、永续或者交割的demo代码来验证签名是否成功，demo代码验证通过后，再去核对您自己的签名代码。币本位永续的demo代码在 <a href='https://docs.huobigroup.com/docs/coin_margined_swap/v1/cn/#2cff7db524'>  这里 </a>   查看。交割的demo代码在<a href='https://docs.huobigroup.com/docs/dm/v1/cn/#2cff7db524'>  这里</a>  查看。期权的demo代码在<a href='https://docs.huobigroup.com/docs/option/v1/cn/#2cff7db524'>  这里</a>  查看。USDT本位永续的demo代码在 <a href='https://docs.huobigroup.com/docs/usdt_swap/v1/cn/#2cff7db524'>  这里 </a>   查看。</p>

<ol>
<li><p>检查 API Key 是否有效，是否复制正确</p></li>
<li><p>是否有绑定 IP 白名单</p></li>
<li><p>检查时间戳是否是 UTC 时间</p></li>
<li><p>检查参数是否按字母排序</p></li>
<li><p>检查编码，使用 UTF-8 编码</p></li>
<li><p>检查签名是否有 base64 编码</p></li>
<li><p>对于 GET 请求，每个方法自带的参数都需要进行签名运算</p></li>
<li><p>对于 POST 请求，每个方法自带的参数不进行签名认证</p></li>
<li><p>检查签名结果是否有进行 URI 编码，十六进制字符必须大写，如 “:” 会被编码为 “%3A”  ，空 格被编码为 “%20”。</p></li>
<li><p>websocket构建签名与restful类似，websocket构建json请求的数据不需要URL编码。</p></li>
<li><p>签名时所带Host应与请求接口时Host相同。如果您使用了代理，代理可能会改变请求Host，可以尝试去掉代理；您使用的网络连接库可能会把端口包含在Host内，可以尝试在签名用到的Host中包含端口，如“api.hbdm.com:443&quot;。</p></li>
<li><p>Api Key 与 Secret Key中是否存在隐藏特殊字符，影响签名。</p></li>
</ol>
<h3 id='q6-ip-uid'>Q6: 公开行情根据ip限速，需要私钥的根据uid限速是吗？</h3>
<p>是的。私有的根据UID来限速，不是根据API—KEY限速，母子帐号是分开分别限速，互不影响。</p>
<h2 id='ws'>行情及WS推送相关</h2><h3 id='q1-orderbook-orderbook'>Q1: 全量行情orderbook订阅和增量orderbook订阅是多长时间推送？</h3>
<p>全量orderbook深度推送(market.$contract_code.depth.$type)是100MS检查一次，有更新则推送，至少1秒会推送1次。增量orderbook深度推送(market.$contract_code.depth.size_${size}.high_freq)是30MS检查一次，有更新则推送，没有更新则不推送。</p>
<h3 id='q2-2'>Q2: 市场公开逐笔成交是多长时间推送？</h3>
<p>市场公开逐笔成交market.$contract_code.trade.detail是有成交则推送。</p>
<h3 id='q3-k'>Q3: 有没有历史K线数据或者历史的公开市场逐笔成交数据？</h3>
<p>历史K线数据可以通过API接口/option-ex/market/history/kline去获取，只填写from,to参数，不写size参数，最多只能获取连续两年的数据。</p>

<p>历史的公开市场逐笔成交数据目前没有，您可以通过订阅market.$contract_code.trade.detail来本地进行存储。</p>
<h3 id='q4-k-macd'>Q4: 如何获取K线上的MACD等技术指标？</h3>
<p>API没有获取K线上的MACD等技术指标接口，您可以参考TradingView等网站来计算。</p>
<h3 id='q5-timestamp'>Q5: 文档里的时间戳timestamp定义是什么？</h3>
<p>文档里的时间戳是指格林威治时间1970年01月01日00时00分00秒(北京时间1970年01月01日08时00分00秒)起至现在的总秒数或者总毫秒数。</p>
<h3 id='q6-type-150-20'>Q6: 获取行情深度数据中请求参数type的 150档，20档具体是指？</h3>
<p>订阅行情深度market.$contract_code.depth.$type,150档指当前盘口的买卖盘的订单，将价格顺序切分为150个小区间，统计每个小区间的挂单数；20档指当前盘口的买卖盘的订单，将价格顺序切分为20个小区间，统计每个小区间的挂单数。</p>
<h3 id='q7-type'>Q7: 获取行情深度数据中请求参数type的“合并深度”是什么意思？</h3>
<p>订阅行情深度(market.$contract_code.depth.$type)：</p>

<p>step1和step7 按5位小数合并，买盘向下、卖盘向上
step2和step8 按4位小数合并，买盘向下、卖盘向上
step3和step9 按3位小数合并，买盘向下、卖盘向上
step4和step10 按2位小数合并，买盘向下、卖盘向上
step5和step11 按1位小数合并，买盘向下、卖盘向上
step12和step14 按个位数合并，买盘向下、卖盘向上
step13和step15 按十位数合并，买盘向下、卖盘向上
step4 合并为0.01 例如，下买单价格 100.123， 100.245，
盘口就显示下单价格 100.12， 100.24
如果是卖单 盘口显示价格： 100.13， 100.25</p>

<p>（“向下”和“向上”即是否四舍五入，如买盘向下则不进一位，卖盘向上则进一位）
step0到step5,step14,step15是150档；
step6到step13是20档；
step6是不合并小数；
结合以上举例说明：</p>

<p>假设当前价格1.123456  6位小数点，如果我单选step1，如果价格是买盘，显示价格是 1.12345（不四舍五入），如果是卖盘，就是1.12346（四舍五入）；</p>

<p>同理，如果我选择step7也是同样的，如果价格是买盘，显示价格是 1.12345（不四舍五入），如果是卖盘，就是1.12346（四舍五入）；</p>

<p>假设是TRX 选择20档 那么step6是不合并，如果当前价格是1.123456 6位小数点，选择step6，不论买卖盘口还是1.123456 6位小数；</p>

<p>假设是TRX 选择20档 那么step11按1位小数合并，假设当前价格1.123456 6位小数点，如果我单选step11，如果价格是买盘，显示价格是 1.1（不四舍五入），如果是卖盘，就是1.1（四舍五入)。</p>
<h3 id='q8-websocket'>Q8: websocket的持仓变动频道，每次是返回全量数据还是增量变化的数据？</h3>
<p>订阅持仓推送：&quot;topic&quot;: &quot;positions.btc-usdt&quot;，推送的是最新的持仓（包括持仓量、可平仓数量、冻结数量），没有变化就不推送。</p>
<h3 id='q9-websocket'>Q9: websocket持仓订阅频道，未实现盈亏有变化会推送吗?</h3>
<p>订阅持仓推送：&quot;topic&quot;: &quot;positions.btc-usdt&quot;, 如果持仓有变动，包括开仓/平仓/交割等，会推送仓位变化，若只是单纯的未实现盈亏不会推送。</p>
<h3 id='q10-ws-market-detail-trade-detail'>Q10: WS中的market detail 和 trade detail 具体什么区别和含义?</h3>
<p>Market Detail(market.$contract_code.detail)  是市场聚合行情，0.5s检测1次，有成交则推送。包含了此时间段的开盘价、收盘价、最高价、最低价和成交数量；Trade Detail(market.$contract_code.trade.detail) 是有成交更新就会推送，包括成交价格、成交数量和成交方向等数据。</p>
<h3 id='q11-market-depth-ts'>Q11: 订阅market depth增量数据返回参数的两个ts分别是什么？</h3>
<p>增量depth订阅：market.$contract_code.depth.size_${size}.high_freq，外层ts是到行情服务器开始转发这笔数据的系统时间戳，里层ts是orderbook的检测时间点。</p>
<h3 id='q12-ws-market-depth-market-depth-market-depth'>Q12: 通过ws订阅market depth数据和market depth增量数据的区别是什么？订阅market depth增量数据多久推送一次？</h3>
<p>market.$contract_code.depth.$type是全量数据，market.$contract_code.depth.size_${size}.high_freq是增量数据，全量数据是100ms检查一次，至少1秒推送1次；增量30MS检查1次，无更新不推送。</p>

<p>目前market depth增量数据market.$contract_code.depth.size_${size}.high_freq是30MS检测一次，不是随机检测，30m检查一次更新，但是有二台机同时进行，每两次的时间间隔最小可能是0，但30ms内最多推送6次，最大时间间隔无上限，30ms内最少推送次数为0。</p>
<h3 id='q13-market-contract_code-depth-size_-size-high_freq'>Q13: 增量数据market.$contract_code.depth.size_${size}.high_freq推送如何维护本地数据？</h3>
<p>增量数据首次会推送全量数据，之后推送的为增量数据。</p>

<p>(1) 把增量的价格与上一个全量做比较，相同的价格把挂单量替换；</p>

<p>(2) 没有相同价格的添加到本地全量数据；</p>

<p>(3) 如果某个价格挂单没有了，会推送类似[8100, 0]这样的数据，把本地相同价格的移除；</p>

<p>(4) 同一个websocket连接，增量数据version是递增的；如果 version不递增，您需要重新订阅并重新维护本地全量数据；</p>
<h3 id='q14-ws'>Q14: 订阅多个合约代码同一主题时, 需要多个 ws 连接吗?</h3>
<p>对于交割合约、币永续、u永续、期权之间, 由于是不同的接口地址, 需要不同的 ws 连接</p>

<p>对于交割合约、币永续、u永续、期权各自里面, 只要接口地址是一样的, 一个 ws 连接即可. </p>
<h3 id='q15-ws'>Q15: 是否可以通过 ws 下单和撤单?</h3>
<p>目前不支持 ws 下单和撤单</p>
<h3 id='q16'>Q16: 如何订阅订单状态?</h3>
<p>a. 订单交易成功: ”订阅合约订单撮合数据（matchOrders.$symbol-$partition）&quot;或&quot;订阅订单成交数据（orders.$symbol-$partition）&quot;</p>

<p>b. 订单撤单成功: 订阅&quot;资产变动数据（accounts.$symbol）”</p>
<h3 id='q17-matchorders-symbol-partition-quot-quot-orders-symbol-partition-quot'>Q17: ”订阅合约订单撮合数据（matchOrders.$symbol-$partition）&quot;和&quot;订阅订单成交数据（orders.$symbol-$partition）&quot;的区别</h3>
<p>两者推送的数据不一样, 订单成交数据（orders.$symbol-$partition）会比订单撮合数据（matchOrders.$symbol-$partition）字段多一些</p>

<p>通常情况下, 撮合完成后的推送(订单撮合数据“matchOrders.$symbol-$partition”)要比清算完成后的(订单成交数据“orders.$symbol-$partition”)推送快, 但不能保证撮合完成后的推送一定比清算完成后的推送更快;</p>

<p>强平以及轧差订单不会推送&quot;订单撮合数据（matchOrders.$symbol-$partition）”</p>
<h3 id='q18-quot-kline-market-contract_code-kline-period'>Q18: &quot;订阅 KLine 数据（market.$contract_code.kline.$period）”多久推送一次</h3>
<p>有成交时, 500ms推送一次</p>

<p>无成交时, 根据订阅的周期推送</p>
<h3 id='q19'>Q19: 如何判断推送是否延迟</h3>
<p>判断是否延迟, 请先同步服务器时间, 同步服务器时间接口为: https://api.hbdm.com/api/v1/timestamp, 返回数据中的 ts 是时间戳（毫秒）, 对应的时区是 UTC+8.</p>

<p>每个推送数据的外层都会有一个推送数据 ts, 这个 ts 是服务器推送数据给客户端那一刻的间戳（毫秒）, 对应的时区是 UTC+8.</p>

<p>当有推送数据到达时, 程序记录此时本地时间 ts. 当发现本地时间 ts 远远大于推送数据 ts 时（本地时间远远晚于推送数据时间）, 可以通过以下方式定位延迟和解决延迟: </p>

<p>a. 减少订阅时推送的数据. </p>

<p>b. 查看本地网络和服务器间的稳定性和速度（请把 api.btcgateway.pro 替换为程序使用的域名）</p>

<p>curl -o /dev/null -s -w time_namelookup&quot;(s)&quot;:%{time_namelookup}&quot;\n&quot;time_connect&quot;(s)&quot;:%{time_connect}&quot;\n&quot;time_starttransfer&quot;(s)&quot;:%{time_starttransfer}&quot;\n&quot;time_total&quot;(s)&quot;:%{time_total}&quot;\n&quot;speed_download&quot;(B/s)&quot;:%{speed_download}&quot;\n&quot; api.btcgateway.pro</p>

<p>收到类似以下数据: </p>

<p>time_namelookup(s):0.001378</p>

<p>time_connect(s):0.128641</p>

<p>time_starttransfer(s):0.276588</p>

<p>time_total(s):0.276804</p>

<p>speed_download(B/s):2010.000</p>

<p>若连续多次运行以上命令, 每次得到的结果差异很大, 可以: a.选择合适的火币域名, b.优化或者重新选择程序所在网络. </p>
<h2 id='d9c242c3fe'>交易相关</h2><h3 id='q1-api-1004'>Q1: API返回1004错误码是什么原因？</h3>
<p>由于近段时间平台系统订单堆积情况比较严重，我们的技术人员正在努力解决和优化中，如果近段时间出现系统繁忙的情况或者出现以下提示：</p>

<p>{“status”:”error”,”err_code”:1004,”err_msg”:”System busy. Please try again later.”,”ts”: }</p>

<p>请您耐心等待，在此过程中请不要进行重复的下单和撤单，以避免造成重复下单以及对系统性能造成额外的压力，在此期间，建议您可以通过Web和APP端进行下单和撤单。</p>
<h3 id='q2-order-id-match-id-n-trade-taker-n-maker-n-trade-trade'>Q2: 同样的order id 和 match id，可以有N多个Trade，比如，用户是一笔大的taker单，吃掉了N个maker的订单，那么，就会对应有N个trade，如何标识这些不同的trade？</h3>
<p>订单明细信息接口option-api/v1/option_order_detail返回的的字段id是全局唯一的交易标识。如果一个maker单，分多次match掉的话是每次推送只推match的部分，撮合一笔推送一笔。</p>
<h3 id='q3-api-connection-reset-max-retris-timed-out'>Q3: API接口返回Connection Reset 或者 Max retris 或者 Timed out 是什么原因？</h3>
<p>出现连接重置或者网络超时，一般是网络不稳定导致，可以尝试将服务器放置在AWS东京C区，并使用api.hbdm.vn来尝试，可以有效减少网络超时等错误。</p>
<h3 id='q4-api-order_id'>Q4: API接口下单时出错没有order_id如何来查询订单状态？</h3>
<p>如果由于网络原因等API下单超时或者失败，没有返回order_id，可以通过下单时加入client_order_id自定义订单号来进行查询订单状态。</p>
<h3 id='q5-ws'>Q5: WS 订阅私有账户，订单或者仓位一段时间，连接断开如何办？</h3>
<p>WS订阅私有账户，订单，仓位时，请注意也要定时维护好心跳，与市场行情的心跳格式不同，详情请参照菜单《Websocket心跳以及鉴权接口》里的订单推送心跳。同时如果连接断开，请做好重连逻辑。</p>
<h3 id='q6-1-2-3'>Q6: 合约资产接口中的“获取合约订单信息”的订单状态1和2都是准备提交有什么不同？3已提交又是什么？</h3>
<p>1是准备提交，2是定序的提交，是内部流程的提交。可以认为已经被系统接受了，在系统的流程中。3是已委托到市场。</p>
<h3 id='q7-api-btc'>Q7: API有获取总资产BTC的接口吗？</h3>
<p>没有的。</p>
<h3 id='q8-api'>Q8: API撤单成功为什么查询订单却是成交？</h3>
<p>请注意撤单成功或者下单成功只代表您撤单命令或者下单命令的成功，并不代表订单已经撤销，您可以通过该接口option-api/v1/option_order_info去查询订单状态。</p>
<h3 id='q9-api-10'>Q9: API查询订单状态为10是否一定失败？</h3>
<p>通过option-api/v1/option_order_info查询订单状态，如果status为10，表示订单失败，不会成功。</p>
<h3 id='q10-api'>Q10: API一般从撤单开始到撤单成功需要多久？</h3>
<p>撤单命令执行成功一般几十ms，实际撤单状态要查询订单状态option-api/v1/option_order_info获取。</p>
<h3 id='q11'>Q11: 如何查询交易所系统状态</h3>
<p>交易所系统常见的两种状态: 系统处于结算/交割；停机维护. 当系统处于这两种状态时, 调用 api 接口会返回响应的错误代码和错误信息</p>

<p>a.如何判断是否是结算/交割完成</p>

<p>通过&quot;获取合约信息”接口: /option-api/v1/option_contract_info</p>

<p>在返回值中的 contract_status 来判断, 如果值为 1 表示已经结算/交割完成, 可以正常交易了</p>

<p>b.如何判断是否是停机维护</p>

<p>通过&quot;查询系统是否可用”接口: https://api.hbdm.com/heartbeat/</p>

<p>或者&quot;订阅系统状态更新”接口: &quot;topic &quot;: &quot;public.$service.heartbeat&quot;</p>

<p>在推送值中的 heartbeat 来判断, 如果值为 1 表示系统为可用, 可以正常连接了</p>
<h3 id='q12'>Q12: 是否支持双向持仓</h3>
<p>支持的. 火币目前是支持同时持有空单和多单的</p>
<h3 id='q13'>Q13: 如何保证快速成交</h3>
<p>火币合约目前是没有市价的. 为提高成交概率, 可以使用对手价: opponent, 最优5档: optimal_5, 最优10档: optimal_10, 最优20档: optimal_20. 其中最优20档的成交概率最大, 但是滑点也最大. </p>

<p>需要注意的是, 以上下单价格方式, 不保证 100% 成交的. 系统执行下单时, 是获取当时时刻的对方 N 档价格, 进行下单的. </p>
<h3 id='q14-api'>Q14: api 程序如何更快连接到交易所</h3>
<p>推荐使用 AWS 东京 c 区服务器, 同时使用 api.hbdm.vn 域名连接</p>
<h3 id='q15-abnormal-service'>Q15: 现货与合约之间, 划转报 Abnormal service 错误</h3>
<p>a.检查请求地址是否为火币 Global 地址: api.huobi.pro</p>

<p>b.检查币的精度是否不超过 8 位小数</p>
<h3 id='q16-2'>Q16: 如何确认是否开仓/平仓成功</h3>
<p>&quot;合约下单（option-api/v1/option_order）”接口或者&quot;合约批量下单（option-api/v1/option_batchorder）”接口下单成功后, 不代表已经开仓/平仓成功. 只是意味着服务器已经成功收到你的下单指令</p>

<p>查询是否开仓/平仓成功，可以使用返回的“order_id” 通过“获取合约订单信息（option-api/v1/option_order_info）” 或 “获取订单明细信息（option-api/v1/option_order_detail）”这两个接口来查询订单状态。当订单已经成交后，接口返回参数中的status 值为 6 （全部成交）。</p>

<p>但同时需要注意：</p>

<p>a.获取合约订单信息（option-api/v1/option_order_info）接口在系统结算或交割后，会把结束状态的订单（5部分成交已撤单 6全部成交 7已撤单）删除掉。</p>

<p>b.获取订单明细信息（option-api/v1/option_order_detail）接口存在延迟情况，所以查询时最好带上：created_at（下单时间戳）和 order_type(订单类型，默认填1)，会直接查询数据库，查询结果会更及时。</p>
<h3 id='q17'>Q17: 为什么系统自动撤单了?</h3>
<p>下单时 order_price_type 为: IOC, FOK, Maker（post_only） 当盘口不满足条件时, 会自动撤单</p>

<p>post_only, 只做Maker（Post only）订单, 不会立刻在市场上成交, 如果委托会立即与已有委托成交, 那么该委托会被取消, 保证用户始终为Maker. </p>

<p>IOC 订单, 若不能在市场上立即成交, 则未成交的部分立即取消. </p>

<p>FOK 订单, 若不能全部成交则立即全部取消. </p>
<h3 id='q18'>Q18: 如何获取用户当前资产最大可开张数</h3>
<p>目前没有直接获取当前资产最大可开张数的接口. </p>
<h3 id='q19-order_id-order_id_str'>Q19: order_id 和 order_id_str 是一样的吗?</h3>
<p>order_id_str 是 order_id 的字符串格式, 两者的值是一样的</p>

<p>对于 18 位的 order_id, 在 nodejs 和 javascript 的 JSON.parse 默认是 int, 解析会有问题, 因此推荐使用 order_id_str</p>
<h3 id='q20'>Q20: 如何获取成交数据中的主买/主卖数量</h3>
<p>&quot;获取市场最近成交记录（/option-ex/market/trade）”接口或&quot;sub&quot;: &quot;market.$contract_code.trade.detail&quot;订阅, 可以获取此数据, 其中: </p>

<p>amount: 成交量(张), 买卖双边成交量之和</p>

<p>direction: 主动成交方向</p>
<h3 id='q21-k-from-to-2000-period-data'>Q21: 获取K线数据时, from 和 to 的时间间隔是 2000 * period, 为什么获取的 data 为[]?</h3>
<p>获取 K 线时, from 和 to 两个时间点是全都包含在内的, 因此是 2001 条数据. 此时数量超出了最大条数 2000. 所以返回 []</p>

<p>另外，当 from 和 to 的时间超过 2 年，返回的数据也会是 []</p>
<h3 id='q22'>Q22: 如何获取合约最新价格</h3>
<p>a.调用&quot;获取K线数据（/option-ex/market/history/kline）”接口, 任意 period, 返回数据的最后一条数据的 close 就是最新价. </p>

<p>b.调用&quot;获取市场最近成交记录（/option-ex/market/trade）”接口, 返回数据的 price 就是最新价</p>
<h3 id='q23-api'>Q23: API 升级会影响程序的运行吗?</h3>
<p>一般情况, API 升级会部分影响 ws 断连, 请做好 ws 重连逻辑. 升级内容可以订阅升级公告: </p>

<p>交割: https://status-dm.huobigroup.com/</p>

<p>币本位永续: https://status-swap.huobigroup.com/</p>

<p>USDT本位永续: https://status-linear-swap.huobigroup.com/</p>
<h2 id='a231eed8c5'>错误码相关</h2><h3 id='q1-1030'>Q1: 1030错误是什么原因？</h3>
<p>如果您出现比如查询订单或者下单时遇到：{&quot;status&quot;:&quot;error&quot;,&quot;err_code&quot;:1030,&quot;err_msg&quot;:&quot;Abnormal service. Please try again later.&quot;,&quot;ts&quot;:1588093883199}类似错误，说明您的输入的请求参数值或者类型不对，请打印出您的request请求body及完整URL参数，并请一一核对对应API文档接口参数。常见的比如volume张数必须是整数。</p>
<h3 id='q2-1048'>Q2: 1048错误是什么原因？</h3>
<p>如果您出现{&#39;index&#39;: 1, &#39;err_code&#39;: 1048, &#39;err_msg&#39;: &#39;Insufficient close amount available. &#39;}类似错误，说明此时可平仓量不足，您平仓时需查询目前已有的仓位张数再去平仓。</p>

<p>1、检查平仓的张数是否过大（当有平仓的限价挂单时, 会占用可平仓位的张数, 建议您撤销这些挂单后再去重试）. </p>

<p>2、检查仓位方向和开平方向（平多: 卖出平多(direction用sell、offset用close)、平空: 买入平空(direction用buy、offset用close)、闪电平仓只需传: direction（平多:sell、平空: buy））. </p>

<p>3、止盈止损的挂单和计划委托的挂单, 不会占仓位数. </p>
<h3 id='q3-api-1032'>Q3: API返回1032错误码是什么原因？</h3>
<p>1032代表您的访问次数超出限制， 期权合约、币本位永续合约、USDT本位永续合约和交割合约是分开限制频率，请查看合约交易接入说明中的访问次数限制，并且可以在api接口response中的header打印当前的频率限制次数来看是否超出限制频率。建议加大请求间隔延时避免超出限制频率。</p>
<h2 id='9065b72c3b'>如何更有效的解决问题</h2>
<p>您在反馈API错误时，需要附上您的请求URL，请求request的原始的完整body以及完整请求URL参数，服务器的回复response的原始完整log。如果是websocket订阅，需要您提供订阅的地址，订阅的主题，server推送的原始完整log。</p>

<p>如果是订单相关问题，在使用API订单查询接口option-api/v1/option_order_info请求后保留返回的完整log，并提供您的UID以及订单号。</p>
<h1 id='0737c93bf7'>合约市场行情接口</h1><h2 id='6b15dcb6a3'>获取合约信息</h2><h3 id='30fd4ed55b'>示例</h3>
<ul>
<li>GET <code>option-api/v1/option_contract_info</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/option-api/v1/option_contract_info?contract_code=BTC-USDT-201225-C-13000"</span>

</code></pre><h3 id='1f9ac54b15-2'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必填</th>
<th>参数类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>false</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
</tbody></table>
<h4 id='9852b06629-2'>备注：</h4>
<p>如果所有入参不填，默认查询USDT交易区下所有期权合约信息。若填写了合约代码，则优先按照合约代码查询；</p>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_size"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price_tick"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delivery_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20201225"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"create_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20200904"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"exercise_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delivery_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quote_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604641660310</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-3'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码 （若行权价存在小数点，则用”+“表示小数点，如BTC当周看涨期权行权价为9002.35，则合约代码为BTC-USDT-200508-C-9002+35）</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>contract_size</td>
<td>true</td>
<td>decimal</td>
<td>合约面值，即1张合约对应多少标的币</td>
<td>0.01...</td>
</tr>
<tr>
<td>price_tick</td>
<td>true</td>
<td>decimal</td>
<td>合约价格最小变动精度</td>
<td>0.001, 0.01...</td>
</tr>
<tr>
<td>delivery_date</td>
<td>true</td>
<td>string</td>
<td>合约交割日期</td>
<td>如&quot;20200626&quot;</td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>string</td>
<td>合约上市日期</td>
<td>如&quot;20200515&quot;</td>
</tr>
<tr>
<td>contract_status</td>
<td>true</td>
<td>int</td>
<td>合约状态</td>
<td>0:下市 1:上市 2:待上市 3:停牌 4:暂停上市中 5:结算中 6:交割中 7 结算完成 8 交割完成 9:暂停交易中</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>exercise_price</td>
<td>true</td>
<td>decimal</td>
<td>行权价</td>
<td>如6622</td>
</tr>
<tr>
<td>delivery_asset</td>
<td>true</td>
<td>string</td>
<td>交割币种</td>
<td>如&quot;BTC&quot;</td>
</tr>
<tr>
<td>quote_asset</td>
<td>true</td>
<td>string</td>
<td>报价币种</td>
<td>如&quot;USDT&quot;</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='1028ab8392'>获取合约指数信息</h2><h3 id='30fd4ed55b-2'>示例</h3>
<ul>
<li>GET <code>option-api/v1/option_index</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/option-api/v1/option_index?symbol=BTC-USDT"</span>

</code></pre><h3 id='1f9ac54b15-3'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>指数代码</td>
<td>&quot;BTC-USDT&quot;,&quot;ETH-USDT&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"index_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">15666.651003896666666666</span><span class="p">,</span><span class="w">
            </span><span class="s2">"index_ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604641743091</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604641747077</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-4'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>指数代码</td>
<td>&quot;BTC-USDT&quot;,&quot;ETH-USDT&quot;</td>
</tr>
<tr>
<td>index_price</td>
<td>true</td>
<td>decimal</td>
<td>指数价格</td>
<td></td>
</tr>
<tr>
<td>index_ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='025c787500'>获取合约最高限价和最低限价</h2><h3 id='30fd4ed55b-3'>示例</h3>
<ul>
<li>GET <code>option-api/v1/option_price_limit</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/option-api/v1/option_price_limit?contract_code=BTC-USDT-201225-C-13000"</span>

</code></pre><h3 id='1f9ac54b15-4'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码,不填返回所有当前上市合约的限价数据</td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"high_limit"</span><span class="p">:</span><span class="w"> </span><span class="mf">4619.82</span><span class="p">,</span><span class="w">
            </span><span class="s2">"low_limit"</span><span class="p">:</span><span class="w"> </span><span class="mf">1484.26</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604641793095</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-5'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>如&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
<tr>
<td>high_limit</td>
<td>true</td>
<td>decimal</td>
<td>最高买价</td>
<td></td>
</tr>
<tr>
<td>low_limit</td>
<td>true</td>
<td>decimal</td>
<td>最低卖价</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='2703acfb75'>查询合约市场指标</h2><h3 id='30fd4ed55b-4'>示例</h3>
<ul>
<li>GET <code>option-api/v1/option_market_index</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/option-api/v1/option_market_index?contract_code=BTC-USDT-201225-C-13000"</span>

</code></pre><h3 id='1f9ac54b15-5'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>false</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>option_right_type</td>
<td>false</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
</tbody></table>
<h3 id='9852b06629-3'>备注：</h3>
<ul>
<li>如果contract_code填了值，那就按照contract_code去查询；</li>
<li>如果contract_code没有填值，则按照symbol+trade_partition+contract_type+option_right_type去查询。</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"iv_last_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.47379972</span><span class="p">,</span><span class="w">
            </span><span class="s2">"iv_ask_one"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.66771509</span><span class="p">,</span><span class="w">
            </span><span class="s2">"iv_bid_one"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.55960657</span><span class="p">,</span><span class="w">
            </span><span class="s2">"iv_mark_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.62272073</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delta"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8249273542423468</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gamma"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00007202</span><span class="p">,</span><span class="w">
            </span><span class="s2">"theta"</span><span class="p">:</span><span class="w"> </span><span class="mf">-9.40283094</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vega"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.82486644</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ask_one"</span><span class="p">:</span><span class="w"> </span><span class="mf">3122.7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bid_one"</span><span class="p">:</span><span class="w"> </span><span class="mf">2964.33</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2855.11</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mark_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">3054.4960937643172123041257590971717688</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604641840724</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-6'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>如&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>iv_last_price</td>
<td>true</td>
<td>decimal</td>
<td>最新成交价隐含波动率</td>
<td></td>
</tr>
<tr>
<td>iv_ask_one</td>
<td>true</td>
<td>decimal</td>
<td>卖一价隐含波动率</td>
<td></td>
</tr>
<tr>
<td>iv_bid_one</td>
<td>true</td>
<td>decimal</td>
<td>买一价隐含波动率</td>
<td></td>
</tr>
<tr>
<td>iv_mark_price</td>
<td>true</td>
<td>decimal</td>
<td>标记价格隐含波动率</td>
<td></td>
</tr>
<tr>
<td>delta</td>
<td>true</td>
<td>decimal</td>
<td>DELTA</td>
<td></td>
</tr>
<tr>
<td>gamma</td>
<td>true</td>
<td>decimal</td>
<td>GAMMA</td>
<td></td>
</tr>
<tr>
<td>theta</td>
<td>true</td>
<td>decimal</td>
<td>THETA</td>
<td></td>
</tr>
<tr>
<td>vega</td>
<td>true</td>
<td>decimal</td>
<td>VEGA</td>
<td></td>
</tr>
<tr>
<td>ask_one</td>
<td>true</td>
<td>decimal</td>
<td>卖一价</td>
<td></td>
</tr>
<tr>
<td>bid_one</td>
<td>true</td>
<td>decimal</td>
<td>买一价</td>
<td></td>
</tr>
<tr>
<td>last_price</td>
<td>true</td>
<td>decimal</td>
<td>最新成交价</td>
<td></td>
</tr>
<tr>
<td>mark_price</td>
<td>true</td>
<td>decimal</td>
<td>标记价格</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='e30aaa2765'>获取当前可用合约总持仓量</h2><h3 id='30fd4ed55b-5'>示例</h3>
<ul>
<li>GET <code>/option-api/v1/option_open_interest</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/option-api/v1/option_open_interest?contract_code=BTC-USDT-201225-C-13000"</span>

</code></pre><h3 id='1f9ac54b15-6'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>false</td>
<td>string</td>
<td>合约类型</td>
<td>this_week:当周 next_week:次周 quarter:季度</td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
</tbody></table>
<h4 id='9852b06629-4'>备注：</h4>
<ul>
<li>如果所有入参不填，默认查询USDT交易区下所有期权合约信息。若填写了合约代码，则优先按照合约代码查询；</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">2947</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.947</span><span class="p">,</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.42</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">142</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.847622</span><span class="w">

        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604641943451</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-7'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>如&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>持仓量(币)</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>持仓量(张)</td>
<td></td>
</tr>
<tr>
<td>trade_amount</td>
<td>true</td>
<td>decimal</td>
<td>最近24小时成交量（币）（当前时间-24小时）</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>最近24小时成交量（张）（当前时间-24小时）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>最近24小时成交额（当前时间-24小时）</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='7191d942c0'>获取预估交割价</h2><h3 id='30fd4ed55b-6'>示例</h3>
<ul>
<li>GET <code>/option-api/v1/option_delivery_price</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/soption-api/v1/option_delivery_price?symbol=BTC"</span>

</code></pre><h3 id='1f9ac54b15-7'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，如果不填，默认为“USDT”</td>
<td>&quot;USDT&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delivery_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">13203.1966277128547579298831</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642022058</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-8'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>delivery_price</td>
<td>true</td>
<td>decimal</td>
<td>预估交割价</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='7db2c9819a'>获取平台持仓量</h2><h3 id='30fd4ed55b-7'>示例</h3>
<ul>
<li>GET <code>option-api/v1/option_his_open_interest</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/option-api/v1/option_his_open_interest?symbol=BTC&amp;contract_type=this_week&amp;period=60min&amp;amount_type=1&amp;option_right_type=C&amp;trade_partition=USDT"</span>

</code></pre><h3 id='1f9ac54b15-8'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>时间周期类型</td>
<td>1小时:&quot;60min&quot;，4小时:&quot;4hour&quot;，12小时:&quot;12hour&quot;，1天:&quot;1day&quot;</td>
</tr>
<tr>
<td>size</td>
<td>false</td>
<td>int</td>
<td>获取数量</td>
<td>默认为：48，取值范围 [1,200]</td>
</tr>
<tr>
<td>amount_type</td>
<td>true</td>
<td>int</td>
<td>计价单位</td>
<td>1:张，2:币</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">22688</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604638800000</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">22633</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604635200000</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642063718</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-9'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td>字典数据</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>持仓量</td>
<td></td>
</tr>
<tr>
<td>amount_type</td>
<td>true</td>
<td>int</td>
<td>计价单位</td>
<td>1:张，2:币</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>统计时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='4c95618614'>注意：</h3>
<ul>
<li><p>tick字段：数组内的数据按照时间倒序排列；</p></li>
<li><p>data字段：字典类型。</p></li>
</ul>
<h2 id='3c4726638f'>查询系统状态</h2><h3 id='30fd4ed55b-8'>示例</h3>
<ul>
<li>GET <code>option-api/v1/option_api_state</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/option-api/v1/option_api_state"</span>

</code></pre><h3 id='1f9ac54b15-9'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;，&quot;USDT&quot;,如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;，不填默认”USDT“</td>
</tr>
</tbody></table>
<h4 id='9852b06629-5'>备注：</h4>
<ul>
<li>symbol为USDT时，返参仅表现USDT资产的划转权限，开仓、平仓以及撤单权限请直接忽略。</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cancel"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"transfer_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"transfer_out"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"master_transfer_sub"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sub_transfer_master"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642146524</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-10'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>int</td>
<td>开仓下单权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>int</td>
<td>平仓下单权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>cancel</td>
<td>true</td>
<td>int</td>
<td>撤单权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>transfer_in</td>
<td>true</td>
<td>int</td>
<td>从币币转入的权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>transfer_out</td>
<td>true</td>
<td>int</td>
<td>转出至币币的权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>master_transfer_sub</td>
<td>true</td>
<td>int</td>
<td>母账户划转到子账户的权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>sub_transfer_master</td>
<td>true</td>
<td>int</td>
<td>子账户划转到母账户的权限：&quot;1&quot;表示可用，“0”表示不可用</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-3'>备注</h3>
<ul>
<li><p>open，指交易权限中对应的“API-开仓-普通订单”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>close，指交易权限中对应的“API-平仓-普通订单”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>cancel，指交易权限中对应的“API-撤单-普通订单”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>transfer_in，指交易权限中对应的“其他-划转-从币币转入”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>transfer_out，指交易权限中对应的“其他-划转-转出至币币”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>master_transfer_sub，指交易权限中对应的“API-划转-母账户划转到子账户”的权限，开启为可用，关闭为不可用；</p></li>
<li><p>sub_transfer_master，指交易权限中对应的“API-划转-子账户划转到母账户”的权限，开启为可用，关闭为不可用；</p></li>
</ul>
<h2 id='1716b8327e'>获取行情深度数据</h2><h3 id='30fd4ed55b-9'>示例</h3>
<ul>
<li>GET <code>/option-ex/market/depth</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/option-ex/market/depth?contract_code=BTC-USDT-201225-C-13000&amp;type=step5"</span>

</code></pre><h3 id='9b19f8c9cc'>请求参数：</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>string</td>
<td>深度类型</td>
<td>(150档数据)  step0, step1, step2, step3, step4, step5, step14, step15（合并深度1-5,14,15）；step0时，不合并深度, (20档数据)  step6, step7, step8, step9, step10, step11, step12, step13（合并深度7-13）；step6时，不合并深度</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.depth.step6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642203490</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"mrid"</span><span class="p">:</span><span class="w"> </span><span class="mi">118879828</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642202</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">2943.2</span><span class="p">,</span><span class="w">
                </span><span class="mi">552</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">2919.87</span><span class="p">,</span><span class="w">
                </span><span class="mi">748</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">3094.55</span><span class="p">,</span><span class="w">
                </span><span class="mi">381</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">3125.95</span><span class="p">,</span><span class="w">
                </span><span class="mi">494</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642202644</span><span class="p">,</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642202</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.depth.step6"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-11'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式：market.$contract_code.depth.type</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>asks</td>
<td>true</td>
<td>array</td>
<td>卖盘,[price(挂单价), vol(此价格挂单张数)], 按price升序</td>
<td></td>
</tr>
<tr>
<td>bids</td>
<td>true</td>
<td>array</td>
<td>买盘,[price(挂单价), vol(此价格挂单张数)], 按price降序</td>
<td></td>
</tr>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>消息id</td>
<td></td>
</tr>
<tr>
<td>mrid</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>消息生成时间，单位：毫秒.</td>
<td></td>
</tr>
<tr>
<td>version</td>
<td>true</td>
<td>long</td>
<td>版本</td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='k'>获取K线数据</h2>
<ul>
<li>GET <code>/option-ex/market/history/kline</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com//option-ex/market/history/kline?period=1min&amp;size=200&amp;contract_code=BTC-USDT-201225-C-13000"</span>

</code></pre><h3 id='1f9ac54b15-10'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线类型</td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day,1week,1mon</td>
</tr>
<tr>
<td>size</td>
<td>false</td>
<td>int</td>
<td>获取数量，默认150</td>
<td>[1,2000]</td>
</tr>
<tr>
<td>from</td>
<td>false</td>
<td>long</td>
<td>开始时间戳 10位 单位S</td>
<td></td>
</tr>
<tr>
<td>to</td>
<td>false</td>
<td>ling</td>
<td>结束时间戳 10位 单位S</td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-4'>备注</h3>
<ul>
<li>1、size与from&amp;to 必填其一，若全不填则返回空数据。</li>
<li>2、如果填写from，也要填写to。最多可获取连续两年的数据。</li>
<li>3、如果size、from、to 均填写，会忽略from、to参数。</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.kline.5min"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mf">2855.11</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="mf">2855.11</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604641800</span><span class="p">,</span><span class="w">
            </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="mf">2855.11</span><span class="p">,</span><span class="w">
            </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mf">2855.11</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mf">2855.11</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="mf">2855.11</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642100</span><span class="p">,</span><span class="w">
            </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="mf">2855.11</span><span class="p">,</span><span class="w">
            </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mf">2855.11</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642303996</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-12'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.period</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>K线ID,也就是K线时间戳，K线起始时间</td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>decimal</td>
<td>成交量(张)，买卖双边成交量之和</td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>decimal</td>
<td>成交笔数</td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>decimal</td>
<td>开盘价</td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>decimal</td>
<td>收盘价,当K线为最晚的一根时，是最新成交价</td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>decimal</td>
<td>最低价</td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>decimal</td>
<td>最高价</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>成交量(币), 即 (成交量(张) * 单张合约面值)</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交额（即成交的权利金总额），即 sum（每一笔成交张数 * 合约面值 * 成交价格）</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='c0732fad25'>获取聚合行情</h2>
<ul>
<li>GET <code>/option-ex/market/detail/merged</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/option-ex/market/detail/merged?contract_code=BTC-USDT-201225-C-13000"</span>

</code></pre><h3 id='1f9ac54b15-11'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.detail.merged"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.69"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ask"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mf">3099.36</span><span class="p">,</span><span class="w">
            </span><span class="mi">381</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"bid"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mf">2939.87</span><span class="p">,</span><span class="w">
            </span><span class="mi">552</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2855.11"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2855.11"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642357</span><span class="p">,</span><span class="w">
        </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2821.97"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2821.97"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4480.8195"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642358431</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1690"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642358431</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-13'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$contract_code.detail.merged</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object</td>
<td>开盘价和收盘价（从当天零点(UTC+8)开始）</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>K线ID,也就是K线时间戳</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>成交量(币), 即 (成交量(张) * 单张合约面值)（最近24（当前时间-24小时）小时成交量币）</td>
<td></td>
</tr>
<tr>
<td>ask</td>
<td>true</td>
<td>array</td>
<td>[卖1价,卖1量(张)]</td>
<td></td>
</tr>
<tr>
<td>bid</td>
<td>true</td>
<td>array</td>
<td>[买1价,买1量(张)]</td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>string</td>
<td>开盘价</td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>string</td>
<td>收盘价,当K线为最晚的一根时，是最新成交价</td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>decimal</td>
<td>成交笔数（最近24（当前时间-24小时）小时成交笔数）</td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>string</td>
<td>最高价</td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>string</td>
<td>最低价</td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>string</td>
<td>成交量（张），买卖双边成交量之和（最近24（当前时间-24小时）小时成交量张）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>string</td>
<td>成交额（即成交的权利金总额），即 sum（每一笔成交张数 * 合约面值 * 成交价格）（最近24（当前时间-24小时）小时成交额）</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='a690ab6851'>获取市场最近成交记录</h2>
<ul>
<li>GET <code>/option-ex/market/trade</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/option-ex/market/trade?contract_code=BTC-USDT-201225-C-13000"</span>

</code></pre><h3 id='1f9ac54b15-12'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码,不填返回所有当前上市合约的最近成交数据</td>
<td>&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.*.trade.detail"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tick"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-210326-C-20000"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">348060000</span><span class="p">,</span><span class="w">
                </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27000.2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54.0004"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1614065387681</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-210326-P-20000"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">347030000</span><span class="p">,</span><span class="w">
                </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.176"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1613990541997</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1614074418045</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1614074418045</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1614074418045</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-14'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$contract_code.trade.detail</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td></td>
<td>&quot;ok&quot;,&quot;error&quot;</td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>订单唯一id（品种唯一）</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>最新成交时间</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>string</td>
<td>成交量(张)，买卖双边成交量之和</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向，即taker(主动成交)的方向</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>成交唯一id（品种唯一）</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>string</td>
<td>成交价</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>成交时间</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>true</td>
<td>string</td>
<td>成交量（币）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>string</td>
<td>成交额（计价币种）</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>发送时间</td>
<td></td>
</tr>
</tbody></table>
<h2 id='8aa1eaa6bf'>批量获取最近的交易记录</h2><h3 id='69fffaf196'>实例</h3>
<ul>
<li>GET <code>/option-ex/market/history/trade</code></li>
</ul>
<pre class="highlight shell tab-shell"><code>
curl <span class="s2">"https://api.hbdm.com/ /option-ex/market/history/trade?contract_code=BTC-USDT-201225-C-13000&amp;size=10"</span>

</code></pre><h3 id='1f9ac54b15-13'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>int</td>
<td>获取交易记录的数量</td>
<td>[1, 2000]</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.trade.detail"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1174421220000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2406.83</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604581920670</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mf">24.0683</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">117442122</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604581920670</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">970</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1182841000000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2821.97</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604615035549</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.97</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mf">216.0683</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">98</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1182841000001</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2855.11</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604615035549</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.098</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mf">19.0683</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">118284100</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604615035549</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642481841</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-15'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel，格式： market.$contract_code.trade.detail</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>成交量(张)，买卖双边成交量之和</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向，即taker(主动成交)的方向</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>成交唯一id（品种唯一）</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>成交价格</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>成交时间</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>true</td>
<td>decimal</td>
<td>成交量（币）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交额（计价币种）</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>订单唯一id（品种唯一）</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>最新成交时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td></td>
<td>&quot;ok&quot;，&quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h4 id='e0361480e3-5'>备注</h4>
<ul>
<li>2021年2月3日 21:00:00 后返回参数才会有quantity、trade_turnover字段。</li>
</ul>
<h1 id='e2d72291c6'>合约资产接口</h1><h2 id='f4d78556c7'>获取账户总资产估值</h2>
<ul>
<li>POST <code>/option-api/v1/option_balance_valuation</code></li>
</ul>
<h3 id='1f9ac54b15-14'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>valuation_asset</td>
<td>false</td>
<td>string</td>
<td>资产估值币种，即按该币种为单位进行估值，不填默认&quot;BTC&quot;</td>
<td>&quot;BTC&quot;,&quot;USD&quot;,&quot;USDT&quot;,&quot;CNY&quot;,&quot;EUR&quot;,&quot;GBP&quot;,&quot;VND&quot;,&quot;HKD&quot;,&quot;TWD&quot;,&quot;MYR&quot;,&quot;SGD&quot;,&quot;KRW&quot;,&quot;RUB&quot;,&quot;TRY&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p>Response: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"valuation_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05402000000000000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1614047794160</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-16'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valuation_asset</td>
<td>true</td>
<td>string</td>
<td>资产估值币种，即按该币种为单位进行估值</td>
<td>&quot;BTC&quot;,&quot;USD&quot;,&quot;USDT&quot;,&quot;CNY&quot;,&quot;EUR&quot;,&quot;GBP&quot;,&quot;VND&quot;,&quot;HKD&quot;,&quot;TWD&quot;,&quot;MYR&quot;,&quot;SGD&quot;,&quot;KRW&quot;,&quot;RUB&quot;,&quot;TRY&quot;</td>
</tr>
<tr>
<td>balance</td>
<td>true</td>
<td>string</td>
<td>资产估值</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
</tbody></table>
<h2 id='e807c44c06'>获取用户账户信息</h2><h3 id='30fd4ed55b-10'>示例</h3>
<ul>
<li>POST  <code>option-api/v1/option_account_info</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-15'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;，&quot;ETH&quot;，&quot;USDT&quot;，如果缺省，默认返回所有资产品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.45482</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_available"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.45482</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_real"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.09418</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"withdraw_available"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.45482</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_static"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.45482</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_in"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.85101</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_out"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.47879</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gamma"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"theta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vega"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"option_value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604642578467</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-17'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>long</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;,&quot;USDT&quot;</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>margin_balance</td>
<td>true</td>
<td>decimal</td>
<td>账户权益</td>
<td></td>
</tr>
<tr>
<td>margin_position</td>
<td>true</td>
<td>decimal</td>
<td>履约保证金</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金（卖方）</td>
<td></td>
</tr>
<tr>
<td>margin_available</td>
<td>true</td>
<td>decimal</td>
<td>可用保证金</td>
<td></td>
</tr>
<tr>
<td>profit_real</td>
<td>true</td>
<td>decimal</td>
<td>已实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>withdraw_available</td>
<td>true</td>
<td>decimal</td>
<td>可划转数量</td>
<td></td>
</tr>
<tr>
<td>margin_static</td>
<td>true</td>
<td>decimal</td>
<td>静态权益</td>
<td></td>
</tr>
<tr>
<td>premium_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结权利金（买方）</td>
<td></td>
</tr>
<tr>
<td>fee_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结手续费</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>premium_in</td>
<td>true</td>
<td>decimal</td>
<td>本周权利金收入</td>
<td></td>
</tr>
<tr>
<td>premium_out</td>
<td>true</td>
<td>decimal</td>
<td>本周权利金支出</td>
<td></td>
</tr>
<tr>
<td>delta</td>
<td>true</td>
<td>decimal</td>
<td>DELTA</td>
<td></td>
</tr>
<tr>
<td>gamma</td>
<td>true</td>
<td>decimal</td>
<td>GAMMA</td>
<td></td>
</tr>
<tr>
<td>theta</td>
<td>true</td>
<td>decimal</td>
<td>THETA</td>
<td></td>
</tr>
<tr>
<td>vega</td>
<td>true</td>
<td>decimal</td>
<td>VEGA</td>
<td></td>
</tr>
<tr>
<td>option_value</td>
<td>true</td>
<td>decimal</td>
<td>期权市值（单位为USDT）</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='9852b06629-6'>备注：</h3>
<ul>
<li><p>USDT资产是USDT交易区下所有品种期权共用的；</p></li>
<li><p>USDT资产下的期权市值为USDT区下所有品种期权持仓的价值；BTC资产下的期权市值为BTC期权持仓的价值；ETH资产下的期权市值为ETH期权持仓的价值；</p></li>
</ul>
<h2 id='46a3ba9a2f'>获取用户持仓信息</h2><h3 id='30fd4ed55b-11'>示例</h3>
<ul>
<li>POST <code>option-api/v1/option_position_info</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-16'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;，不填默认”USDT“</td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost_open"</span><span class="p">:</span><span class="w"> </span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost_hold"</span><span class="p">:</span><span class="w"> </span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"position_value"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.89725</span><span class="p">,</span><span class="w">
            </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.005</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delivery_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20201225"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"exercise_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quote_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604888304689</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-18'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>持仓量</td>
<td></td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>decimal</td>
<td>可平仓数量</td>
<td></td>
</tr>
<tr>
<td>frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结数量</td>
<td></td>
</tr>
<tr>
<td>cost_open</td>
<td>true</td>
<td>decimal</td>
<td>开仓均价</td>
<td></td>
</tr>
<tr>
<td>cost_hold</td>
<td>true</td>
<td>decimal</td>
<td>持仓均价</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_rate</td>
<td>true</td>
<td>decimal</td>
<td>收益率</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>margin_position</td>
<td>true</td>
<td>decimal</td>
<td>履约保证金</td>
<td></td>
</tr>
<tr>
<td>position_value</td>
<td>true</td>
<td>decimal</td>
<td>仓位价值</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
<td></td>
</tr>
<tr>
<td>last_price</td>
<td>true</td>
<td>decimal</td>
<td>最新价</td>
<td></td>
</tr>
<tr>
<td>delivery_date</td>
<td>true</td>
<td>string</td>
<td>到期日</td>
<td>如&quot;20200508&quot;</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>exercise_price</td>
<td>true</td>
<td>decimal</td>
<td>行权价</td>
<td></td>
</tr>
<tr>
<td>quote_asset</td>
<td>true</td>
<td>string</td>
<td>报单币种</td>
<td>&quot;USDT&quot;...</td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='7dbd291aad'>批量设置子账户交易权限</h2>
<ul>
<li>POST <code>/option-api/v1/option_sub_auth</code></li>
</ul>
<h3 id='1f9ac54b15-17'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>string</td>
<td>子账户uid (多个uid中间以&quot;,&quot;分隔,一次最多允许开通10个子账户)</td>
<td></td>
</tr>
<tr>
<td>sub_auth</td>
<td>true</td>
<td>int</td>
<td>子账户交易权限，1 开启，0关闭</td>
<td></td>
</tr>
</tbody></table>
<h4 id='9852b06629-7'>备注：</h4>
<ul>
<li>首次帮子账户开启交易权限时，系统会自动帮子账户先开通合约。</li>
<li>若子账户交易权益已开启，此时请求开启权限，则接口会直接返回成功；若子账户交易权益已关闭，此时用户请求关闭权限，则接口会直接返回成功；</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"sub_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"122343"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1010</span><span class="p">,</span><span class="w">
                </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account doesn't exist."</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"successes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1612509171791</span><span class="w">
</span><span class="p">}</span><span class="w">  
</span></code></pre><h3 id='70bdef7e25-19'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;errors&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>string</td>
<td>开通失败的子账户uid</td>
<td></td>
</tr>
<tr>
<td>err_code</td>
<td>true</td>
<td>int</td>
<td>错误码</td>
<td></td>
</tr>
<tr>
<td>err_msg</td>
<td>true</td>
<td>string</td>
<td>错误信息</td>
<td></td>
</tr>
<tr>
<td>&lt;/errors&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>successes</td>
<td>true</td>
<td>string</td>
<td>开通合约成功的子账户uid列表</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='a2a4472972'>查询母账户下所有子账户资产信息</h2>
<ul>
<li>post <code>option-api/v1/option_sub_account_list</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-18'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;，&quot;ETH&quot;，“USDT”，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"sub_uid"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456789</span><span class="p">,</span><span class="w">
            </span><span class="s2">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604888581799</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-20'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>long</td>
<td>子账户UID</td>
<td></td>
</tr>
<tr>
<td>&lt;list&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;,&quot;USDT&quot;</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>margin_balance</td>
<td>true</td>
<td>decimal</td>
<td>账户权益</td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-6'>备注</h3>
<ul>
<li>只返回已经开通合约交易的子账户数据.</li>
</ul>
<h2 id='d498051674'>批量获取子账户资产信息</h2>
<ul>
<li>POST <code>/option-api/v1/option_sub_account_info_list</code></li>
</ul>
<h3 id='1f9ac54b15-19'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;，&quot;ETH&quot;，“USDT”，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>第几页,不填默认第一页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td></td>
</tr>
</tbody></table>
<h4 id='9852b06629-8'>备注：</h4>
<ul>
<li>只返回已经开通合约交易的子账户数据.</li>
<li>子账户列表默认按照开通合约时间升序，先开通合约排在前面</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sub_list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"sub_uid"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456789</span><span class="p">,</span><span class="w">
                </span><span class="s2">"account_info_list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1612509268854</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-21'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td>字典类型</td>
<td></td>
</tr>
<tr>
<td>&lt;sub_list&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>long</td>
<td>子账户UID</td>
<td></td>
</tr>
<tr>
<td>&lt;account_info_list&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;,&quot;USDT&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>margin_balance</td>
<td>true</td>
<td>decimal</td>
<td>账户权益</td>
<td></td>
</tr>
<tr>
<td>&lt;/account_info_list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/sub_list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='1da4700b7e'>查询母账户下的单个子账户资产信息</h2>
<ul>
<li>POST <code>option-api/v1/option_sub_account_info</code></li>
</ul>
<h3 id='1f9ac54b15-20'>请求参数</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"sub_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;,&quot;USDT&quot;，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>string</td>
<td>子账户的UID</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_available"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_real"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"withdraw_available"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_static"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_out"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gamma"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"theta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vega"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"option_value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604888673495</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-22'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;,&quot;USDT&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>margin_balance</td>
<td>true</td>
<td>decimal</td>
<td>账户权益</td>
<td></td>
</tr>
<tr>
<td>margin_position</td>
<td>true</td>
<td>decimal</td>
<td>履约保证金</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金（卖方）</td>
<td></td>
</tr>
<tr>
<td>margin_available</td>
<td>true</td>
<td>decimal</td>
<td>可用保证金</td>
<td></td>
</tr>
<tr>
<td>profit_real</td>
<td>true</td>
<td>decimal</td>
<td>已实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>withdraw_available</td>
<td>true</td>
<td>decimal</td>
<td>可划转数量</td>
<td></td>
</tr>
<tr>
<td>margin_static</td>
<td>true</td>
<td>decimal</td>
<td>静态权益</td>
<td></td>
</tr>
<tr>
<td>premium_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结权利金（买方）</td>
<td></td>
</tr>
<tr>
<td>fee_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结手续费</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>premium_in</td>
<td>true</td>
<td>decimal</td>
<td>本周权利金收入</td>
<td></td>
</tr>
<tr>
<td>premium_out</td>
<td>true</td>
<td>decimal</td>
<td>本周权利金支出</td>
<td></td>
</tr>
<tr>
<td>delta</td>
<td>true</td>
<td>decimal</td>
<td>DELTA</td>
<td></td>
</tr>
<tr>
<td>gamma</td>
<td>true</td>
<td>decimal</td>
<td>GAMMA</td>
<td></td>
</tr>
<tr>
<td>theta</td>
<td>true</td>
<td>decimal</td>
<td>THETA</td>
<td></td>
</tr>
<tr>
<td>vega</td>
<td>true</td>
<td>decimal</td>
<td>VEGA</td>
<td></td>
</tr>
<tr>
<td>option_value</td>
<td>true</td>
<td>decimal</td>
<td>期权市值（单位为USDT）</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id='e0361480e3-7'>备注</h4>
<ul>
<li><p>USDT资产是交易区下所有品种期权共用的；</p></li>
<li><p>USDT资产下的期权市值为USDT区下所有品种期权持仓的价值；BTC资产下的期权市值为BTC期权持仓的价值；ETH资产下的期权市值为ETH期权持仓的价值；</p></li>
<li><p>只能查询到开通合约交易的子账户信息；</p></li>
<li><p>子账户来过合约系统但是未开通合约交易也不返回对应的数据；</p></li>
</ul>
<h2 id='12a5adfd6a'>查询母账户下的单个子账户持仓信息</h2>
<ul>
<li>POST <code>option-api/v1/option_sub_position_info</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"sub_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-21'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>如&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>string</td>
<td>子账户的UID</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"volume"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"available"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frozen"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost_open"</span><span class="p">:</span><span class="mi">7503</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost_hold"</span><span class="p">:</span><span class="mi">7503</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="mf">-4.442</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_rate"</span><span class="p">:</span><span class="mf">-0.00666622225185016</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit"</span><span class="p">:</span><span class="mf">-4.442</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="mf">0.000666622225184987</span><span class="p">,</span><span class="w">
            </span><span class="s2">"position_value"</span><span class="p">:</span><span class="mf">5.49</span><span class="p">,</span><span class="w">
            </span><span class="s2">"direction"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_price"</span><span class="p">:</span><span class="mf">7500.5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delivery_date"</span><span class="p">:</span><span class="s2">"20200508"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="s2">"C"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"exercise_price"</span><span class="p">:</span><span class="mi">3500</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quote_asset"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1590047279305</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-23'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>持仓量</td>
<td></td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>decimal</td>
<td>可平仓数量</td>
<td></td>
</tr>
<tr>
<td>frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结数量</td>
<td></td>
</tr>
<tr>
<td>cost_open</td>
<td>true</td>
<td>decimal</td>
<td>开仓均价</td>
<td></td>
</tr>
<tr>
<td>cost_hold</td>
<td>true</td>
<td>decimal</td>
<td>持仓均价</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_rate</td>
<td>true</td>
<td>decimal</td>
<td>收益率</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>margin_position</td>
<td>true</td>
<td>decimal</td>
<td>履约保证金</td>
<td></td>
</tr>
<tr>
<td>position_value</td>
<td>true</td>
<td>decimal</td>
<td>仓位价值</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>仓位方向</td>
<td>&quot;buy&quot;:多 &quot;sell&quot;:空</td>
</tr>
<tr>
<td>last_price</td>
<td>true</td>
<td>decimal</td>
<td>最新价</td>
<td></td>
</tr>
<tr>
<td>delivery_date</td>
<td>true</td>
<td>string</td>
<td>到期日</td>
<td>如&quot;20200508&quot;</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>exercise_price</td>
<td>true</td>
<td>decimal</td>
<td>行权价</td>
<td></td>
</tr>
<tr>
<td>quote_asset</td>
<td>true</td>
<td>string</td>
<td>报单币种</td>
<td>&quot;USDT&quot;...</td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='da46d99549'>查询用户财务记录</h2>
<ul>
<li>POST <code>option-api/v1/option_financial_record</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='1f9ac54b15-22'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol  <img width=300/></td>
<td>true <img width=250/></td>
<td>string <img width=250/></td>
<td>资产品种   <img width=1000/></td>
<td>&quot;BTC&quot;,&quot;ETH&quot;,&quot;USDT&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>type</td>
<td>false</td>
<td>string</td>
<td>不填查询全部类型,【查询多类型中间用，隔开】</td>
<td>1:开多; 2:开空; 3:平多; 4:平空; 5:开仓手续费-吃单; 6:开仓手续费-挂单; 7:平仓手续费-吃单; 8:平仓手续费-挂单; 9:交割平多; 10:交割平空; 11:交割手续费; 12:强制平多; 13:强制平空; 14:从币币转入; 15:转出至币币; 16:结算未实现盈亏-多仓; 17:结算未实现盈亏-空仓; 19:穿仓分摊; 26:系统; 28:活动奖励; 29:返利; 30:资金费-收入; 31:资金费-支出; 34:转出到子账号合约账户; 35:从子账号合约账户转入; 36:转出到母账号合约账户; 37:从母账号合约账户转入;</td>
</tr>
<tr>
<td>create_date</td>
<td>false</td>
<td>int</td>
<td>可随意输入正整数，如果参数超过90则默认查询90天的数据</td>
<td>[1,90]</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>第几页,不填默认第一页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="s2">"financial_record"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">321223</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-10</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604888539807</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">321222</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604888516515</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604888841800</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-24'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status  <img width=300/></td>
<td>true  <img width=250/></td>
<td>string <img width=250/></td>
<td>请求处理结果   <img width=1000/></td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td>字典类型</td>
<td></td>
</tr>
<tr>
<td>&lt;financial_record&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>财务记录ID（品种唯一）</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;,&quot;USDT&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;， ...</td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>int</td>
<td>交易类型</td>
<td>1:开多; 2:开空; 3:平多; 4:平空; 5:开仓手续费-吃单; 6:开仓手续费-挂单; 7:平仓手续费-吃单; 8:平仓手续费-挂单; 9:交割平多; 10:交割平空; 11:交割手续费; 12:强制平多; 13:强制平空; 14:从币币转入; 15:转出至币币; 16:结算未实现盈亏-多仓; 17:结算未实现盈亏-空仓; 19:穿仓分摊; 26:系统; 28:活动奖励; 29:返利; 30:资金费-收入; 31:资金费-支出; 34:转出到子账号合约账户; 35:从子账号合约账户转入; 36:转出到母账号合约账户; 37:从母账号合约账户转入;</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>金额</td>
<td></td>
</tr>
<tr>
<td>&lt;/financial_record&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='642a2a6389'>获取用户当前的下单量限制</h2>
<ul>
<li>POST <code>option-api/v1/option_order_limit</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ioc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='1f9ac54b15-23'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false <img width=250/></td>
<td>string</td>
<td>品种代码  <img width=1000/></td>
<td>&quot;BTC&quot;,&quot;ETH&quot;，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价，&quot;opponent&quot;:对手价，&quot;lightning&quot;:闪电平仓，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档，&quot;fok&quot;:FOK订单，&quot;ioc&quot;:IOC订单, &quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;lightning_ioc&quot;: 闪电平仓-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;lightning_fok&quot;：闪电平仓-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"this_week"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"open_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"close_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"this_week"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"open_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"close_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next_week"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"open_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"close_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next_week"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"open_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"close_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"open_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"close_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"open_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"close_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604888933651</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-25'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>取值范围</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true  <img width=250/></td>
<td>string</td>
<td>请求处理结果   <img width=1000/></td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价，&quot;opponent&quot;:对手价，&quot;lightning&quot;:闪电平仓，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档，&quot;fok&quot;:FOK订单，&quot;ioc&quot;:IOC订单, &quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;lightning_ioc&quot;: 闪电平仓-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;lightning_fok&quot;：闪电平仓-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
<tr>
<td>&lt;list&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>&lt;types&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>open_limit</td>
<td>true</td>
<td>long</td>
<td>合约开仓单笔下单量最大值</td>
<td></td>
</tr>
<tr>
<td>close_limit</td>
<td>true</td>
<td>long</td>
<td>合约平仓单笔下单量最大值</td>
<td></td>
</tr>
<tr>
<td>&lt;/types&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='ae76aa5ff8'>获取用户当前的手续费费率</h2>
<ul>
<li>POST <code>option-api/v1/option_fee</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-24'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"open_maker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"open_taker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.005"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"close_maker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"close_taker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.005"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_rate_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"max_trade_in_fee_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.125"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"max_trade_out_fee_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.08"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"call_delivery_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"put_delivery_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"max_delivery_fee_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.125"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604888987136</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-26'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;，&quot;USDT&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>open_maker_fee</td>
<td>true</td>
<td>string</td>
<td>开仓挂单的手续费/手续费率，小数形式</td>
<td></td>
</tr>
<tr>
<td>open_taker_fee</td>
<td>true</td>
<td>string</td>
<td>开仓吃单的手续费/手续费率，小数形式</td>
<td></td>
</tr>
<tr>
<td>close_maker_fee</td>
<td>true</td>
<td>string</td>
<td>平仓挂单的手续费/手续费率，小数形式</td>
<td></td>
</tr>
<tr>
<td>close_taker_fee</td>
<td>true</td>
<td>string</td>
<td>平仓吃单的手续费/手续费率，小数形式</td>
<td></td>
</tr>
<tr>
<td>call_delivery_fee</td>
<td>true</td>
<td>string</td>
<td>看涨合约交割的手续费/手续费率，小数形式</td>
<td></td>
</tr>
<tr>
<td>put_delivery_fee</td>
<td>true</td>
<td>string</td>
<td>看跌合约交割的手续费/手续费率，小数形式</td>
<td></td>
</tr>
<tr>
<td>fee_rate_type</td>
<td>true</td>
<td>int</td>
<td>费率类型 1:相对费用,2:绝对费用（相对费用取手续费率；绝对费用取手续费，单位为USDT）</td>
<td></td>
</tr>
<tr>
<td>max_trade_in_fee_rate</td>
<td>true</td>
<td>string</td>
<td>交易所手续费收取上限（比率），小数形式</td>
<td></td>
</tr>
<tr>
<td>max_trade_out_fee_rate</td>
<td>true</td>
<td>string</td>
<td>交易所手续费支出上限（比率），小数形式</td>
<td></td>
</tr>
<tr>
<td>max_delivery_fee_rate</td>
<td>true</td>
<td>string</td>
<td>交割手续费上限（比率），小数形式</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='9852b06629-9'>备注：</h3>
<ul>
<li><p>当费率类型为”相对费用“时，则手续费按手续费率收取，即为权利金 * 对应的手续费率；当 费率类型为”绝对费用“时，则手续费固定按每张多少计价货币收取，但不能超过手续费收取/支出上限（即权利金 * 手续费收取上限比率）；</p></li>
<li><p>比如：在USDT交易区的BTC期权下，open_maker_fee（开仓挂单的手续费/手续费率）值为0.4，那么在相对费用时表示开仓手续费率为40%，在绝对费用时表示开仓每张期权合约手续费为0.4USDT。</p></li>
</ul>
<h2 id='5cfe1f07e1'>获取用户当前的划转限制</h2>
<ul>
<li>POST <code>option-api/v1/option_transfer_limit</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-25'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"transfer_in_max_each"</span><span class="p">:</span><span class="w"> </span><span class="mi">8000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"transfer_in_min_each"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0001</span><span class="p">,</span><span class="w">
            </span><span class="s2">"transfer_out_max_each"</span><span class="p">:</span><span class="w"> </span><span class="mi">800</span><span class="p">,</span><span class="w">
            </span><span class="s2">"transfer_out_min_each"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000001</span><span class="p">,</span><span class="w">
            </span><span class="s2">"transfer_in_max_daily"</span><span class="p">:</span><span class="w"> </span><span class="mi">80000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"transfer_out_max_daily"</span><span class="p">:</span><span class="w"> </span><span class="mi">16000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"net_transfer_in_max_daily"</span><span class="p">:</span><span class="w"> </span><span class="mi">40000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"net_transfer_out_max_daily"</span><span class="p">:</span><span class="w"> </span><span class="mi">8000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604889046636</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-27'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>transfer_in_max_each</td>
<td>true</td>
<td>decimal</td>
<td>单笔最大转入量</td>
<td></td>
</tr>
<tr>
<td>transfer_in_min_each</td>
<td>true</td>
<td>decimal</td>
<td>单笔最小转入量</td>
<td></td>
</tr>
<tr>
<td>transfer_out_max_each</td>
<td>true</td>
<td>decimal</td>
<td>单笔最大转出量</td>
<td></td>
</tr>
<tr>
<td>transfer_out_min_each</td>
<td>true</td>
<td>decimal</td>
<td>单笔最小转出量</td>
<td></td>
</tr>
<tr>
<td>transfer_in_max_daily</td>
<td>true</td>
<td>decimal</td>
<td>单日累计最大转入量</td>
<td></td>
</tr>
<tr>
<td>transfer_out_max_daily</td>
<td>true</td>
<td>decimal</td>
<td>单日累计最大转出量</td>
<td></td>
</tr>
<tr>
<td>net_transfer_in_max_daily</td>
<td>true</td>
<td>decimal</td>
<td>单日累计最大净转入量</td>
<td></td>
</tr>
<tr>
<td>net_transfer_out_max_daily</td>
<td>true</td>
<td>decimal</td>
<td>单日累计最大净转出量</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='8ea578627e'>获取用户当前的持仓量限制</h2>
<ul>
<li>post <code>option-api/v1/option_position_limit</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-26'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"this_week"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"buy_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"sell_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"this_week"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"buy_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"sell_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next_week"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"buy_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"sell_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next_week"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"buy_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"sell_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"buy_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"sell_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"buy_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"sell_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"buy_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"sell_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"buy_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"sell_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000000</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604889079265</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-28'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>&lt;list&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C-看涨(call)，P-看跌(put)</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;，所有合约:“all”</td>
</tr>
<tr>
<td>buy_limit</td>
<td>true</td>
<td>decimal</td>
<td>合约多仓持仓的最大值，单位为张</td>
<td></td>
</tr>
<tr>
<td>sell_limit</td>
<td>true</td>
<td>decimal</td>
<td>合约空仓持仓的最大值，单位为张</td>
<td></td>
</tr>
<tr>
<td>&lt;/list&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='4e2bbf5aa5'>获取用户资产和持仓信息</h2>
<ul>
<li>post <code>option-api/v1/option_account_position_info</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-27'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;,&quot;USDT&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
</tbody></table>
<h3 id='9852b06629-10'>备注：</h3>
<ul>
<li><p>若请求BTC资产，则返回BTC资产信息以及BTC期权下所有持仓信息；若请求USDT资产，则仅返回USDT资产信息，持仓信息为空。</p></li>
<li><p>USDT资产下的期权市值为USDT区下所有品种期权持仓的价值；BTC资产下的期权市值为BTC期权持仓的价值；ETH资产下的期权市值为ETH期权持仓的价值；</p></li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.44982</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_available"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.55257</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_real"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.005</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"withdraw_available"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.55257</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_static"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.55257</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_out"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.89725</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gamma"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"theta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vega"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"option_value"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.89725</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"cost_open"</span><span class="p">:</span><span class="w"> </span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"cost_hold"</span><span class="p">:</span><span class="w"> </span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"profit_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"position_value"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.89725</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.005</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"last_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"delivery_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20201225"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"exercise_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"quote_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604889122270</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-29'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>long</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;,&quot;USDT&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>margin_balance</td>
<td>true</td>
<td>decimal</td>
<td>账户权益</td>
<td></td>
</tr>
<tr>
<td>margin_position</td>
<td>true</td>
<td>decimal</td>
<td>履约保证金</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金（卖方）</td>
<td></td>
</tr>
<tr>
<td>margin_available</td>
<td>true</td>
<td>decimal</td>
<td>可用资金</td>
<td></td>
</tr>
<tr>
<td>profit_real</td>
<td>true</td>
<td>decimal</td>
<td>已实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>withdraw_available</td>
<td>true</td>
<td>decimal</td>
<td>可划转数量</td>
<td></td>
</tr>
<tr>
<td>margin_static</td>
<td>true</td>
<td>decimal</td>
<td>静态权益</td>
<td></td>
</tr>
<tr>
<td>premium_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结权利金（买方）</td>
<td></td>
</tr>
<tr>
<td>fee_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结手续费</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>premium_in</td>
<td>true</td>
<td>decimal</td>
<td>本周权利金收入</td>
<td></td>
</tr>
<tr>
<td>premium_out</td>
<td>true</td>
<td>decimal</td>
<td>本周权利金支出</td>
<td></td>
</tr>
<tr>
<td>delta</td>
<td>true</td>
<td>decimal</td>
<td>DELTA</td>
<td></td>
</tr>
<tr>
<td>gamma</td>
<td>true</td>
<td>decimal</td>
<td>GAMMA</td>
<td></td>
</tr>
<tr>
<td>theta</td>
<td>true</td>
<td>decimal</td>
<td>THETA</td>
<td></td>
</tr>
<tr>
<td>vega</td>
<td>true</td>
<td>decimal</td>
<td>VEGA</td>
<td></td>
</tr>
<tr>
<td>option_value</td>
<td>true</td>
<td>decimal</td>
<td>期权市值（单位为USDT）</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>&lt;positions&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>持仓量</td>
<td></td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>decimal</td>
<td>可平仓数量（张）</td>
<td></td>
</tr>
<tr>
<td>frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结数量（张）</td>
<td></td>
</tr>
<tr>
<td>cost_open</td>
<td>true</td>
<td>decimal</td>
<td>开仓均价</td>
<td></td>
</tr>
<tr>
<td>cost_hold</td>
<td>true</td>
<td>decimal</td>
<td>持仓均价</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_rate</td>
<td>true</td>
<td>decimal</td>
<td>收益率</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>margin_position</td>
<td>true</td>
<td>decimal</td>
<td>履约保证金</td>
<td></td>
</tr>
<tr>
<td>position_value</td>
<td>true</td>
<td>decimal</td>
<td>仓位价值</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
<td></td>
</tr>
<tr>
<td>last_price</td>
<td>true</td>
<td>decimal</td>
<td>最新价</td>
<td></td>
</tr>
<tr>
<td>delivery_date</td>
<td>true</td>
<td>string</td>
<td>到期日</td>
<td>如&quot;20200508&quot;</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>exercise_price</td>
<td>true</td>
<td>decimal</td>
<td>行权价</td>
<td></td>
</tr>
<tr>
<td>quote_asset</td>
<td>true</td>
<td>string</td>
<td>报单币种</td>
<td>&quot;USDT&quot;...</td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>&lt;/positions&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='7bc510fe47'>母子账户划转</h2>
<ul>
<li>post <code>option-api/v1/option_master_sub_transfer</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"sub_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master_to_sub"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-28'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>long</td>
<td>子账号uid</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;,&quot;ETH,&quot;USDT&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>划转金额</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>string</td>
<td>划转类型</td>
<td>master_to_sub：母账户划转到子账户， sub_to_master：子账户划转到母账户</td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>long</td>
<td>客户自己填写和维护的订单号</td>
<td>必须为数字,请注意必须小于等于9223372036854775807</td>
</tr>
</tbody></table>
<h4 id='e0361480e3-8'>备注</h4>
<ul>
<li>母账户与每个子账户相互划转限频10次/分钟。</li>
<li>即8小时内同一个用户同一个划转路径无法使用相同的client_order_id进行二次划转（比如母账户发起母转子，使用client_order_id=1，则8小时内无法继续使用client_order_id=1进行母转子；但是可以用client_order_id=1进行子转母。）。</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775309101143093248"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604889694272</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-30'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>划转订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>long</td>
<td>用户下单时填写的客户端订单ID，没填则不返回</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='6381f8e39d'>获取母账户下的所有母子账户划转记录</h2>
<ul>
<li>get <code>option-api/v1/option_master_sub_transfer_record</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transfer_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"create_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='1f9ac54b15-29'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;,&quot;USDT&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>transfer_type</td>
<td>false</td>
<td>string</td>
<td>划转类型，不填查询全部类型,【查询多类型中间用，隔开】</td>
<td>34:转出到子账号合约账户 35:从子账号合约账户转入</td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>int</td>
<td>日期</td>
<td>可随意输入正整数，如果参数超过90则默认查询90天的数据</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>页码，不填默认第1页</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td>20</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transfer_record"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">321255</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="s2">"transfer_type"</span><span class="p">:</span><span class="mi">35</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604889694258</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_uid"</span><span class="p">:</span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_account_name"</span><span class="p">:</span><span class="s2">"tom"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">321224</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">-10</span><span class="p">,</span><span class="w">
                </span><span class="s2">"transfer_type"</span><span class="p">:</span><span class="mi">34</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604888539807</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_uid"</span><span class="p">:</span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_account_name"</span><span class="p">:</span><span class="s2">"tom"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604889988776</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='0b0a1a6d11'>返回参数:</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;transfer_record&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>划转订单ID</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>资产品种</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;,&quot;USDT&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>sub_uid</td>
<td>true</td>
<td>string</td>
<td>子账户UID</td>
<td></td>
</tr>
<tr>
<td>sub_account_name</td>
<td>true</td>
<td>string</td>
<td>子账户登录名</td>
<td></td>
</tr>
<tr>
<td>transfer_type</td>
<td>true</td>
<td>int</td>
<td>划转类型</td>
<td>35:从子账号合约账户转入; 34:转出到子账号合约账户;</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>金额</td>
<td></td>
</tr>
<tr>
<td>&lt;/transfer_record&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='api-3'>获取用户API指标禁用信息</h2>
<ul>
<li>get <code>option-api/v1/option_api_trading_status</code></li>
</ul>
<h3 id='1f9ac54b15-30'>请求参数</h3>
<p>无</p>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"is_disable"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"order_price_types"</span><span class="p">:</span><span class="s2">"limit,post_only,FOK,IOC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"disable_reason"</span><span class="p">:</span><span class="s2">"COR"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"disable_interval"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"recovery_time"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"COR"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"orders_threshold"</span><span class="p">:</span><span class="mi">150</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orders"</span><span class="p">:</span><span class="mi">150</span><span class="p">,</span><span class="w">
                </span><span class="s2">"invalid_cancel_orders"</span><span class="p">:</span><span class="mi">150</span><span class="p">,</span><span class="w">
                </span><span class="s2">"cancel_ratio_threshold"</span><span class="p">:</span><span class="mf">0.98</span><span class="p">,</span><span class="w">
                </span><span class="s2">"cancel_ratio"</span><span class="p">:</span><span class="mf">0.98</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_trigger"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_active"</span><span class="p">:</span><span class="mi">1</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"TDN"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"disables_threshold"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="s2">"disables"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_trigger"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_active"</span><span class="p">:</span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">159007866555</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='0b0a1a6d11-2'>返回参数:</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>is_disable</td>
<td>true</td>
<td>int</td>
<td>是否被禁用</td>
<td>1：被禁用中，0：没有被禁用</td>
</tr>
<tr>
<td>order_price_types</td>
<td>true</td>
<td>string</td>
<td>触发禁用的订单价格类型，多个订单价格类型以英文逗号分割，例如：“limit,post_only,FOK,IOC”</td>
<td></td>
</tr>
<tr>
<td>disable_reason</td>
<td>true</td>
<td>string</td>
<td>触发禁用的原因，表示当前的禁用是由哪个指标触发</td>
<td>&quot;COR&quot;:撤单率（Cancel Order Ratio），“TDN”：总禁用次数（Total Disable Number）</td>
</tr>
<tr>
<td>disable_interval</td>
<td>true</td>
<td>long</td>
<td>禁用时间间隔，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>recovery_time</td>
<td>true</td>
<td>long</td>
<td>计划恢复时间，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;COR&gt;</td>
<td>true</td>
<td>object</td>
<td>表示撤单率的指标（Cancel Order Ratio）</td>
<td></td>
</tr>
<tr>
<td>orders_threshold</td>
<td>true</td>
<td>long</td>
<td>委托单笔数的阈值</td>
<td></td>
</tr>
<tr>
<td>orders</td>
<td>true</td>
<td>long</td>
<td>用户委托单笔数的实际值</td>
<td></td>
</tr>
<tr>
<td>invalid_cancel_orders</td>
<td>true</td>
<td>long</td>
<td>用户委托单中的无效撤单笔数</td>
<td></td>
</tr>
<tr>
<td>cancel_ratio_threshold</td>
<td>true</td>
<td>decimal</td>
<td>撤单率的阈值</td>
<td></td>
</tr>
<tr>
<td>cancel_ratio</td>
<td>true</td>
<td>decimal</td>
<td>用户撤单率的实际值</td>
<td></td>
</tr>
<tr>
<td>is_trigger</td>
<td>true</td>
<td>int</td>
<td>用户是否触发该指标</td>
<td>1：已经触发，0：没有触发</td>
</tr>
<tr>
<td>is_active</td>
<td>true</td>
<td>int</td>
<td>该指标是否开启</td>
<td></td>
</tr>
<tr>
<td>&lt;/COR&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;TDN&gt;</td>
<td>true</td>
<td>object</td>
<td>表示总禁用次数的指标（Total Disable Number）</td>
<td></td>
</tr>
<tr>
<td>disables_threshold</td>
<td>true</td>
<td>long</td>
<td>总禁用次数的阈值</td>
<td></td>
</tr>
<tr>
<td>disables</td>
<td>true</td>
<td>long</td>
<td>总禁用次数的实际值</td>
<td></td>
</tr>
<tr>
<td>is_trigger</td>
<td>true</td>
<td>int</td>
<td>用户是否触发该指标</td>
<td>1：已经触发，0：没有触发</td>
</tr>
<tr>
<td>is_active</td>
<td>true</td>
<td>int</td>
<td>该指标是否开启</td>
<td></td>
</tr>
<tr>
<td>&lt;/TDN&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id='ea84f6c646'>合约交易接口</h1><h2 id='9dc85ffb46'>合约下单</h2><h3 id='30fd4ed55b-12'>示例</h3>
<ul>
<li>POST  <code>option-api/v1/option_order</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.4</span><span class="p">,</span><span class="w">
  </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-31'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>是否必须</th>
<th>参数类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true <img width=250/></td>
<td>string  <img width=250/></td>
<td>合约代码   <img width=1000/></td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>long</td>
<td>客户自己填写和维护，必须为数字</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>false</td>
<td>decimal</td>
<td>价格</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>long</td>
<td>委托数量(张)</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>仓位方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价 &quot;opponent&quot;:对手价 &quot;post_only&quot;:只做maker单,post only下单只受用户持仓数量限制,optimal_5：最优5档、optimal_10：最优10档、optimal_20：最优20档，ioc:IOC订单，fok：FOK订单, &quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
</tbody></table>
<h3 id='e0361480e3-9'>备注</h3>
<p>&quot;limit&quot;:限价，&quot;post_only&quot;:只做maker单，ioc:IOC订单，fok：FOK订单  这四种类型需要传价格price，其他订单报价类型不需要传价格price。</p>
<h3 id='8a08d50999'>开平方向</h3>
<p>开多：买入开多(direction用buy、offset用open)</p>

<p>平多：卖出平多(direction用sell、offset用close)</p>

<p>开空：卖出开空(direction用sell、offset用open)</p>

<p>平空：买入平空(direction用buy、offset用close)</p>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">775311792237785088</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775311792237785088"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">563829342342342</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604890335869</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-31'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>String类型订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>long</td>
<td>用户下单时填写的客户端订单ID，没填则不返回</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-10'>备注</h3>
<ul>
<li>order_id返回是18位，nodejs和javascript默认解析18有问题，nodejs和javascript里面JSON.parse默认是int，超过18位的数字用json-bigint的包解析。</li>
</ul>
<h2 id='33123f0c09'>合约批量下单</h2><h3 id='30fd4ed55b-13'>示例</h3>
<ul>
<li>POST  <code>option-api/v1/option_batchorder</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"orders_data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1120</span><span class="p">,</span><span class="w">
      </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"post_only"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="mi">563829342342343</span><span class="w">
    </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
      </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1150</span><span class="p">,</span><span class="w">
      </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"post_only"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="mi">563829342342345</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='1f9ac54b15-32'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>&lt;orders_data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true <img width=250/></td>
<td>string</td>
<td>合约代码   <img width=1000/></td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>long</td>
<td>客户自己填写和维护，必须为数字</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>false</td>
<td>decimal</td>
<td>价格</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>long</td>
<td>委托数量(张)</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>仓位方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价 &quot;opponent&quot;:对手价 &quot;post_only&quot;:只做maker单,post only下单只受用户持仓数量限制,optimal_5：最优5档、optimal_10：最优10档、optimal_20：最优20档，ioc：IOC订单，fok：FOK订单,&quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
<tr>
<td>&lt;/orders_data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-11'>备注</h3>
<ul>
<li><p>&quot;limit&quot;:限价，&quot;post_only&quot;:只做maker单，ioc:IOC订单，fok：FOK订单 这四种类型需要传价格price，其他订单报价类型不需要传价格price。</p></li>
<li><p>一次最多允许10个订单。</p></li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1050</span><span class="p">,</span><span class="w">
                </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer's order number is repeated. Please try again later."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"errorParams"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">775312478778372096</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775312478778372096"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">563829342342345</span><span class="p">,</span><span class="w">
                </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604890499553</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-32'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;errors&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>index</td>
<td>true</td>
<td>int</td>
<td>订单索引</td>
<td></td>
</tr>
<tr>
<td>err_code</td>
<td>true</td>
<td>int</td>
<td>错误码</td>
<td></td>
</tr>
<tr>
<td>err_msg</td>
<td>true</td>
<td>string</td>
<td>错误信息</td>
<td></td>
</tr>
<tr>
<td>&lt;/errors&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;success&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>index</td>
<td>true</td>
<td>int</td>
<td>订单索引</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>string格式的订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>long</td>
<td>用户下单时填写的客户端订单ID，没填则不返回</td>
<td></td>
</tr>
<tr>
<td>&lt;/success&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-12'>备注</h3>
<p>order_id返回是18位，nodejs和javascript默认解析18有问题，nodejs和javascript里面JSON.parse默认是int，超过18位的数字用json-bigint的包解析。</p>
<h2 id='4e53c0fccd'>撤销订单</h2><h3 id='30fd4ed55b-14'>示例</h3>
<ul>
<li>POST <code>option-api/v1/option_cancel</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"675016139515973632,675016139515973632,675016172537729024"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-33'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>order_id</td>
<td>false(请看备注)</td>
<td>string</td>
<td>订单ID(多个订单ID中间以&quot;,&quot;分隔,一次最多允许撤消10个订单)</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>false(请看备注)</td>
<td>string</td>
<td>客户订单ID(多个订单ID中间以&quot;,&quot;分隔,一次最多允许撤消10个订单)</td>
<td></td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
</tbody></table>
<h3 id='9852b06629-11'>备注：</h3>
<ul>
<li><p>order_id和client_order_id都可以用来撤单，至少要填写一个,同时只可以设置其中一种，如果设置了两种，默认以order_id来撤单。</p></li>
<li><p>撤单接口返回结果只代表撤单命令发送成功，建议根据订单查询接口查询订单的状态来确定订单是否已真正撤销。</p></li>
<li><p>client_order_id，24小时有效，超过24小时的订单根据client_order_id将查询不到。</p></li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"771757367472893952"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1061</span><span class="p">,</span><span class="w">
                </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This order doesn't exist."</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"successes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775312478778372096"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604890627676</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-33'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;errors&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>string</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>err_code</td>
<td>true</td>
<td>int</td>
<td>错误码</td>
<td></td>
</tr>
<tr>
<td>err_msg</td>
<td>true</td>
<td>string</td>
<td>错误信息</td>
<td></td>
</tr>
<tr>
<td>&lt;/errors&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>successes</td>
<td>true</td>
<td>string</td>
<td>撤销成功的订单的order_id或client_order_id列表</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='f175a031e7'>全部撤单</h2><h3 id='30fd4ed55b-15'>示例</h3>
<ul>
<li>POST  <code>option-api/v1/option_cancelall</code></li>
</ul>
<h3 id='1f9ac54b15-34'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;，不填默认”USDT“</td>
</tr>
<tr>
<td>contract_type</td>
<td>false</td>
<td>string</td>
<td>合约类型</td>
<td>this_week:当周 next_week:次周 quarter:季度</td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
<tr>
<td>direction</td>
<td>false</td>
<td>string</td>
<td>买卖方向（不填默认全部）</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>false</td>
<td>string</td>
<td>开平方向（不填默认全部）</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
</tbody></table>
<h3 id='4000b231e7'>备注:</h3>
<ul>
<li>只要有contract_code，则撤销该code的合约</li>
<li>direction与offset可只填其一，只填其一则按对应的条件去撤单。（如用户只传了direction=buy，则撤销所有买单，包括开仓和平仓）</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"successes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775311573278339072,775311792237785088,775312389775110144,775312389800275968"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604890694946</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-34'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;errors&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>string</td>
<td>订单id</td>
<td></td>
</tr>
<tr>
<td>err_code</td>
<td>true</td>
<td>int</td>
<td>订单失败错误码</td>
<td></td>
</tr>
<tr>
<td>err_msg</td>
<td>true</td>
<td>string</td>
<td>订单失败信息</td>
<td></td>
</tr>
<tr>
<td>&lt;/errors&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>successes</td>
<td>true</td>
<td>string</td>
<td>成功的订单</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='e24ab99584'>获取用户的订单信息</h2><h3 id='30fd4ed55b-16'>示例</h3>
<ul>
<li>POST  <code>option-api/v1/option_order_info</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"663044581377445880"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"663044581377445888"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='1f9ac54b15-35'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>order_id</td>
<td>false（请看备注）</td>
<td>string</td>
<td>订单ID(多个订单ID中间以&quot;,&quot;分隔,一次最多允许查询50个订单)</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>false（请看备注）</td>
<td>string</td>
<td>客户订单ID(多个订单ID中间以&quot;,&quot;分隔,一次最多允许查询50个订单)</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区,不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
</tbody></table>
<h3 id='9852b06629-12'>备注：</h3>
<ul>
<li><p>order_id和client_order_id至少要填写一个。</p></li>
<li><p>order_id和client_order_id都可以用来查询，同时只可以设置其中一种，至少要填写一个，如果设置了两种，默认以order_id来查询。周五行权结算后，会把结束状态的订单（5部分成交已撤单 6全部成交 7已撤单）删除掉。</p></li>
<li><p>client_order_id，24小时有效，超过24小时的订单根据client_order_id将查询不到。</p></li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
            </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"opponent"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">775303174474293248</span><span class="p">,</span><span class="w">
            </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775303174474293248"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604888281225</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.89725</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.005</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_avg_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delivery_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20201225"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"exercise_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quote_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604890904670</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='b691cfe782'>返回数据</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true <img width=250/></td>
<td>string</td>
<td>请求处理结果   <img width=1000/></td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量（张）</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>委托价格</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价 &quot;opponent&quot;:对手价 &quot;post_only&quot;:只做maker单,post only下单只受用户持仓数量限制,optimal_5：最优5档、optimal_10：最优10档、optimal_20：最优20档，ioc：IOC订单，fok：FOK订单,&quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型，1:报单 、 2:撤单 、 4:交割</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
<td></td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>string格式的订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>long</td>
<td>客户订单ID</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>订单创建时间</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交数量（张）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交总金额</td>
<td></td>
</tr>
<tr>
<td>fee</td>
<td>true</td>
<td>decimal</td>
<td>手续费</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>trade_avg_price</td>
<td>true</td>
<td>decimal</td>
<td>成交均价</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金（卖方）</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td>(3未成交 4部分成交 5部分成交已撤单 6全部成交 7已撤单)</td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td></td>
</tr>
<tr>
<td>delivery_date</td>
<td>true</td>
<td>string</td>
<td>到期日</td>
<td>如&quot;20200508&quot;</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>exercise_price</td>
<td>true</td>
<td>decimal</td>
<td>行权价</td>
<td></td>
</tr>
<tr>
<td>quote_asset</td>
<td>true</td>
<td>string</td>
<td>报价币种</td>
<td>如&quot;USDT&quot;</td>
</tr>
<tr>
<td>premium_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结权利金（买方）</td>
<td></td>
</tr>
<tr>
<td>fee_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结手续费</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
</tbody></table>
<h2 id='77f352d1d1'>获取用户的订单明细信息</h2><h3 id='30fd4ed55b-17'>示例</h3>
<ul>
<li>POST <code>option-api/v1/option_order_detail</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">663681892062679040</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-36'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单id</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>false</td>
<td>long</td>
<td>下单时间戳</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>false</td>
<td>int</td>
<td>订单类型</td>
<td>1:报单 、 2:撤单 、4:交割</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>第几页,不填第一页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-13'>备注</h3>
<ul>
<li><p>获取订单明细接口查询撤单数据时，如果传“created_at”和“order_type”参数则能查询最近90天数据，如果不传“created_at”和“order_type”参数只能查询到最近24小时数据。</p></li>
<li><p>order_id返回是18位，nodejs和javascript默认解析18有问题，nodejs和javascript里面JSON.parse默认是int，超过18位的数字用json-bigint的包解析。</p></li>
<li><p>created_at使用13位long类型时间戳（包含毫秒时间），如果输入准确的时间戳，查询性能将会提升。例如:&quot;2019/10/18 10:26:22&quot;转换为时间戳为：1571365582123。也可以直接从contract_order下单接口返回的ts中获取时间戳查询对应的订单。</p></li>
<li><p>created_at禁止传0。</p></li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604888281225</span><span class="p">,</span><span class="w">
        </span><span class="s2">"canceled_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"opponent"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"exercise_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quote_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"premium_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fee_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">775303174474293248</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775303174474293248"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.89725</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.005</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_avg_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delivery_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20201225"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"trade_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">125344032</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.89725</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.005</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604888281258</span><span class="p">,</span><span class="w">
                </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"taker"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"125344032-775303174474293248-1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604890985365</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='b691cfe782-2'>返回数据</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true  <img width=250/></td>
<td>string</td>
<td>请求处理结果    <img width=1000/></td>
<td>&quot;ok&quot; , &quot;error&quot;</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量（张）</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>委托价格</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>canceled_at</td>
<td>true</td>
<td>long</td>
<td>撤单时间</td>
<td></td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价 &quot;opponent&quot;:对手价 &quot;post_only&quot;:只做maker单,post only下单只受用户持仓数量限制,optimal_5：最优5档、optimal_10：最优10档、optimal_20：最优20档，ioc：IOC订单，fok：FOK订单,&quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金（卖方）</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型，1:报单 、 2:撤单 、 4:交割</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>string格式的订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>long</td>
<td>客户订单ID</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交数量（张）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交总金额</td>
<td></td>
</tr>
<tr>
<td>fee</td>
<td>true</td>
<td>decimal</td>
<td>手续费</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>trade_avg_price</td>
<td>true</td>
<td>decimal</td>
<td>成交均价</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td>(3未成交 4部分成交 5部分成交已撤单 6全部成交 7已撤单)</td>
</tr>
<tr>
<td>delivery_date</td>
<td>true</td>
<td>string</td>
<td>到期日</td>
<td></td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>exercise_price</td>
<td>true</td>
<td>decimal</td>
<td>行权价</td>
<td></td>
</tr>
<tr>
<td>quote_asset</td>
<td>true</td>
<td>string</td>
<td>报价币种</td>
<td>如&quot;USDT&quot;</td>
</tr>
<tr>
<td>premium_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结权利金（买方）</td>
<td></td>
</tr>
<tr>
<td>fee_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结手续费</td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总共页数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页数</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;trades&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>全局唯一的交易标识。</td>
<td></td>
</tr>
<tr>
<td>trade_id</td>
<td>true</td>
<td>long</td>
<td>与option-api/v1/option_matchresults返回结果中的match_id一样，是撮合结果id， 非唯一，可重复，注意：一个撮合结果代表一个taker单和N个maker单的成交记录的集合，如果一个taker单吃了N个maker单，那这N笔trade都是一样的撮合结果id</td>
<td></td>
</tr>
<tr>
<td>trade_price</td>
<td>true</td>
<td>decimal</td>
<td>撮合价格</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交量</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交金额</td>
<td></td>
</tr>
<tr>
<td>trade_fee</td>
<td>true</td>
<td>decimal</td>
<td>成交手续费</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>role</td>
<td>true</td>
<td>string</td>
<td>taker或maker</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>&lt;/trades&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
</tbody></table>
<h2 id='7eeb4e6ac4'>获取用户的当前未成交委托</h2><h3 id='30fd4ed55b-18'>示例</h3>
<ul>
<li>POST <code>option-api/v1/option_openorders</code>  </li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"page_index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='1f9ac54b15-37'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>false</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>页码，不填默认第1页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>页长，不填默认20，不得多于50</td>
<td></td>
</tr>
<tr>
<td>sort_by</td>
<td>false</td>
<td>string</td>
<td>排序字段，不填默认按创建时间倒序</td>
<td>“created_at”(按照创建时间倒序)，“update_time”(按照更新时间倒序)</td>
</tr>
<tr>
<td>trade_type</td>
<td>false</td>
<td>int</td>
<td>交易类型，不填默认查询全部</td>
<td>0:全部,1:买入 开多,2: 卖出开空,3: 买入平空,4: 卖出平多。</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1204.79</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"post_only"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">775314891945996288</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775314891945996288"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">563829342342349</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891074887</span><span class="p">,</span><span class="w">
                </span><span class="s2">"update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891074887</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_avg_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"delivery_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20201225"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"exercise_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
                </span><span class="s2">"quote_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"premium_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.20479</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.005</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891079443</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-35'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true <img width=250/></td>
<td>string</td>
<td>请求处理结果    <img width=1000/></td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;orders&gt;</td>
<td>true</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量（张）</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>委托价格</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价 &quot;opponent&quot;:对手价 &quot;post_only&quot;:只做maker单,post only下单只受用户持仓数量限制,optimal_5：最优5档、optimal_10：最优10档、optimal_20：最优20档，ioc：IOC订单，fok：FOK订单,&quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型，1:报单 、 2:撤单 、4:交割</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
<td></td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>string格式的订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>long</td>
<td>客户订单ID</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>订单创建时间</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交数量（张）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交总金额</td>
<td></td>
</tr>
<tr>
<td>fee</td>
<td>true</td>
<td>decimal</td>
<td>手续费</td>
<td></td>
</tr>
<tr>
<td>trade_avg_price</td>
<td>true</td>
<td>decimal</td>
<td>成交均价</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金 （卖方）</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td>(3未成交 4部分成交 5部分成交已撤单 6全部成交 7已撤单)</td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td></td>
</tr>
<tr>
<td>delivery_date</td>
<td>true</td>
<td>string</td>
<td>到期日</td>
<td>如&quot;20200508&quot;</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>exercise_price</td>
<td>true</td>
<td>decimal</td>
<td>行权价</td>
<td></td>
</tr>
<tr>
<td>quote_asset</td>
<td>true</td>
<td>string</td>
<td>报价币种</td>
<td>如&quot;USDT&quot;</td>
</tr>
<tr>
<td>premium_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结权利金（买方）</td>
<td></td>
</tr>
<tr>
<td>fee_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结手续费</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>update_time</td>
<td>true</td>
<td>Long</td>
<td>订单更新时间，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;/orders&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
</tbody></table>
<h2 id='ee3bf6d276'>获取用户的历史委托</h2><h3 id='30fd4ed55b-19'>示例</h3>
<ul>
<li>POST <code>option-api/v1/option_hisorders</code> </li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"create_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-38'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>trade_type</td>
<td>true</td>
<td>int</td>
<td>交易类型</td>
<td>0:全部,1:买入开多,2: 卖出开空,3: 买入平空,4: 卖出平多,7:交割平多,8: 交割平空</td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>int</td>
<td>类型</td>
<td>1:所有订单,2:结束状态的订单</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td>0:全部,3:未成交, 4: 部分成交,5: 部分成交已撤单,6: 全部成交,7:已撤单</td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>int</td>
<td>日期</td>
<td>可随意输入正整数，如果参数超过90则默认查询90天的数据</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>页码，不填默认第1页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>每页条数，不填默认20</td>
<td>不得多于50</td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
<tr>
<td>sort_by</td>
<td>false</td>
<td>string</td>
<td>排序字段（降序），不填默认按照create_date降序</td>
<td>&quot;create_date&quot;：按订单创建时间进行降序，&quot;update_time&quot;：按订单更新时间进行降序</td>
</tr>
</tbody></table>
<h3 id='9852b06629-13'>备注：</h3>
<ul>
<li>所有已撤销且无成交的API限价订单记录只保留24小时。</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">775314891945996288</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775314891945996288"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1204.79</span><span class="p">,</span><span class="w">
                </span><span class="s2">"create_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891074887</span><span class="p">,</span><span class="w">
                </span><span class="s2">"update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891074887</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"post_only"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_avg_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="s2">"delivery_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20201225"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"exercise_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
                </span><span class="s2">"quote_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891148311</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-36'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status  <img width=250/></td>
<td>true <img width=250/></td>
<td>string <img width=250/></td>
<td>请求处理结果 <img width=1000/></td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;orders&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>string格式的订单ID</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量(张)</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>委托价格</td>
<td></td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>update_time</td>
<td>true</td>
<td>long</td>
<td>订单更新时间，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价 &quot;opponent&quot;:对手价 &quot;post_only&quot;:只做maker单,post only下单只受用户持仓数量限制,optimal_5：最优5档、optimal_10：最优10档、optimal_20：最优20档，ioc:IOC订单，fok：FOK订单, &quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交数量（张）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交总金额</td>
<td></td>
</tr>
<tr>
<td>fee</td>
<td>true</td>
<td>decimal</td>
<td>手续费</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>trade_avg_price</td>
<td>true</td>
<td>decimal</td>
<td>成交均价</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型</td>
<td>1:报单 、 2:撤单 、4:交割</td>
</tr>
<tr>
<td>delivery_date</td>
<td>true</td>
<td>string</td>
<td>到期日</td>
<td>如&quot;20200508&quot;</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>exercise_price</td>
<td>true</td>
<td>decimal</td>
<td>行权价</td>
<td></td>
</tr>
<tr>
<td>quote_asset</td>
<td>true</td>
<td>string</td>
<td>报价币种</td>
<td>如&quot;USDT&quot;</td>
</tr>
<tr>
<td>&lt;/orders&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
</tbody></table>
<h4 id='e0361480e3-14'>备注</h4>
<ul>
<li>order_id返回是18位，nodejs和javascript默认解析18有问题，nodejs和javascript里面JSON.parse默认是int，超过18位的数字用json-bigint的包解析。</li>
</ul>
<h2 id='cc32b5f290'>获取用户的历史成交记录</h2><h3 id='69fffaf196-2'>实例</h3>
<ul>
<li>POST <code>option-api/v1/option_matchresults</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"create_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-39'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;，如果缺省，默认返回所有品种</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>trade_type</td>
<td>true</td>
<td>int</td>
<td>交易类型</td>
<td>0:全部,1:买入开多,2: 卖出开空,3: 买入平空,4: 卖出平多</td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>int</td>
<td>日期</td>
<td>可随意输入正整数，如果参数超过90则默认查询90天的数据</td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>页码，不填默认第1页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"match_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">125344032</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">775303174474293248</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775303174474293248"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.89725</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.005</span><span class="p">,</span><span class="w">
                </span><span class="s2">"offset_profitloss"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"create_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604888281258</span><span class="p">,</span><span class="w">
                </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Taker"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"125344032-775303174474293248-1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"quote_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"delivery_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20201225"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"exercise_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891293936</span><span class="w">
</span><span class="p">}</span><span class="w">                                   
</span></code></pre><h3 id='70bdef7e25-37'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true  <img width=200/></td>
<td>string  <img width=200/></td>
<td>请求处理结果</td>
<td><img width=1000/></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;trades&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>全局唯一的交易标识</td>
<td></td>
</tr>
<tr>
<td>match_id</td>
<td>true</td>
<td>long</td>
<td>撮合结果id, 与订单ws推送orders.$symbol-$partition推送结果中的trade_id是相同的，非唯一，可重复，注意：一个撮合结果代表一个taker单和N个maker单的成交记录的集合，如果一个taker单吃了N个maker单，那这N笔trade都是一样的撮合结果id</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>string格式的订单ID</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交数量（张）</td>
<td></td>
</tr>
<tr>
<td>trade_price</td>
<td>true</td>
<td>decimal</td>
<td>成交价格</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交金额</td>
<td></td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>long</td>
<td>成交时间</td>
<td></td>
</tr>
<tr>
<td>offset_profitloss</td>
<td>true</td>
<td>decimal</td>
<td>平仓盈亏</td>
<td></td>
</tr>
<tr>
<td>trade_fee</td>
<td>true</td>
<td>decimal</td>
<td>成交手续费</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>role</td>
<td>true</td>
<td>string</td>
<td>成交类型</td>
<td>&quot;taker&quot;：吃单；&quot;maker&quot;：挂单；&quot;Otm delivery records&quot;：虚值行权；&quot;Itm delivery records&quot;：实值行权</td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td></td>
</tr>
<tr>
<td>delivery_date</td>
<td>true</td>
<td>string</td>
<td>到期日</td>
<td>如&quot;20200508&quot;</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>exercise_price</td>
<td>true</td>
<td>decimal</td>
<td>行权价</td>
<td></td>
</tr>
<tr>
<td>quote_asset</td>
<td>true</td>
<td>string</td>
<td>报价币种</td>
<td>如&quot;USDT&quot;</td>
</tr>
<tr>
<td>&lt;/trades&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>时间戳</td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-15'>备注</h3>
<ul>
<li>order_id返回是18位，nodejs和javascript默认解析18有问题，nodejs和javascript里面JSON.parse默认是int，超过18位的数字用json-bigint的包解析。</li>
</ul>
<h2 id='669c2a2e3d'>闪电平仓下单</h2>
<ul>
<li>POST <code>option-api/v1/option_lightning_close_position</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-40'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>long</td>
<td>委托数量（张）</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>“buy”:买，“sell”:卖</td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>long</td>
<td>（API）客户自己填写和维护，必须保持唯一</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>false</td>
<td>string</td>
<td>订单报价类型</td>
<td>不填，默认为&quot;闪电平仓&quot;，&quot;lightning&quot;:闪电平仓，&quot;lightning_ioc&quot;: 闪电平仓-IOC下单，&quot;lightning_fok&quot;：闪电平仓-FOK下单</td>
</tr>
</tbody></table>
<h3 id='e0361480e3-16'>备注</h3>
<ul>
<li><p>闪电平仓，是指在对手价平仓的基础上，实行&#39;最优30档&#39;成交，即用户发出的平仓订单能够迅速以30档范围内对手方价格进行成交，未成交部分自动转为限价委托单。</p></li>
<li><p>client_order_id，24小时有效，超过24小时的订单根据client_order_id将查询不到。</p></li>
<li><p>闪电平仓的平仓价格具备可预期的效果，避免在行情急涨急跌时订单无法成交时造成用户损失。</p></li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1590024939929</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"order_id"</span><span class="p">:</span><span class="mi">663049584884322304</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="s2">"663049584884322304"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-38'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; :成功, &quot;error&quot;：失败</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID[用户级别的，不同的用户order_id可能相同]</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>String类型订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>false</td>
<td>int</td>
<td>用户自己的订单id</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>错误信息：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1048</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Insufficient close amount available."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891439021</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='03b4e6fa59'>计划委托下单</h2>
<ul>
<li>POST <code>option-api/v1/option_trigger_order</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trigger_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"le"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7900"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7900"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"close"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-41'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
<tr>
<td>trigger_type</td>
<td>true</td>
<td>string</td>
<td>触发类型： ge大于等于(触发价比最新价大)；le小于(触发价比最新价小)</td>
<td></td>
</tr>
<tr>
<td>trigger_price</td>
<td>true</td>
<td>decimal</td>
<td>触发价，精度超过最小变动单位会报错</td>
<td></td>
</tr>
<tr>
<td>order_price</td>
<td>false</td>
<td>decimal</td>
<td>委托价，精度超过最小变动单位会报错</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>false</td>
<td>string</td>
<td>委托类型： 不填默认为limit;</td>
<td>限价：limit ，最优5档：optimal_5，最优10档：optimal_10，最优20档：optimal_20</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>long</td>
<td>委托数量(张)</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>buy:买 sell:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>open:开 close:平</td>
</tr>
</tbody></table>
<h3 id='9852b06629-14'>备注：</h3>
<ul>
<li>optimal_5：最优5档、optimal_10：最优10档、optimal_20：最优20档下单order_price价格参数不用传，&quot;limit&quot;:限价需要传价格。</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">775316559685038080</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775316559685038080"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891472516</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>错误信息：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1014</span><span class="p">,</span><span class="w">
    </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This contract doesn't exist."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891496965</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-39'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; :成功, &quot;error&quot;：失败</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td>字典</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID[用户级别的，不同的用户order_id可能相同]</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>String类型订单ID</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='2857693297'>计划委托撤单</h2>
<ul>
<li>POST <code>option-api/v1/option_trigger_cancel</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"161251,161256,1344567"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-42'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot; ...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>string</td>
<td>用户订单ID（多个订单ID中间以&quot;,&quot;分隔,一次最多允许撤消20个订单 ）</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775316816045150201"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"err_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1061</span><span class="p">,</span><span class="w">
                </span><span class="s2">"err_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This order doesn't exist."</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"successes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775316816045150208"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891550756</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-40'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; :成功, &quot;error&quot;：失败</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;errors&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td>字典</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>string</td>
<td>订单ID[用户级别的，不同的用户order_id可能相同]</td>
<td></td>
</tr>
<tr>
<td>err_code</td>
<td>false</td>
<td>long</td>
<td>错误码</td>
<td></td>
</tr>
<tr>
<td>err_msg</td>
<td>false</td>
<td>string</td>
<td>错误信息</td>
<td></td>
</tr>
<tr>
<td>&lt;/errors&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>successes</td>
<td>true</td>
<td>string</td>
<td>成功的订单</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='362fe20088'>计划委托全部撤单</h2>
<ul>
<li>POST <code>option-api/v1/option_trigger_cancelall</code></li>
</ul>
<h3 id='1f9ac54b15-43'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;，不填默认”USDT“</td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>false</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>direction</td>
<td>false</td>
<td>string</td>
<td>买卖方向（不填默认全部）</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>false</td>
<td>string</td>
<td>开平方向（不填默认全部）</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
</tbody></table>
<h3 id='e0361480e3-17'>备注</h3>
<ul>
<li>只要有contract_code，则撤销该code的合约</li>
<li>direction与offset可只填其一，只填其一则按对应的条件去撤单。（如用户只传了direction=buy，则撤销所有买单，包括开仓和平仓）</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"successes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775316559685038080"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891729726</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-41'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; :成功, &quot;error&quot;：失败</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td>字典</td>
</tr>
<tr>
<td>&lt;errors&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td>字典</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>string</td>
<td>订单ID[用户级别的，不同的用户order_id可能相同]</td>
<td></td>
</tr>
<tr>
<td>err-code</td>
<td>false</td>
<td>long</td>
<td>错误码</td>
<td></td>
</tr>
<tr>
<td>err-msg</td>
<td>false</td>
<td>string</td>
<td>错误信息</td>
<td></td>
</tr>
<tr>
<td>&lt;/errors&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>successes</td>
<td>true</td>
<td>string</td>
<td>成功的订单</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='b5280a27b3'>获取计划委托当前委托</h2>
<ul>
<li>POST <code>option-api/v1/option_trigger_openorders</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"page_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-44'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>第几页，不填默认第一页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td></td>
</tr>
<tr>
<td>trade_type</td>
<td>false</td>
<td>int</td>
<td>交易类型，不填默认查询全部</td>
<td>0:全部,1:买入 开多,2: 卖出开空,3: 买入平空,4: 卖出平多。</td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trigger_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"le"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">775317966815424512</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775317966815424512"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891807992</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891813788</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-42'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; :成功, &quot;error&quot;：失败</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td>字典</td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>&lt;orders&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>trigger_type</td>
<td>true</td>
<td>string</td>
<td>触发类型： ge大于等于；le小于等于</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量(张)</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型：1、报单 2、撤单</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>买：&quot;buy&quot;,卖：&quot;sell&quot;</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>开：&quot;open&quot;,平：&quot;close&quot;</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>计划委托单订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>字符串类型的订单ID</td>
<td></td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>来源</td>
<td></td>
</tr>
<tr>
<td>trigger_price</td>
<td>true</td>
<td>decimal</td>
<td>触发价</td>
<td></td>
</tr>
<tr>
<td>order_price</td>
<td>true</td>
<td>decimal</td>
<td>委托价</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>订单创建时间</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态：</td>
<td>1:准备提交、2:已提交、3:报单中、8：撤单未找到、9：撤单中、10：失败&#39;</td>
</tr>
<tr>
<td>&lt;/orders&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h2 id='37aeb9f3bd'>获取计划委托历史委托</h2>
<ul>
<li>POST <code>option-api/v1/option_trigger_hisorders</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trade_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"create_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-45'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>false</td>
<td>string</td>
<td>交易分区，不填默认”USDT“</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>false</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>trade_type</td>
<td>true</td>
<td>int</td>
<td>交易类型</td>
<td>0:全部,1:买入开多,2: 卖出开空,3: 买入平空,4: 卖出平多；后台是根据该值转换为offset和direction，然后去查询的； 其他值无法查询出结果</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>订单状态</td>
<td>多个以英文逗号隔开，计划委托单状态：0:全部（表示全部结束状态的订单）、4:已委托、5:委托失败、6:已撤单</td>
</tr>
<tr>
<td>create_date</td>
<td>true</td>
<td>long</td>
<td>日期</td>
<td>可随意输入正整数，如果参数超过90则默认查询90天的数据</td>
</tr>
<tr>
<td>page_index</td>
<td>false</td>
<td>int</td>
<td>第几页，不填默认第一页</td>
<td></td>
</tr>
<tr>
<td>page_size</td>
<td>false</td>
<td>int</td>
<td>不填默认20，不得多于50</td>
<td></td>
</tr>
<tr>
<td>sort_by</td>
<td>false</td>
<td>string</td>
<td>排序字段（降序），不填默认按照created_at降序</td>
<td>&quot;created_at&quot;：按订单创建时间进行降序，&quot;update_time&quot;：按订单更新时间进行降序</td>
</tr>
</tbody></table>
<h4 id='9852b06629-15'>备注：</h4>
<ul>
<li>默认查询 已完成订单（type对应状态范围 4、5、6）；</li>
</ul>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trigger_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"le"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">775316816045150208</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"775316816045150208"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"relation_order_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                </span><span class="s2">"triggered_price"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891533629</span><span class="p">,</span><span class="w">
                </span><span class="s2">"update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891533629</span><span class="p">,</span><span class="w">
                </span><span class="s2">"triggered_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"order_insert_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"canceled_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891551047</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fail_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fail_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"total_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604891892449</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-43'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>请求处理结果</td>
<td>&quot;ok&quot; :成功, &quot;error&quot;：失败</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td>字典</td>
</tr>
<tr>
<td>total_page</td>
<td>true</td>
<td>int</td>
<td>总页数</td>
<td></td>
</tr>
<tr>
<td>current_page</td>
<td>true</td>
<td>int</td>
<td>当前页</td>
<td></td>
</tr>
<tr>
<td>total_size</td>
<td>true</td>
<td>int</td>
<td>总条数</td>
<td></td>
</tr>
<tr>
<td>&lt;orders&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot;</td>
</tr>
<tr>
<td>trigger_type</td>
<td>true</td>
<td>string</td>
<td>触发类型</td>
<td>ge大于等于；le小于等于;</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量(张)</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型</td>
<td>1、报单 2、撤单</td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>买：&quot;buy&quot;,卖：&quot;sell&quot;</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>开：&quot;open&quot;,平：&quot;close&quot;</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>decimal</td>
<td>计划委托单订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>字符串类型的订单ID</td>
<td></td>
</tr>
<tr>
<td>relation_order_id</td>
<td>true</td>
<td>string</td>
<td>该字段为关联限价单的关联字段，未触发前数值为-1</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td>4:报单成功、5:报单失败、6:已撤单</td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>来源</td>
<td></td>
</tr>
<tr>
<td>trigger_price</td>
<td>true</td>
<td>decimal</td>
<td>触发价</td>
<td></td>
</tr>
<tr>
<td>triggered_price</td>
<td>true</td>
<td>decimal</td>
<td>被触发时的价格</td>
<td></td>
</tr>
<tr>
<td>order_price</td>
<td>true</td>
<td>decimal</td>
<td>委托价</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>订单创建时间</td>
<td></td>
</tr>
<tr>
<td>update_time</td>
<td>true</td>
<td>long</td>
<td>订单更新时间，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>triggered_at</td>
<td>true</td>
<td>long</td>
<td>触发时间</td>
<td></td>
</tr>
<tr>
<td>order_insert_at</td>
<td>true</td>
<td>long</td>
<td>下order单时间</td>
<td></td>
</tr>
<tr>
<td>canceled_at</td>
<td>true</td>
<td>long</td>
<td>撤单时间</td>
<td></td>
</tr>
<tr>
<td>fail_code</td>
<td>true</td>
<td>int</td>
<td>被触发时下order单失败错误码</td>
<td></td>
</tr>
<tr>
<td>fail_reason</td>
<td>true</td>
<td>string</td>
<td>被触发时下order单失败原因</td>
<td></td>
</tr>
<tr>
<td>&lt;/orders&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h1 id='7b425c9845'>现货-期权合约划转接口</h1><h2 id='6e82128d5d'>现货-期权合约账户间进行资金的划转</h2><h3 id='69fffaf196-3'>实例</h3>
<ul>
<li>POST <code>https://api.huobi.pro/v2/account/transfer</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"spot"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"option"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tradePartition"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='e0361480e3-18'>备注</h3>
<p>此接口用户币币现货账户与期权合约账户之间的资金划转。 这是broker提供的接口，不受合约控制和维护</p>

<p>该接口的访问频次的限制为1秒/1次。</p>

<p>注意：请求地址为火币Global地址</p>

<p>现货与期权合约划转接口，所有划转的币的精度是8位小数。</p>
<h3 id='1f9ac54b15-46'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>true</td>
<td>string</td>
<td>来源业务线账户，取值：spot(币币)、option(期权)</td>
<td>e.g. spot</td>
</tr>
<tr>
<td>to</td>
<td>true</td>
<td>string</td>
<td>目标业务线账户，取值：spot(币币)、option(期权)</td>
<td>e.g. option</td>
</tr>
<tr>
<td>tradePartition</td>
<td>true</td>
<td>string</td>
<td>交易区（目前只有USDT区）</td>
<td>e.g. usdt</td>
</tr>
<tr>
<td>currency</td>
<td>true</td>
<td>string</td>
<td>币种,支持大小写</td>
<td>e.g. btc</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>Decimal</td>
<td>划转金额</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
 </span><span class="err">正确的返回：</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="mi">182408686</span><span class="p">,</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Succeed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

    </span><span class="err">错误的返回：</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1301</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Insufficient amount available."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='70bdef7e25-44'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>true</td>
<td>long</td>
<td>响应码</td>
<td></td>
</tr>
<tr>
<td>success</td>
<td>true</td>
<td>boolean</td>
<td>状态</td>
<td>true/false</td>
</tr>
<tr>
<td>message</td>
<td>true</td>
<td>string</td>
<td>响应消息</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>true</td>
<td>string</td>
<td>错误码</td>
<td>划转流水ID</td>
</tr>
</tbody></table>
<h2 id='86f9c9c3d1'>响应码列表</h2>
<table><thead>
<tr>
<th>响应码</th>
<th>中文说明</th>
<th>英文说明</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>成功</td>
<td>Succeed</td>
</tr>
<tr>
<td>403</td>
<td>拒绝访问</td>
<td>Access denied</td>
</tr>
<tr>
<td>404</td>
<td>访问的资源不存在</td>
<td>The resource being accessed does not exist</td>
</tr>
<tr>
<td>429</td>
<td>太多的请求</td>
<td>too many requests</td>
</tr>
<tr>
<td>500</td>
<td>系统错误</td>
<td>System error</td>
</tr>
<tr>
<td>501</td>
<td>无效请求</td>
<td>Invalid request</td>
</tr>
<tr>
<td>502</td>
<td>无效参数</td>
<td>Invalid parameter</td>
</tr>
<tr>
<td>504</td>
<td>缺少参数</td>
<td>Lack of parameter</td>
</tr>
<tr>
<td>512</td>
<td>拒绝匿名请求</td>
<td>Reject anonymous requests</td>
</tr>
<tr>
<td>513</td>
<td>无效的签名</td>
<td>Invalid signature</td>
</tr>
<tr>
<td>10000</td>
<td>币种不存在</td>
<td>Currency does not exist</td>
</tr>
<tr>
<td>10001</td>
<td>不支持同业务划转</td>
<td>Does not support  transfer within single business</td>
</tr>
<tr>
<td>10002</td>
<td>不支持此划转业务</td>
<td>This transfer is not supported</td>
</tr>
<tr>
<td>10003</td>
<td>from方check校验不通过</td>
<td>check rejected by the from party</td>
</tr>
<tr>
<td>10004</td>
<td>to方check校验不通过</td>
<td>to check rejected by the to party</td>
</tr>
<tr>
<td>10005</td>
<td>个人账户平账检查不通过</td>
<td>Personal account balance check failed</td>
</tr>
<tr>
<td>10006</td>
<td>系统账户检查失败</td>
<td>System account check failed</td>
</tr>
<tr>
<td>10008</td>
<td>黑名单校验不通过</td>
<td>Blacklist check failed</td>
</tr>
<tr>
<td>10009</td>
<td>用户有未安全上账资产，禁止划转</td>
<td>No transfer is allowed if the user has any asset that has not been charged to the account safely</td>
</tr>
<tr>
<td>10010</td>
<td>用户被锁定</td>
<td>User locked</td>
</tr>
<tr>
<td>10011</td>
<td>24小时内修改过安全策略</td>
<td>Security policy has been modified within 24 hours</td>
</tr>
<tr>
<td>20001</td>
<td>OTC 人脸识别</td>
<td>OTC Face Recognition</td>
</tr>
<tr>
<td>1030</td>
<td>服务异常，请稍后再试</td>
<td>Abnormal service. Please try again later.</td>
</tr>
<tr>
<td>1010</td>
<td>用户不存在</td>
<td>Abnormal service. Please try again later.</td>
</tr>
<tr>
<td>1012</td>
<td>账户不存在</td>
<td>Abnormal service. Please contact customer service.</td>
</tr>
<tr>
<td>1013</td>
<td>合约品种不存在</td>
<td>This contract type doesn&#39;t exist.</td>
</tr>
<tr>
<td>1018</td>
<td>主账号不存在</td>
<td>Main account doesn&#39;t exist.</td>
</tr>
<tr>
<td>1089</td>
<td>{0}合约暂时限制划转,请联系客服</td>
<td>{0} contract is restricted of transfer.  Please contact customer service.</td>
</tr>
<tr>
<td>1102</td>
<td>您没有转入权限,请联系客服</td>
<td>Unable to transfer in currently. Please contact customer service.</td>
</tr>
<tr>
<td>1103</td>
<td>您没有转出权限,请联系客服</td>
<td>Unable to transfer out currently. Please contact customer service.</td>
</tr>
<tr>
<td>1106</td>
<td>合约状态异常,暂时无法划转</td>
<td>Abnormal contracts status. Can’t transfer.</td>
</tr>
<tr>
<td>1111</td>
<td>子账号没有转入权限,请联系客服</td>
<td>Sub-account doesn&#39;t own the permissions to transfer in. Please contact customer service.</td>
</tr>
<tr>
<td>1112</td>
<td>子账号没有转出权限,请联系客服</td>
<td>sub-account doesn&#39;t own the permissions to transfer out. Please contact customer service.</td>
</tr>
<tr>
<td>1114</td>
<td>子账号没有划转权限,请登录主账号授权</td>
<td>The sub-account does not have transfer permissions. Please login main account to authorize.</td>
</tr>
<tr>
<td>1300</td>
<td>划转失败</td>
<td>Transfer failed.</td>
</tr>
<tr>
<td>1301</td>
<td>可划转余额不足</td>
<td>Insufficient amount available.</td>
</tr>
<tr>
<td>1302</td>
<td>系统划转错误</td>
<td>Transfer failed.</td>
</tr>
<tr>
<td>1303</td>
<td>单笔转出的数量不能低于{0}{1}</td>
<td>The single transfer-out amount must be no less than {0}{1}.</td>
</tr>
<tr>
<td>1304</td>
<td>单笔转出的数量不能高于{0}{1}</td>
<td>The single transfer-out amount must be no more than {0}{1}.</td>
</tr>
<tr>
<td>1305</td>
<td>单笔转入的数量不能低于{0}{1}</td>
<td>The single transfer-in amount must be no less than {0}{1}.</td>
</tr>
<tr>
<td>1306</td>
<td>单笔转入的数量不能高于{0}{1}</td>
<td>The single transfer-in amount must be no more than {0}{1}.</td>
</tr>
<tr>
<td>1307</td>
<td>您当日累计转出量超过{0}{1}, 暂无法转出</td>
<td>Your accumulative transfer-out amount is over the daily maximum, {0}{1}. You can&#39;t transfer out for the time being.</td>
</tr>
<tr>
<td>1308</td>
<td>您当日累计转入量超过{0}{1}, 暂无法转入</td>
<td>Your accumulative transfer-in amount is over the daily maximum, {0}{1}. You can&#39;t transfer in for the time being.</td>
</tr>
<tr>
<td>1309</td>
<td>您当日累计净转出量超过{0}{1}, 暂无法转出</td>
<td>Your accumulative net transfer-out amount is over the daily maximum, {0}{1}. You can&#39;t transfer out for the time being.</td>
</tr>
<tr>
<td>1310</td>
<td>您当日累计净转入量超过{0}{1}, 暂无法转入</td>
<td>Your accumulative net transfer-in amount is over the daily maximum, {0}{1}. You can&#39;t transfer in for the time being.</td>
</tr>
<tr>
<td>1311</td>
<td>超过平台当日累计最大转出量限制, 暂无法转出</td>
<td>The platform&#39;s accumulative transfer-out amount is over the daily maximum. You can&#39;t transfer out for the time being.</td>
</tr>
<tr>
<td>1312</td>
<td>超过平台当日累计最大转入量限制, 暂无法转入</td>
<td>The platform&#39;s accumulative transfer-in amount is over the daily maximum. You can&#39;t transfer in for the time being.</td>
</tr>
<tr>
<td>1313</td>
<td>超过平台当日累计最大净转出量限制, 暂无法转出</td>
<td>The platform&#39;s accumulative net transfer-out amount is over the daily maximum. You can&#39;t transfer out for the time being.</td>
</tr>
<tr>
<td>1314</td>
<td>超过平台当日累计最大净转入量限制, 暂无法转入</td>
<td>The platform&#39;s accumulative net transfer-in amount is over the daily maximum. You can&#39;t transfer in for the time being.</td>
</tr>
<tr>
<td>1315</td>
<td>划转类型错误</td>
<td>Wrong transfer type.</td>
</tr>
<tr>
<td>1316</td>
<td>划转冻结失败</td>
<td>Failed to freeze the transfer.</td>
</tr>
<tr>
<td>1317</td>
<td>划转解冻失败</td>
<td>Failed to unfreeze the transfer.</td>
</tr>
<tr>
<td>1318</td>
<td>划转确认失败</td>
<td>Failed to confirm the transfer.</td>
</tr>
<tr>
<td>1319</td>
<td>查询可划转金额失败</td>
<td>Failed to acquire the available transfer amount.</td>
</tr>
<tr>
<td>1320</td>
<td>此合约在非交易状态中, 无法进行系统划</td>
<td>The contract status is abnormal. Transfer is unavailable temporarily.</td>
</tr>
<tr>
<td>1321</td>
<td>划转失败, 请稍后重试或联系客服</td>
<td>Transfer failed. Please try again later or contact customer service.</td>
</tr>
<tr>
<td>1322</td>
<td>划转金额必须大于0</td>
<td>Invalid amount. Must be more than 0.</td>
</tr>
<tr>
<td>1323</td>
<td>服务异常, 划转失败, 请稍后再试</td>
<td>Abnormal service, transfer failed. Please try again later.</td>
</tr>
<tr>
<td>1327</td>
<td>无划转权限, 划转失败, 请联系客服</td>
<td>No transfer permission, transfer failed, please contact customer service.</td>
</tr>
<tr>
<td>1328</td>
<td>无划转权限, 划转失败, 请联系客服</td>
<td>No transfer permission, transfer failed, please contact customer service.</td>
</tr>
<tr>
<td>1329</td>
<td>无划转权限, 划转失败, 请联系客服</td>
<td>No transfer permission, transfer failed, please contact customer service.</td>
</tr>
<tr>
<td>1330</td>
<td>无划转权限, 划转失败, 请联系客服</td>
<td>No transfer permission, transfer failed, please contact customer service.</td>
</tr>
<tr>
<td>1331</td>
<td>超出划转精度限制(8位), 请修改后操作</td>
<td>Exceeds limit of transfer accuracy (8 digits). Please modify it.</td>
</tr>
</tbody></table>
<h1 id='websocket'>合约Websocket简介</h1><h2 id='14f70b1746-2'>接口列表</h2>
<table><thead>
<tr>
<th>权限类型</th>
<th>接口数据类型</th>
<th>接口</th>
<th>请求方式</th>
<th>接口描述</th>
<th>需要验签</th>
</tr>
</thead><tbody>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.kline.$period</td>
<td>sub</td>
<td>订阅 KLine 数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.kline.$period</td>
<td>req</td>
<td>请求 KLine 数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.depth.$type</td>
<td>sub</td>
<td>订阅 Market Depth 数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.depth.size_${size}.high_freq</td>
<td>sub</td>
<td>订阅 Market Depth增量推送数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.detail</td>
<td>sub</td>
<td>订阅 Market detail 数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.trade.detail</td>
<td>req</td>
<td>请求 Trade detail 数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>市场行情接口</td>
<td>market.$contract_code.trade.detail</td>
<td>sub</td>
<td>订阅 Trade Detail 数据</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>系统状态接口</td>
<td>public.$service.heartbeat</td>
<td>sub</td>
<td>订阅系统状态更新</td>
<td>否</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>orders.$symbol-$partition</td>
<td>sub</td>
<td>订阅订单成交数据</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>资产接口</td>
<td>accounts.$symbol-$partition</td>
<td>sub</td>
<td>订阅资产变动数据</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>资产接口</td>
<td>positions.$symbol-$partition</td>
<td>sub</td>
<td>订阅持仓变动更新数据</td>
<td>是</td>
</tr>
<tr>
<td>读取</td>
<td>交易接口</td>
<td>matchOrders.$symbol-$partition</td>
<td>sub</td>
<td>订阅撮合订单成交数据</td>
<td>是</td>
</tr>
</tbody></table>
<h2 id='af44fd2dcc'>合约订阅地址</h2><h4 id='9852b06629-16'>备注：</h4>
<p>合约站行情请求以及订阅地址为：wss://api.hbdm.com/option-ws</p>

<p>合约站订单推送订阅地址：wss://api.hbdm.com/option-notification</p>

<p>合约站系统状态更新订阅地址：wss://api.hbdm.com/center-notification</p>

<p>如果api.hbdm.com域名访问不了，可使用：</p>

<p>合约站行情请求以及订阅地址为：wss://api.btcgateway.pro/option-ws</p>

<p>合约站订单推送订阅地址：wss://api.btcgateway.pro/option-notification</p>

<p>合约站系统状态更新订阅地址：wss://api.btcgateway.pro/center-notification</p>

<p>如果对合约订单推送订阅有疑问，可以参考<a href='https://docs.huobigroup.com/docs/option/v1/cn/#2cff7db524'> Demo </a></p>
<h3 id='e0361480e3-19'>备注</h3>
<p>如果api.hbdm.com无法访问，可以使用api.btcgateway.pro来做调试，AWS服务器用户推荐使用api.hbdm.vn；</p>
<h2 id='4977e9e52a-2'>访问次数限制</h2>
<p>公开行情接口和用户私有接口都有访问次数限制</p>

<ul>
<li><p>普通用户，需要密钥的私有接口，每个UID 3秒最多 48 次请求(交易接口3秒最多 24 次请求，查询接口3秒最多 24 次请求) (该UID的所有币种和不同到期日的合约的所有私有接口共享该限制) </p></li>
<li><p>其他非行情类的公开接口，比如获取指数信息，限价信息，交割结算、平台持仓信息等，所有用户都是每个IP3秒最多60次请求（所有该IP的非行情类的公开接口请求共享3秒60次的额度）</p></li>
<li><p>行情类的公开接口，比如：获取K线数据、获取聚合行情、市场行情、获取市场最近成交记录：</p>

<p>（1） restful接口：同一个IP, 所有业务（交割合约、币本位永续合约、期权合约和USDT本位永续合约）总共1秒最多800个请求</p>

<p>（2） websocket：req请求，同一时刻最多请求50次；sub请求，无限制，服务器主动推送数据</p></li>
<li><p>WebSocket私有订单成交推送接口(需要API KEY验签)</p>

<p>一个UID最多同时建立30个私有订单推送WS链接。该用户在一个品种(包含该品种的所有周期的合约)上，仅需要维持一个订单推送WS链接即可。</p>

<p>注意: 订单推送WS的限频，跟用户RESTFUL私有接口的限频是分开的，相互不影响。</p></li>
<li><p>websocket 1秒同时最多发40个sub请求。</p></li>
</ul>

<p>api接口response中的header返回以下字段</p>

<ul>
<li><p>ratelimit-limit： 单轮请求数上限，单位：次数</p></li>
<li><p>ratelimit-interval：请求数重置的时间间隔，单位：毫秒</p></li>
<li><p>ratelimit-remaining：本轮剩余可用请求数，单位：次数</p></li>
<li><p>ratelimit-reset：请求数上限重置时间，单位：毫秒 </p></li>
</ul>
<h1 id='websocket-2'>WebSocket心跳以及鉴权接口</h1><h2 id='472585d15d'>市场行情心跳</h2>
<ul>
<li>WebSocket Server 发送心跳：</li>
</ul>

<p><code>{&quot;ping&quot;: 18212558000}</code></p>

<ul>
<li>WebSocket Client 应该返回：</li>
</ul>

<p><code>{&quot;pong&quot;: 18212558000}</code></p>

<p>注：WebSocket Client 和 WebSocket Server 建立连接之后，WebSocket Server 每隔 <code>5s</code>（这个频率可能会变化） 会向 WebSocket Client 发起一次心跳，WebSocket Client 忽略心跳5次后，WebSocket Server 将会主动断开连接；WebSocket Client发送最近2次心跳message中的其中一个<code>ping</code>的值，WebSocket Server都会保持WebSocket连接。</p>
<h2 id='fdaa613443'>订单推送心跳</h2>
<ul>
<li>WebSocket API 支持单向心跳，Server 发起 ping message，Client 返回 pong message。 WebSocket Server 发送心跳:</li>
</ul>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;ping&quot;,</code></p>

<p><code>&quot;ts&quot;: &quot;1492420473058&quot;</code></p>

<p><code>}</code></p>

<ul>
<li>WebSocket Client 应该返回:</li>
</ul>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;pong&quot;</code></p>

<p><code>&quot;ts&quot;: &quot;1492420473058&quot;</code></p>

<p><code>}</code></p>
<h3 id='9852b06629-17'>备注：</h3>
<ul>
<li><p>&quot;pong&quot;操作返回数据里面的&quot;ts&quot;的值为&quot;ping&quot;推送收到的&quot;ts&quot;值</p></li>
<li><p>WebSocket Client 和 WebSocket Server 建⽴立连接之后，WebSocket Server 每隔 5s(这个频率可能会变化) 会向 WebSocket Client 发起⼀一次⼼心跳，WebSocket Client 忽略心跳 5 次后，WebSocket Server 将会主动断开连接。</p></li>
<li><p>异常情况WebSocket Server 会返回错误信息，比如：</p></li>
</ul>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;pong&quot;</code></p>

<p><code>&quot;ts&quot;: &quot;1492420473027&quot;,</code></p>

<p><code>&quot;err-code&quot;: 2011</code></p>

<p><code>&quot;err-msg&quot;: “详细出错信息”</code></p>

<p><code>}</code></p>
<h2 id='449fab721e'>订单推送访问地址</h2>
<ul>
<li>统一服务地址</li>
</ul>

<p>合约站订单推送订阅地址：wss://api.hbdm.com/option-notification</p>
<h3 id='e0361480e3-20'>备注</h3>
<p>如果api.hbdm.com无法访问，可以使用api.btcgateway.pro来做调试，AWS服务器用户推荐使用api.hbdm.vn；</p>

<p>正常ws请求连接不能同时超过30个</p>
<h3 id='7ee1785123'>数据压缩</h3>
<p>WebSocket API 返回的所有数据都进⾏了 GZIP 压缩，需要 client 在收到数据之后解压</p>
<h3 id='c64cd5458d'>请求与响应数据说明</h3>
<ul>
<li><p>字符编码：UTF-8</p></li>
<li><p>大小写敏感，包含所有参数名和返回值</p></li>
<li><p>数据类型：使用JSON传输数据</p></li>
<li><p>所有请求数据都有固定格式，具体接口说明文档中只会重点介绍非通用部分，</p></li>
</ul>

<blockquote>
<p>请求数据结构如下:</p>
</blockquote>
<pre class="highlight plaintext"><code>
   {
  "op": string, // 必填;Client 请求的操作类型(Server 会原样返回)，详细操作
  类型列列表请参考附录
  "cid": string, // 选填;当前请求唯一 ID(Client 自⽣成并保证本地唯一性，
  Server 会原样返回) 
  // 其余必填/可选字段
  }

</code></pre>
<blockquote>
<p>所有响应/推送数据都会以固定的结构返回，具体接口说明文档中只会重点介绍data部分，请求响应数据结构如下:</p>
</blockquote>
<pre class="highlight plaintext"><code>
  {
  "op": string, // 必填;本次响应 Client 请求的操作类型
  "cid": string, // 选填;Client 请求唯一 ID
  "ts": long, // 必填;Server 应答时本地时间戳
  "err-code": integer, // 必填;响应码，0 代表成功;非0 代表出错，详细响应码列表请参考错误码表。
  "err-msg": string, 只在出错情况下有此信息，表明详细的出错信息 
  "data": object // 选填;返回数据对象，请求处理成功时有效
  }

</code></pre>
<blockquote>
<p>推送数据结构如下:</p>
</blockquote>
<pre class="highlight plaintext"><code>
  {
  "op": "string", // 必填;Server 推送的操作类型，详细操作类型列表请参考附录
  "ts": long, // 必填;Server 推送时本地时间戳
  "data": object // 必填;返回数据对象
  }

</code></pre><h2 id='b1db8cc3ee'>服务方主动断开连接</h2>
<p>在建连和鉴权期间，如果出错，服务方会主动断开连接，在关闭之前推送数据结构如下,</p>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;close&quot;, // 表明是服务⽅方主动断开连接</code></p>

<p><code>&quot;ts&quot;: long   // Server 推送时本地时间戳</code></p>

<p><code>}</code></p>
<h2 id='47b397d5de'>服务方返回错误，但不断开连接</h2>
<p>鉴权成功后，在客户方提供非法Op或者某些内部错误的情况下，服务方会返回错误，但并不断开连接</p>

<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;error&quot;, // 表明是收到非法op或者内部错误</code></p>

<p><code>&quot;ts&quot;: long// Server 推送时本地时间戳</code></p>

<p><code>}</code></p>
<h2 id='authentication'>鉴权-Authentication</h2>
<p>用户自⼰在火币网⽣成Access Key和Secret Key，Secret Key由用户自⼰保存，⽤户需提供Access Key。目前关于 apikey 申请和修改，请在“账户 - API 管理 ” 创建新API Key 填写备注(可选择绑定 ip)点击创建。其中 Access Key 为 API 访问密钥，Secret Key 为用户对请求进⾏签名的密钥(仅申请时可见)。用户按规则生成签名(Signature)。 </p>

<p>交易功能 websocket 版本接⼝建立连接时首先要做鉴权操作，具体格式如下，</p>

<p>重要提示：这两个密钥与账号安全紧密相关，无论何时都请勿向其它人透露。 </p>
<h3 id='5d62f508ce'>鉴权请求数据格式</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;auth&quot;,</code></p>

<p><code>&quot;type&quot;: &quot;api&quot;,</code></p>

<p><code>&quot;AccessKeyId&quot;: &quot;e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx&quot;,</code></p>

<p><code>&quot;SignatureMethod&quot;: &quot;HmacSHA256&quot;,</code></p>

<p><code>&quot;SignatureVersion&quot;: &quot;2&quot;,</code></p>

<p><code>&quot;Timestamp&quot;: &quot;2017-05-11T15:19:30&quot;,</code></p>

<p><code>&quot;Signature&quot;: &quot;4F65x5A2bLyMWVQj3Aqp+B4w+ivaA7n5Oi2SuYtCJ9o=&quot;,</code></p>

<p><code>}</code></p>
<h3 id='d3461a6d5d'>鉴权请求数据格式说明</h3>
<table><thead>
<tr>
<th>字段名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>string</td>
<td>必填；操作名称，鉴权固定值为auth</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>必填；认证方式 api表示接口认证，ticket 表示终端认证</td>
</tr>
<tr>
<td>cid</td>
<td>string</td>
<td>选填；Client请求唯一ID</td>
</tr>
<tr>
<td>AccessKeyId</td>
<td>string</td>
<td>type的值为api时必填；API 访问密钥, 您申请的 APIKEY 中的 AccessKey</td>
</tr>
<tr>
<td>SignatureMethod</td>
<td>string</td>
<td>type的值为api时必填；签名方法, 用户计算签名的基于哈希的协议，此处使用 HmacSHA256</td>
</tr>
<tr>
<td>SignatureVersion</td>
<td>string</td>
<td>type的值为api时必填；签名协议的版本，此处使用 2</td>
</tr>
<tr>
<td>Timestamp</td>
<td>string</td>
<td>type的值为api时必填；时间戳, 您发出请求的时间 (UTC 时区) 。在查询请求中包含此值有助于防止第三方截取您的请求。如:2017-05-11T16:22:06。再次强调是 (UTC 时区)</td>
</tr>
<tr>
<td>Signature</td>
<td>string</td>
<td>type的值为api时必填；签名, 计算得出的值，用于确保签名有效和未被篡改</td>
</tr>
<tr>
<td>ticket</td>
<td>string</td>
<td>type的值为ticket时必填；登陆时返回</td>
</tr>
</tbody></table>
<h4 id='4c95618614-2'>注意：</h4>
<ul>
<li><p>为了减少已有用户的接入工作量，此处使用了与REST接口同样的签名算法进行鉴权。</p></li>
<li><p>请注意大小写</p></li>
<li><p>当type为api时，参数op，type，cid，Signature不参加签名计算</p></li>
<li><p>此处签名计算中请求方法固定值为<code>GET</code>,其余值请参考REST接口签名算法文档</p></li>
</ul>
<h4 id='e6916141d3'>步骤：</h4>
<p>示例例参数签名(Signature)计算过程如下，</p>

<ul>
<li><p>规范要计算签名的请求 因为使用 HMAC 进⾏签名计算时，使⽤不同内容计算得到的结果会完全
不同。所以在进⾏签名计算前，请先对请求进⾏规范化处理。</p></li>
<li><p>请求方法(GET 或 POST)，后面添加换行符 <code>\n</code> 。</p></li>
</ul>

<p><code>GET\n</code></p>

<ul>
<li>添加小写的访问地址，后面添加换行符<code>\n</code>。</li>
</ul>

<p><code>api.hbdm.com\n</code></p>

<ul>
<li>访问方法的路径，后面添加换行符<code>\n</code>。</li>
</ul>

<p><code>/option-notification\n</code></p>

<ul>
<li>按照ASCII码的顺序对参数名进行排序(使⽤ UTF-8 编码，且进⾏了 URI 编码，十六进制字符必须
大写，如‘:’会被编码为&#39;%3A&#39;，空格被编码为&#39;%20&#39;)。例如，下面是请求参数的原始顺序，进⾏过
编码后。</li>
</ul>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-
  7xxxx&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2017-05-
  11T15%3A19%3A30</code></p>

<ul>
<li><p>按照以上顺序，将各参数使用字符’&amp;’连接。 </p></li>
<li><p>组成最终的要进行签名计算的字符串如下:</p></li>
</ul>

<p>计算签名，将以下两个参数传入加密哈希函数: 要进行签名计算的字符串，进行签名的密钥(SecretKey) </p>

<p>得到签名计算结果并进行 Base64编码</p>

<p>将上述值作为参数Signature的取值添加到 API 请求中。 将此参数添加到请求时，必须将该值进⾏URI编码。</p>
<h3 id='1b742187b6'>鉴权应答数据格式说明</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>string</td>
<td>必填；操作名称，鉴权固定值为 auth</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>必填；根据请求的参数进行返回。</td>
</tr>
<tr>
<td>cid</td>
<td>string</td>
<td>选填；请求时携带则会返回。</td>
</tr>
<tr>
<td>err-code</td>
<td>integer</td>
<td>成功返回 0, 失败为其他值，详细响应码列列表请参考附录</td>
</tr>
<tr>
<td>err-msg</td>
<td>string</td>
<td>可选，若出错表示详细错误信息</td>
</tr>
<tr>
<td>ts</td>
<td>long</td>
<td>服务端应答时间戳</td>
</tr>
<tr>
<td>user-id</td>
<td>string</td>
<td>⽤户 id</td>
</tr>
</tbody></table>

<blockquote>
<p>鉴权成功应答数据示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474081631</span><span class="p">,</span><span class="w">
  </span><span class="s2">"err-code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"user-id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>鉴权失败应答返回数据示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474081631</span><span class="p">,</span><span class="w"> 
  </span><span class="s2">"err-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxx"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"err-msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"详细的错误信息"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h1 id='websocket-3'>WebSocket市场行情接口</h1><h2 id='kline'>订阅 KLine 数据</h2>
<ul>
<li>market.$contract_code.kline.$period</li>
</ul>
<h3 id='websocket-api-server'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来订阅数据：</h3>
<p><code>{</code></p>

<p><code>&quot;sub&quot;:&quot;market.$contract_code.kline.$period&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确订阅请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.kline.1min"</span><span class="p">,</span><span class="w">
</span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id1"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-47'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>需要订阅的主题，该接口固定为：market.$contract_code.kline.$period，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>业务方自主生成的id</td>
<td></td>
</tr>
</tbody></table>
<h4 id='sub'>sub订阅参数说明</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线周期</td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day,1week, 1mon</td>
</tr>
</tbody></table>

<blockquote>
<p>订阅成功返回数据的例子:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subbed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.kline.1min"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489474081631</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>之后每当 KLine 有更新时，client 会收到数据:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"market.BTC-USDT-201225-C-13000.kline.15min"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604900702590</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tick"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1604900700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mrid"</span><span class="p">:</span><span class="mi">125344032</span><span class="p">,</span><span class="w">
        </span><span class="s2">"open"</span><span class="p">:</span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
        </span><span class="s2">"close"</span><span class="p">:</span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high"</span><span class="p">:</span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
        </span><span class="s2">"low"</span><span class="p">:</span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vol"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-45'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel</td>
<td>格式： market.period</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>K线ID,也就是K线时间戳，K线起始时间</td>
<td></td>
</tr>
<tr>
<td>mrid</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>decimal</td>
<td>成交量张数</td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>decimal</td>
<td>成交笔数</td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>decimal</td>
<td>开盘价</td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>decimal</td>
<td>收盘价,当K线为最晚的一根时，是最新成交价</td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>decimal</td>
<td>最低价</td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>decimal</td>
<td>最高价</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>成交量(币), 即(成交量(张) * 单张合约面值)</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交额（即成交的权利金总额）, 即sum（每一笔成交张数 * 合约面值 * 成交价格）</td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;  \</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='kline-2'>请求 KLine 数据</h2>
<ul>
<li>market.$contract_code.kline.$period</li>
</ul>
<h3 id='websocket-api-server-2'>成功建立和 WebSocket API 的连接之后，向Server发送如下格式的数据来请求数据：</h3>
<p><code>{</code></p>

<p><code>&quot;req&quot;:&quot;market.$contract_code.kline.$period&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>&quot;from&quot;:&quot;type: long, 2017-07-28T00:00:00+08:00 至2050-01-01T00:00:00+08:00 之间的时间点，单位：秒&quot;,</code></p>

<p><code>&quot;to&quot;: &quot;type: long, 2017-07-28T00:00:00+08:00 至2050-01-01T00:00:00+08:00 之间的时间点，单位：秒，必须比 from 大&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>请求 KLine 数据请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"req"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.kline.60min"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1579247342</span><span class="p">,</span><span class="w">
  </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1579247342</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-48'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>req</td>
<td>true</td>
<td>string</td>
<td>请求数据的主题，该接口固定为：market.$contract_code.kline.$period，详细参数见req请求参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>业务方自主生成的id</td>
<td></td>
</tr>
<tr>
<td>from</td>
<td>true</td>
<td>long</td>
<td>开始时间</td>
<td></td>
</tr>
<tr>
<td>to</td>
<td>true</td>
<td>long</td>
<td>结束时间</td>
<td></td>
</tr>
</tbody></table>
<h4 id='req'>req请求参数说明</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线周期</td>
<td>1min, 5min, 15min, 30min, 60min,4hour,1day,1week, 1mon</td>
</tr>
</tbody></table>
<h4 id='e0361480e3-21'>备注</h4>
<p>[t1, t5] 假设有 t1 ~ t5 的K线：</p>

<p>from: t1, to: t5, return [t1, t5].</p>

<p>from: t5, to: t1, which t5 &gt;   t1, return [].</p>

<p>from: t5, return [t5].</p>

<p>from: t3, return [t3, t5].</p>

<p>to: t5, return [t1, t5].</p>

<p>from: t which t3 &lt; t &lt;t4, return [t4, t5].</p>

<p>to: t which t3 &lt; t &lt;t4, return [t1, t3].</p>

<p>from: t1 and to: t2, should satisfy 1325347200 &lt; t1 &lt; t2 &lt; 2524579200.</p>

<p>一次最多2000条。</p>

<blockquote>
<p>返回的数据如下:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"id1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rep"</span><span class="p">:</span><span class="s2">"market.BTC-USDT-201225-C-13000.kline.60min"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"wsid"</span><span class="p">:</span><span class="mi">4203781398</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1602691200</span><span class="p">,</span><span class="w">
            </span><span class="s2">"open"</span><span class="p">:</span><span class="mi">630</span><span class="p">,</span><span class="w">
            </span><span class="s2">"close"</span><span class="p">:</span><span class="mi">630</span><span class="p">,</span><span class="w">
            </span><span class="s2">"low"</span><span class="p">:</span><span class="mi">630</span><span class="p">,</span><span class="w">
            </span><span class="s2">"high"</span><span class="p">:</span><span class="mi">630</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vol"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1602694800</span><span class="p">,</span><span class="w">
            </span><span class="s2">"open"</span><span class="p">:</span><span class="mi">630</span><span class="p">,</span><span class="w">
            </span><span class="s2">"close"</span><span class="p">:</span><span class="mi">630</span><span class="p">,</span><span class="w">
            </span><span class="s2">"low"</span><span class="p">:</span><span class="mi">630</span><span class="p">,</span><span class="w">
            </span><span class="s2">"high"</span><span class="p">:</span><span class="mi">630</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vol"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-46'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>请求id</td>
<td></td>
</tr>
<tr>
<td>rep</td>
<td>true</td>
<td>string</td>
<td>请求参数</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>状态</td>
<td></td>
</tr>
<tr>
<td>wsid</td>
<td>true</td>
<td>long</td>
<td>wsid</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>K线ID,也就是K线时间戳，K线起始时间</td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>decimal</td>
<td>开盘价</td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>decimal</td>
<td>收盘价,当K线为最晚的一根时，是最新成交价</td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>decimal</td>
<td>最低价</td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>decimal</td>
<td>最高价</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>成交量(币), 即(成交量(张) * 单张合约面值)</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交额（即成交的权利金总额）, 即sum（每一笔成交张数 * 合约面值 * 成交价格）</td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>decimal</td>
<td>成交量张数</td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>decimal</td>
<td>成交笔数</td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='market-depth'>订阅 Market Depth 数据</h2>
<ul>
<li>market.$contract_code.depth.$type</li>
</ul>
<h3 id='websocket-api-server-3'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来订阅数据：</h3>
<p><code>{</code></p>

<p><code>&quot;sub&quot;:&quot;market.$contract_code.depth.$type&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确订阅请求参数的例子：                                   </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.depth.step0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id5"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-49'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>请求数据的主题，该接口固定为：market.$contract_code.depth.$type，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>业务方自主生成的id</td>
<td></td>
</tr>
</tbody></table>
<h4 id='sub-2'>sub订阅参数说明</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true <img width=250/></td>
<td>string</td>
<td>合约代码 <img width=250/></td>
<td>&quot;BTC-USDT-201225-C-13000&quot; ...</td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>string</td>
<td>Depth 类型</td>
<td>获得150档深度数据，使用step0, step1, step2, step3, step4, step5，step14，step15（step1至step5以及step14、step15是进行了深度合并后的深度），使用step0时，不合并深度获取150档数据;获得20档深度数据，使用 step6, step7, step8, step9, step10, step11, step12, step13（step7至step13是进行了深度合并后的深度），使用step6时，不合并深度获取20档数据</td>
</tr>
</tbody></table>
<h4 id='e0361480e3-22'>备注</h4>
<ul>
<li><p>用户选择“合并深度”时，一定报价精度内的市场挂单将予以合并显示。合并深度仅改变显示方式，不改变实际成交价格。</p></li>
<li><p>step1至step5,step14,step15是进行了深度合并后的150档深度数据，step7至step13是进行了深度合并后的20档深度数据，对应精度如下：</p></li>
</ul>

<table><thead>
<tr>
<th>档位</th>
<th>Depth 类型</th>
<th>精度</th>
</tr>
</thead><tbody>
<tr>
<td>150档</td>
<td>step0</td>
<td>不合并</td>
</tr>
<tr>
<td>150档</td>
<td>step1</td>
<td>0.00001</td>
</tr>
<tr>
<td>150档</td>
<td>step2</td>
<td>0.0001</td>
</tr>
<tr>
<td>150档</td>
<td>step3</td>
<td>0.001</td>
</tr>
<tr>
<td>150档</td>
<td>step4</td>
<td>0.01</td>
</tr>
<tr>
<td>150档</td>
<td>step5</td>
<td>0.1</td>
</tr>
<tr>
<td>150档</td>
<td>step14</td>
<td>1</td>
</tr>
<tr>
<td>150档</td>
<td>step15</td>
<td>10</td>
</tr>
<tr>
<td>20档</td>
<td>step6</td>
<td>不合并</td>
</tr>
<tr>
<td>20档</td>
<td>step7</td>
<td>0.00001</td>
</tr>
<tr>
<td>20档</td>
<td>step8</td>
<td>0.0001</td>
</tr>
<tr>
<td>20档</td>
<td>step9</td>
<td>0.001</td>
</tr>
<tr>
<td>20档</td>
<td>step10</td>
<td>0.01</td>
</tr>
<tr>
<td>20档</td>
<td>step11</td>
<td>0.1</td>
</tr>
<tr>
<td>20档</td>
<td>step12</td>
<td>1</td>
</tr>
<tr>
<td>20档</td>
<td>step13</td>
<td>10</td>
</tr>
</tbody></table>

<blockquote>
<p>之后每当 depth 有更新时，client 会收到数据，例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"market.BTC-USDT-201225-C-13000.depth.step0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604901962322</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tick"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"mrid"</span><span class="p">:</span><span class="mi">125686472</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1604901962</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bids"</span><span class="p">:[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">2746.4</span><span class="p">,</span><span class="w">
                </span><span class="mi">535</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">2723.89</span><span class="p">,</span><span class="w">
                </span><span class="mi">520</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"asks"</span><span class="p">:[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">2881.38</span><span class="p">,</span><span class="w">
                </span><span class="mi">498</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">2911.03</span><span class="p">,</span><span class="w">
                </span><span class="mi">499</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604901962321</span><span class="p">,</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="mi">1604901962</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"market.BTC-USDT-201225-C-13000.depth.step0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-47'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel</td>
<td>格式： market.period</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>mrid</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>ID</td>
<td></td>
</tr>
<tr>
<td>asks</td>
<td>true</td>
<td>array</td>
<td>卖盘,[price(挂单价), vol(此价格挂单张数)], 按price升序</td>
<td></td>
</tr>
<tr>
<td>bids</td>
<td>true</td>
<td>array</td>
<td>买盘,[price(挂单价), vol(此价格挂单张数)], 按price降序</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>version</td>
<td>true</td>
<td>long</td>
<td>版本号</td>
<td></td>
</tr>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel</td>
<td>格式： market.period</td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='market-depth-2'>订阅 Market Depth增量推送数据</h2>
<ul>
<li>market.$contract_code.depth.size_${size}.high_freq</li>
</ul>
<h3 id='websocket-api-server-4'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来请求数据:</h3>
<p><code>{</code></p>

<p><code>&quot;sub&quot;:&quot;market.$contract_code.depth.size_${size}.high_freq&quot;,</code></p>

<p><code>&quot;data_type&quot;: &quot;incremental&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>订阅 Market Depth增量推送数据请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"data_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"incremental"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.depth.size_150.high_freq"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id1"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-50'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>请求数据的主题，该接口固定为：market.$contract_code.depth.size_${size}.high_freq，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>业务方自主生成的id</td>
<td></td>
</tr>
<tr>
<td>data_type</td>
<td>false</td>
<td>string</td>
<td>数据类型</td>
<td>不填默认为全量数据，&quot;incremental&quot;：增量数据，&quot;snapshot&quot;：全量数据</td>
</tr>
</tbody></table>
<h4 id='sub-3'>sub订阅参数说明</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>如&quot;BTC-USDT-201225-C-13000&quot; 。</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>string</td>
<td>档位数</td>
<td>20:表示20档不合并的深度，150:表示150档不合并的深度</td>
</tr>
</tbody></table>
<h3 id='e0361480e3-23'>备注</h3>
<ul>
<li>用户选择“合并深度”时，一定报价精度内的市场挂单将予以合并显示。合并深度仅改变显示方式，不改变实际成交价格。</li>
</ul>

<blockquote>
<p>每当 depth 有增量更新时，client 会收到数据，如下:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"market.BTC-USDT-201225-C-13000.depth.size_20.high_freq"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tick"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"asks"</span><span class="p">:[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">2891.92</span><span class="p">,</span><span class="w">
                </span><span class="mi">509</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">2922.58</span><span class="p">,</span><span class="w">
                </span><span class="mi">499</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"bids"</span><span class="p">:[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">2732.53</span><span class="p">,</span><span class="w">
                </span><span class="mi">535</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="mf">2710.12</span><span class="p">,</span><span class="w">
                </span><span class="mi">520</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"market.BTC-USDT-201225-C-13000.depth.size_20.high_freq"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event"</span><span class="p">:</span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">125696596</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mrid"</span><span class="p">:</span><span class="mi">125696596</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604902337523</span><span class="p">,</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="mi">1511997</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604902337523</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-48'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel</td>
<td>格式： market.period</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>mrid</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>ID</td>
<td></td>
</tr>
<tr>
<td>asks</td>
<td>true</td>
<td>array</td>
<td>卖盘,[price(挂单价), vol(此价格挂单张数)], 按price升序</td>
<td></td>
</tr>
<tr>
<td>bids</td>
<td>true</td>
<td>array</td>
<td>买盘,[price(挂单价), vol(此价格挂单张数)], 按price降序</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>version</td>
<td>true</td>
<td>long</td>
<td>版本号</td>
<td></td>
</tr>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel</td>
<td>格式： market.period</td>
</tr>
<tr>
<td>event</td>
<td>true</td>
<td>string</td>
<td>事件类型；</td>
<td>&quot;update&quot;:更新，表示推送买卖各20档或150档不合并深度的增量数据；&quot;snapshot&quot;:快照值，表示推送买卖各20档或150档不合并深度的全量数据</td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-24'>备注</h3>
<p>1、 当&quot;data_type&quot;为incremental时，首次推送的&quot;event&quot;为&quot;snapshot&quot;的数据，且当重新发送订阅请求时，首次返回都是&quot;snapshot&quot;的数据；</p>

<p>2、version（版本号），是自增的序号，每次增加1，不管是增量还是全量数据,每个连接是唯一的。多个websocket连接的version是可能不同的。</p>

<p>3、每30ms检查一次orderbook，如果有更新，则推送，如果没有更新，则不推送。</p>

<p>4、如果是增量数据，要自己维护好本地的orderbook bids\asks 数据。</p>
<h2 id='market-detail'>订阅 Market Detail 数据</h2>
<ul>
<li>market.$contract_code.detail</li>
</ul>
<h3 id='websocket-api-server-5'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来请求数据:</h3>
<p><code>{</code></p>

<p><code>&quot;sub&quot;: &quot;market.$contract_code.detail&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>订阅 Market Detail 数据请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.detail"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-51'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>请求数据的主题，该接口固定为：market.$contract_code.detail，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>业务方自主生成的id</td>
<td></td>
</tr>
</tbody></table>
<h4 id='sub-4'>sub订阅参数说明</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>如&quot;BTC-USDT-201225-C-13000&quot;。</td>
</tr>
</tbody></table>

<blockquote>
<p>请求成功返回数据的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"market.BTC-USDT-201225-C-13000.detail"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604902200630</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tick"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1604902200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mrid"</span><span class="p">:</span><span class="mi">125693341</span><span class="p">,</span><span class="w">
        </span><span class="s2">"open"</span><span class="p">:</span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
        </span><span class="s2">"close"</span><span class="p">:</span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high"</span><span class="p">:</span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
        </span><span class="s2">"low"</span><span class="p">:</span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="mf">0.176</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vol"</span><span class="p">:</span><span class="mi">176</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mf">439.20704</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bid"</span><span class="p">:[</span><span class="w">
            </span><span class="mf">13684.5</span><span class="p">,</span><span class="w">
            </span><span class="mi">10615</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"ask"</span><span class="p">:[</span><span class="w">
            </span><span class="mf">13684.6</span><span class="p">,</span><span class="w">
            </span><span class="mi">3440</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-49'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel</td>
<td>格式： market.period</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>ID</td>
<td></td>
</tr>
<tr>
<td>mrid</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>true</td>
<td>decimal</td>
<td>开盘价</td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>true</td>
<td>decimal</td>
<td>收盘价,当K线为最晚的一根时，是最新成交价</td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>true</td>
<td>decimal</td>
<td>最高价</td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>true</td>
<td>decimal</td>
<td>最低价</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>成交量(币)，即(成交量(张) * 单张合约面值)</td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>true</td>
<td>decimal</td>
<td>成交量（张），买卖双边成交量之和</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交额（即成交的权利金总额），即sum（每一笔成交张数 * 合约面值 * 成交价格）</td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>true</td>
<td>decimal</td>
<td>成交笔数</td>
<td></td>
</tr>
<tr>
<td>ask</td>
<td>true</td>
<td>array</td>
<td>[卖1价,卖1量(张)]</td>
<td></td>
</tr>
<tr>
<td>bid</td>
<td>true</td>
<td>array</td>
<td>[买1价,买1量(张)]</td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id='9852b06629-18'>备注：</h4>
<ul>
<li>买一卖一并非实时更新，会存在部分延迟（500ms左右）。</li>
</ul>
<h2 id='trade-detail'>请求 Trade Detail 数据</h2>
<ul>
<li>market.$contract_code.trade.detail</li>
</ul>
<h3 id='websocket-api-server-6'>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来请求数据：</h3>
<p><code>{</code></p>

<p><code>&quot;req&quot;: &quot;market.$contract_code.trade.detail&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>请求 Trade Detail 数据请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160943040012341"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"req"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.trade.detail"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='e0361480e3-25'>备注</h3>
<ul>
<li>仅返回当前 Trade Detail。</li>
</ul>
<h3 id='1f9ac54b15-52'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>req</td>
<td>true</td>
<td>string</td>
<td>请求数据的主题，该接口固定为：market.$contract_code.trade.detail，详细参数见req请求参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>业务方自主生成的id</td>
<td></td>
</tr>
<tr>
<td>size</td>
<td>false</td>
<td>int</td>
<td>数据条数，最多50，不填默认50</td>
<td>[1,50]</td>
</tr>
</tbody></table>
<h4 id='req-2'>req请求参数说明</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>如&quot;BTC-USDT-201225-C-13000&quot;。</td>
</tr>
</tbody></table>

<blockquote>
<p>请求成功返回数据的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1603869385244</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">991487430000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="s2">"1542.78"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"direction"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quantity"</span><span class="p">:</span><span class="s2">"0.006"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.032"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"40"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1603889690205</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">996663430000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="s2">"1300"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"direction"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quantity"</span><span class="p">:</span><span class="s2">"0.04"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52.32"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"160943040012341"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rep"</span><span class="p">:</span><span class="s2">"market.BTC-USDT-201225-C-13000.trade.detail"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604902521584</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-50'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>rep</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel</td>
<td>格式： market.$contract_code.trade.detail</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>string</td>
<td>返回状态</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>请求 ID</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>成交唯一id（品种唯一）</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>string</td>
<td>价格</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>string</td>
<td>数量（张）</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向，即taker(主动成交)的方向</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>订单成交时间</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>true</td>
<td>string</td>
<td>成交量（币）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>string</td>
<td>成交额（计价币种）</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>发送时间</td>
<td></td>
</tr>
</tbody></table>
<h4 id='e0361480e3-26'>备注</h4>
<ul>
<li>2021年2月3日 21:00:00 后返回参数才会有quantity、trade_turnover字段。</li>
</ul>
<h2 id='trade-detail-2'>订阅 Trade Detail 数据</h2>
<ul>
<li>market.$contract_code.trade.detail</li>
</ul>
<h3 id='websocket-api-server-7'>成功建立和 WebSocket API 的连接之后，向 Server发送如下格式的数据来订阅数据：</h3>
<p><code>{</code></p>

<p><code>&quot;sub&quot;: &quot;market.$contract_code.trade.detail&quot;,</code></p>

<p><code>&quot;id&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确订阅请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160943040012341"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market.BTC-USDT-201225-C-13000.trade.detail"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-53'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>true</td>
<td>string</td>
<td>请求数据的主题，该接口固定为：market.$contract_code.trade.detail，详细参数见sub订阅参数说明</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>false</td>
<td>string</td>
<td>业务方自主生成的id</td>
<td></td>
</tr>
</tbody></table>
<h4 id='sub-5'>sub订阅参数说明</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>如&quot;BTC-USDT-201225-C-13000&quot;。</td>
</tr>
</tbody></table>

<blockquote>
<p>之后每当 Trade Detail 有更新时，client 会收到数据，例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"market.BTC-USDT-201225-C-13000.trade.detail"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604888281270</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tick"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">125344032</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604888281258</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604888281258</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1253440320000</span><span class="p">,</span><span class="w">
                </span><span class="s2">"price"</span><span class="p">:</span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
                </span><span class="s2">"direction"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"quantity"</span><span class="p">:</span><span class="mf">0.002</span><span class="p">,</span><span class="w">
                </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.632</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-51'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>ch</td>
<td>true</td>
<td>string</td>
<td>数据所属的 channel</td>
<td>格式： market.period</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
<tr>
<td>&lt;tick&gt;</td>
<td>true</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>订单唯一id（品种唯一）</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>发送时间</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>decimal</td>
<td>数量（张）</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>发送时间</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>long</td>
<td>成交唯一id（品种唯一）</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>价格</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向，即taker(主动成交)的方向</td>
<td></td>
</tr>
<tr>
<td>quantity</td>
<td>true</td>
<td>decimal</td>
<td>成交量（币）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交额（计价币种）</td>
<td></td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;/tick&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id='websocket-4'>WebSocket订单和用户数据接口</h1><h2 id='8a7d47a861'>订阅订单成交数据</h2>
<ul>
<li>orders.$symbol-$partition</li>
</ul>
<h3 id='websocket-api-server-8'>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来订阅数据:</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;sub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;orders.$symbol-$partition&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确订阅请求参数的例子:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders.btc-usdt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-54'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>订阅固定值为sub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (orders.$symbol-$partition) 订阅、取消订阅某个品种下的成交订单信息； $symbol-$partition为“品种代码-交易分区”（BTC-USDT、ETH-USDT...），如果值为 * 时代表订阅所有期权合约;</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>每当有订单成交时，client会收到数据，如下:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="s2">"notify"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="s2">"orders.btc-usdt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604903121972</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"volume"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="mf">2752.58</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_price_type"</span><span class="p">:</span><span class="s2">"opponent"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"direction"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offset"</span><span class="p">:</span><span class="s2">"close"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="mi">775365420395126784</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="s2">"775365420395126784"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_order_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_source"</span><span class="p">:</span><span class="s2">"web"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="mi">1604903121809</span><span class="p">,</span><span class="w">
    </span><span class="s2">"canceled_at"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mf">2.75258</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="mf">-0.005</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_avg_price"</span><span class="p">:</span><span class="mf">2752.58</span><span class="p">,</span><span class="w">
    </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"profit"</span><span class="p">:</span><span class="mf">-0.14467</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"delivery_date"</span><span class="p">:</span><span class="s2">"20201225"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="s2">"C"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exercise_price"</span><span class="p">:</span><span class="mi">13000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"quote_asset"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"premium_frozen"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee_frozen"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"125715777-775365420395126784-1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_id"</span><span class="p">:</span><span class="mi">125715777</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_price"</span><span class="p">:</span><span class="mf">2752.58</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_fee"</span><span class="p">:</span><span class="mf">-0.005</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mf">2.75258</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="mi">1604903121857</span><span class="p">,</span><span class="w">
            </span><span class="s2">"role"</span><span class="p">:</span><span class="s2">"taker"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='2b9b241982'>成交推送请求数据格式说明</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>操作名称，推送固定值为 notify;</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>推送的主题</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>服务端应答时间戳</td>
<td></td>
</tr>
<tr>
<td>uid</td>
<td>true</td>
<td>string</td>
<td>用户uid</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td></td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>委托数量（张）</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>decimal</td>
<td>委托价格</td>
<td></td>
</tr>
<tr>
<td>order_price_type</td>
<td>true</td>
<td>string</td>
<td>订单报价类型</td>
<td>&quot;limit&quot;:限价，&quot;opponent&quot;:对手价，&quot;lightning&quot;:闪电平仓，&quot;optimal_5&quot;:最优5档，&quot;optimal_10&quot;:最优10档，&quot;optimal_20&quot;:最优20档，&quot;fok&quot;:FOK订单，&quot;ioc&quot;:IOC订单, &quot;opponent_ioc&quot;: 对手价-IOC下单，&quot;lightning_ioc&quot;: 闪电平仓-IOC下单，&quot;optimal_5_ioc&quot;: 最优5档-IOC下单，&quot;optimal_10_ioc&quot;: 最优10档-IOC下单，&quot;optimal_20_ioc&quot;：最优20档-IOC下单，&quot;opponent_fok&quot;： 对手价-FOK下单，&quot;lightning_fok&quot;：闪电平仓-FOK下单，&quot;optimal_5_fok&quot;：最优5档-FOK下单，&quot;optimal_10_fok&quot;：最优10档-FOK下单，&quot;optimal_20_fok&quot;：最优20档-FOK下单</td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>买卖方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>offset</td>
<td>true</td>
<td>string</td>
<td>开平方向</td>
<td>&quot;open&quot;:开 &quot;close&quot;:平</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态</td>
<td>1准备提交 2准备提交 3已提交 4部分成交 5部分成交已撤单 6全部成交 7已撤单</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>string格式的订单ID</td>
<td></td>
</tr>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>long</td>
<td>客户订单ID</td>
<td></td>
</tr>
<tr>
<td>order_source</td>
<td>true</td>
<td>string</td>
<td>订单来源</td>
<td>system:系统、web:用户网页、api:用户API、m:用户M站、risk:风控系统、settlement:交割结算、ios：ios客户端、android：安卓客户端、windows：windows客户端、mac：mac客户端、trigger：计划委托触发</td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型</td>
<td>1:报单 、 2:撤单 、4:交割</td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>订单创建时间</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交数量（张）</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交总金额</td>
<td></td>
</tr>
<tr>
<td>fee</td>
<td>true</td>
<td>decimal</td>
<td>手续费</td>
<td></td>
</tr>
<tr>
<td>trade_avg_price</td>
<td>true</td>
<td>decimal</td>
<td>成交均价</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金（卖方）</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>canceled_at</td>
<td>true</td>
<td>long</td>
<td>撤单时间</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>delivery_date</td>
<td>true</td>
<td>string</td>
<td>到期日</td>
<td></td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>exercise_price</td>
<td>true</td>
<td>decimal</td>
<td>行权价</td>
<td></td>
</tr>
<tr>
<td>quote_asset</td>
<td>true</td>
<td>string</td>
<td>报价币种</td>
<td>如&quot;USDT&quot;</td>
</tr>
<tr>
<td>premium_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结权利金（买方）</td>
<td></td>
</tr>
<tr>
<td>fee_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结手续费</td>
<td></td>
</tr>
<tr>
<td>&lt;trade&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>唯一成交id,由于match_id并不是unique的，具体使用方式是用match_id和id作为联合主键，拼接成unique的成交ID</td>
<td></td>
</tr>
<tr>
<td>trade_id</td>
<td>true</td>
<td>long</td>
<td>与option-api/v1/option_matchresults返回结果中的match_id一样，是撮合结果id， 非唯一，可重复，注意：一个撮合结果代表一个taker单和N个maker单的成交记录的集合，如果一个taker单吃了N个maker单，那这N笔trade都是一样的撮合结果id</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交量</td>
<td></td>
</tr>
<tr>
<td>trade_price</td>
<td>true</td>
<td>decimal</td>
<td>撮合价格</td>
<td></td>
</tr>
<tr>
<td>trade_fee</td>
<td>true</td>
<td>decimal</td>
<td>成交手续费</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交金额</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>成交创建时间</td>
<td></td>
</tr>
<tr>
<td>role</td>
<td>true</td>
<td>string</td>
<td>taker或maker</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>&lt;/trade&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='unsub'>取消订阅订单成交数据（unsub）</h2><h3 id='websocket-api-server-9'>成功建⽴和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来取消订阅数据:</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;unsub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;orders.$symbol-$partition&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的取消订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders.btc-usdt"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='4efe6ad8fa'>取消订阅请求数据格式说明</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>取消订阅固定值为unsub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (orders.$symbol-$partition) 订阅、取消订阅某个品种下的成交订单信息；$symbol-$partition为“品种代码-交易分区”（BTC-USDT、ETH-USDT...），如果值为 * 时代表订阅所有期权合约;</td>
<td></td>
</tr>
</tbody></table>
<h3 id='25b9181131'>订阅与取消订阅规则说明</h3>
<table><thead>
<tr>
<th>订阅(sub)</th>
<th>取消订阅(ubsub)</th>
<th>规则</th>
</tr>
</thead><tbody>
<tr>
<td>orders.*</td>
<td>orders.*</td>
<td>允许</td>
</tr>
<tr>
<td>orders.symbol1-partion1</td>
<td>orders.*</td>
<td>允许</td>
</tr>
<tr>
<td>orders.symbol1-partion1</td>
<td>orders.symbol1-partion1</td>
<td>允许</td>
</tr>
<tr>
<td>orders.symbol1-partion1</td>
<td>orders.symbol2-partion1</td>
<td>不允许</td>
</tr>
<tr>
<td>orders.*</td>
<td>orders.symbol1-partion1</td>
<td>不允许</td>
</tr>
</tbody></table>
<h2 id='f0259ca770'>订阅资产变动数据</h2>
<ul>
<li>accounts.$symbol-$partition</li>
</ul>
<h3 id='websocket-api-server-10'>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来订阅数据:</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;sub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;accounts.$symbol-$partition&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的订阅请求:                           </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accounts.btc-usdt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-55'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op  <img width=250/></td>
<td>true <img width=250/></td>
<td>string</td>
<td>订阅固定值为sub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (accounts.$symbol-$partition) 订阅、取消订阅某个品种下的资产变更信息；$symbol-$partition为“品种代码-交易分区”（BTC-USDT、ETH-USDT,USDT-USDT...），如果值为 * 时代表订阅所有期权合约;</td>
<td></td>
</tr>
</tbody></table>
<h4 id='9852b06629-19'>备注：</h4>
<ul>
<li>推送接口新增定期推送逻辑：每 5 秒进行一次定期推送，由定期推送触发的数据中 event 参数值为“snapshot”，表示由系统定期推送触发。 如果5秒内某合约资产已触发过推送，则该合约资产跳过此次推送。</li>
</ul>

<blockquote>
<p>每当有资产变动时，client会收到数据，如下:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="s2">"notify"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="s2">"accounts"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604903471303</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"event"</span><span class="p">:</span><span class="s2">"init"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_balance"</span><span class="p">:</span><span class="mf">10.30015</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_static"</span><span class="p">:</span><span class="mf">10.30015</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_frozen"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_available"</span><span class="p">:</span><span class="mf">9.09036</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_real"</span><span class="p">:</span><span class="mf">-0.15467</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"withdraw_available"</span><span class="p">:</span><span class="mf">9.09036</span><span class="p">,</span><span class="w">
            </span><span class="s2">"option_value"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_frozen"</span><span class="p">:</span><span class="mf">1.20479</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_frozen"</span><span class="p">:</span><span class="mf">0.005</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_in"</span><span class="p">:</span><span class="mf">2.75258</span><span class="p">,</span><span class="w">
            </span><span class="s2">"premium_out"</span><span class="p">:</span><span class="mf">2.89725</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fee_asset"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delta"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gamma"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"theta"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vega"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='b302a98fa6'>返回字段说明</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true <img width=250/></td>
<td>string</td>
<td>操作名称，推送固定值为 notify;   <img width=1000/></td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>推送的主题</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>服务端应答时间戳</td>
<td></td>
</tr>
<tr>
<td>uid</td>
<td>true</td>
<td>string</td>
<td>用户uid</td>
<td></td>
</tr>
<tr>
<td>event</td>
<td>true</td>
<td>string</td>
<td>资产变化通知相关事件说明</td>
<td>比如订单创建开仓(order.open) 、订单平仓(order.close) 、订单成交(order.match)、结算交割(settlement)、订单撤销(order.cancel) 、合约账户划转（contract.transfer)（包括外部划转）、系统（contract.system)、其他资产变化(other) 、初始资金（init）、由系统定期推送触发（snapshot）</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;,&quot;USDT&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>margin_balance</td>
<td>true</td>
<td>decimal</td>
<td>账户权益</td>
<td></td>
</tr>
<tr>
<td>margin_static</td>
<td>true</td>
<td>decimal</td>
<td>静态权益</td>
<td></td>
</tr>
<tr>
<td>margin_position</td>
<td>true</td>
<td>decimal</td>
<td>履约保证金</td>
<td></td>
</tr>
<tr>
<td>margin_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结保证金（卖方）</td>
<td></td>
</tr>
<tr>
<td>margin_available</td>
<td>true</td>
<td>decimal</td>
<td>可用保证金</td>
<td></td>
</tr>
<tr>
<td>profit_real</td>
<td>true</td>
<td>decimal</td>
<td>已实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>withdraw_available</td>
<td>true</td>
<td>decimal</td>
<td>可划转数量</td>
<td></td>
</tr>
<tr>
<td>premium_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结权利金（买方）</td>
<td></td>
</tr>
<tr>
<td>fee_frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结手续费</td>
<td></td>
</tr>
<tr>
<td>fee_asset</td>
<td>true</td>
<td>string</td>
<td>手续费币种</td>
<td></td>
</tr>
<tr>
<td>premium_in</td>
<td>true</td>
<td>decimal</td>
<td>本周权利金收入</td>
<td></td>
</tr>
<tr>
<td>premium_out</td>
<td>true</td>
<td>decimal</td>
<td>本周权利金支出</td>
<td></td>
</tr>
<tr>
<td>delta</td>
<td>true</td>
<td>decimal</td>
<td>DELTA</td>
<td></td>
</tr>
<tr>
<td>gamma</td>
<td>true</td>
<td>decimal</td>
<td>GAMMA</td>
<td></td>
</tr>
<tr>
<td>theta</td>
<td>true</td>
<td>decimal</td>
<td>THETA</td>
<td></td>
</tr>
<tr>
<td>vega</td>
<td>true</td>
<td>decimal</td>
<td>VEGA</td>
<td></td>
</tr>
<tr>
<td>option_value</td>
<td>true</td>
<td>decimal</td>
<td>期权市值（单位为USDT）</td>
<td></td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='9852b06629-20'>备注：</h3>
<ul>
<li><p>USDT资产为该交易区下所有品种期权共用的；</p></li>
<li><p>USDT资产下的期权市值为USDT区下所有品种期权持仓的价值；BTC资产下的期权市值为BTC期权持仓的价值；ETH资产下的期权市值为ETH期权持仓的价值；</p></li>
</ul>
<h2 id='unsub-2'>取消订阅资产变动数据（unsub）</h2><h3 id='websocket-api-server-11'>成功建⽴和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来取消订阅数据:</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;unsub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;accounts.$symbol-$partition&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的取消订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accounts.btc-usdt"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='c084539f16'>取消订阅请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>取消订阅固定值为unsub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (accounts.$symbol-$partition) 订阅、取消订阅某个品种下的资产变更信息；$symbol-$partition为“品种代码-交易分区”（BTC-USDT、ETH-USDT,USDT-USDT...），如果值为 * 时代表订阅所有期权合约;</td>
<td></td>
</tr>
</tbody></table>
<h3 id='25b9181131-2'>订阅与取消订阅规则说明</h3>
<table><thead>
<tr>
<th>订阅(sub)</th>
<th>取消订阅(ubsub)</th>
<th>规则</th>
</tr>
</thead><tbody>
<tr>
<td>accounts.*</td>
<td>accounts.*</td>
<td>允许</td>
</tr>
<tr>
<td>accounts.symbol1-partion1</td>
<td>accounts.*</td>
<td>允许</td>
</tr>
<tr>
<td>accounts.symbol1-partion1</td>
<td>accounts.symbol1-partion1</td>
<td>允许</td>
</tr>
<tr>
<td>accounts.symbol1-partion1</td>
<td>accounts.symbol2-partion1</td>
<td>不允许</td>
</tr>
<tr>
<td>accounts.*</td>
<td>accounts.symbol1-partion1</td>
<td>不允许</td>
</tr>
</tbody></table>
<h2 id='sub-6'>持仓变动更新数据（sub）</h2>
<ul>
<li>positions.$symbol-$partition</li>
</ul>
<h3 id='websocket-api-server-12'>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来订阅数据:</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;sub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;positions.$symbol-$partition&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positions.*"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f9ac54b15-56'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>订阅固定值为sub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (positions.$symbol-$partition) 订阅、取消订阅某个品种下的持仓变更信息；$symbol-$partition为“品种代码-交易分区”（BTC-USDT、ETH-USDT...），如果值为 * 时代表订阅所有期权合约;</td>
<td></td>
</tr>
</tbody></table>
<h4 id='9852b06629-21'>备注：</h4>
<ul>
<li>推送接口新增定期推送逻辑：每 5 秒进行一次定期推送，由定期推送触发的数据中 event 参数值为“snapshot”，表示由系统定期推送触发。 如果5秒内某仓位已触发过推送，则该仓位跳过此次推送。</li>
</ul>

<blockquote>
<p>每当持仓有变动更新时，client会收到数据，如下:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="s2">"notify"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="s2">"positions"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604903117918</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"event"</span><span class="p">:</span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"volume"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"available"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frozen"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost_open"</span><span class="p">:</span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost_hold"</span><span class="p">:</span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_unreal"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit_rate"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profit"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_position"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"direction"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_price"</span><span class="p">:</span><span class="mf">2897.25</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delivery_date"</span><span class="p">:</span><span class="s2">"20201225"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"option_right_type"</span><span class="p">:</span><span class="s2">"C"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"exercise_price"</span><span class="p">:</span><span class="mi">13000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quote_asset"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"margin_asset"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"position_value"</span><span class="p">:</span><span class="mf">2.89725</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-52'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true <img width=250/></td>
<td>string</td>
<td>操作名称，推送固定值为 notify;  <img width=1000/></td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>推送的主题</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>服务端应答时间戳</td>
<td></td>
</tr>
<tr>
<td>uid</td>
<td>true</td>
<td>string</td>
<td>用户uid</td>
<td></td>
</tr>
<tr>
<td>event</td>
<td>true</td>
<td>string</td>
<td>持仓变化通知相关事件说明</td>
<td>比如订单创建平仓(order.close) 、订单成交(order.match)、交割(settlement)、订单撤销(order.cancel) 、初始持仓（init）、由系统定期推送触发（snapshot）</td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>持仓量</td>
<td></td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>decimal</td>
<td>可平仓数量</td>
<td></td>
</tr>
<tr>
<td>frozen</td>
<td>true</td>
<td>decimal</td>
<td>冻结数量</td>
<td></td>
</tr>
<tr>
<td>cost_open</td>
<td>true</td>
<td>decimal</td>
<td>开仓均价</td>
<td></td>
</tr>
<tr>
<td>cost_hold</td>
<td>true</td>
<td>decimal</td>
<td>持仓均价</td>
<td></td>
</tr>
<tr>
<td>profit_unreal</td>
<td>true</td>
<td>decimal</td>
<td>未实现盈亏</td>
<td></td>
</tr>
<tr>
<td>profit_rate</td>
<td>true</td>
<td>decimal</td>
<td>收益率</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>true</td>
<td>decimal</td>
<td>收益</td>
<td></td>
</tr>
<tr>
<td>margin_position</td>
<td>true</td>
<td>decimal</td>
<td>履约保证金</td>
<td></td>
</tr>
<tr>
<td>position_value</td>
<td>true</td>
<td>decimal</td>
<td>仓位价值</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>true</td>
<td>string</td>
<td>仓位方向</td>
<td>&quot;buy&quot;:买 &quot;sell&quot;:卖</td>
</tr>
<tr>
<td>last_price</td>
<td>true</td>
<td>decimal</td>
<td>最新成交价</td>
<td></td>
</tr>
<tr>
<td>delivery_date</td>
<td>true</td>
<td>string</td>
<td>到期日</td>
<td>如&quot;20200508&quot;</td>
</tr>
<tr>
<td>option_right_type</td>
<td>true</td>
<td>string</td>
<td>期权行权类型</td>
<td>C:看涨期权 P:看跌期权</td>
</tr>
<tr>
<td>exercise_price</td>
<td>true</td>
<td>decimal</td>
<td>行权价</td>
<td></td>
</tr>
<tr>
<td>quote_asset</td>
<td>true</td>
<td>string</td>
<td>报单币种</td>
<td>&quot;USDT&quot;...</td>
</tr>
<tr>
<td>margin_asset</td>
<td>true</td>
<td>string</td>
<td>保证金币种</td>
<td>&quot;BTC&quot;，”ETH“，”USDT“</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='unsub-3'>取消订阅持仓变动数据（unsub）</h2><h3 id='websocket-api-server-13'>成功建⽴和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来取消订阅数据:</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;unsub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;positions.$symbol-$partition&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的取消订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positions.btc-usdt"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='c084539f16-2'>取消订阅请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>取消订阅固定值为unsub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (positions.$symbol-$partition) 订阅、取消订阅某个品种下的资产变更信息；$symbol-$partition为“品种代码-交易分区”（BTC-USDT、ETH-USDT...），如果值为 * 时代表订阅所有期权合约;</td>
<td></td>
</tr>
</tbody></table>
<h3 id='25b9181131-3'>订阅与取消订阅规则说明</h3>
<table><thead>
<tr>
<th>订阅(sub)</th>
<th>取消订阅(ubsub)</th>
<th>规则</th>
</tr>
</thead><tbody>
<tr>
<td>positions.*</td>
<td>positions.*</td>
<td>允许</td>
</tr>
<tr>
<td>positions.symbol1-partion1</td>
<td>positions.*</td>
<td>允许</td>
</tr>
<tr>
<td>positions.symbol1-partion1</td>
<td>positions.symbol1-partion1</td>
<td>允许</td>
</tr>
<tr>
<td>positions.symbol1-partion1</td>
<td>positions.symbol2-partion1</td>
<td>不允许</td>
</tr>
<tr>
<td>positions.*</td>
<td>positions.symbol1-partion1</td>
<td>不允许</td>
</tr>
</tbody></table>
<h2 id='sub-7'>订阅撮合订单成交数据（sub）</h2>
<ul>
<li>matchOrders.$symbol-$partition</li>
</ul>
<h3 id='websocket-api-server-14'>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来订阅数据:</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;sub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;matchOrders.$symbol-$partition&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确订阅请求参数的例子:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"matchOrders.btc-usdt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='1f9ac54b15-57'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>订阅固定值为sub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (matchOrders.$symbol-$partition) 订阅、取消订阅某个品种下的撮合订单成交信息；$symbol-$partition为“品种代码-交易分区”（BTC-USDT、ETH-USDT...），如果值为 * 时代表订阅所有期权合约;</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>每当有成交订单变动时，client会收到数据，如下:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="s2">"notify"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="s2">"matchOrders.btc-usdt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1604903121879</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_partition"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contract_type"</span><span class="p">:</span><span class="s2">"quarter"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contract_code"</span><span class="p">:</span><span class="s2">"BTC-USDT-201225-C-13000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="mi">775365420395126784</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id_str"</span><span class="p">:</span><span class="s2">"775365420395126784"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"volume"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trade"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"125715777-775365420395126784-1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_id"</span><span class="p">:</span><span class="mi">125715777</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_volume"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_price"</span><span class="p">:</span><span class="mf">2752.58</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_turnover"</span><span class="p">:</span><span class="mf">2.75258</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="mi">1604903121857</span><span class="p">,</span><span class="w">
            </span><span class="s2">"role"</span><span class="p">:</span><span class="s2">"taker"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='70bdef7e25-53'>返回参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>操作名称，推送固定值为 notify;</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>推送的主题</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>服务端应答时间戳</td>
<td></td>
</tr>
<tr>
<td>uid</td>
<td>true</td>
<td>string</td>
<td>用户uid</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>品种代码</td>
<td>&quot;BTC&quot;,&quot;ETH&quot;...</td>
</tr>
<tr>
<td>trade_partition</td>
<td>true</td>
<td>string</td>
<td>交易分区</td>
<td>&quot;USDT&quot;</td>
</tr>
<tr>
<td>contract_type</td>
<td>true</td>
<td>string</td>
<td>合约类型</td>
<td>当周:&quot;this_week&quot;, 次周:&quot;next_week&quot;, 季度:&quot;quarter&quot;</td>
</tr>
<tr>
<td>contract_code</td>
<td>true</td>
<td>string</td>
<td>合约代码</td>
<td>BTC-USDT-201225-C-13000</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int</td>
<td>订单状态(3未成交 4部分成交 5部分成交已撤单 6全部成交 7已撤单)</td>
<td></td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>long</td>
<td>订单ID，在系统存储的字段为user_order_id</td>
<td></td>
</tr>
<tr>
<td>order_id_str</td>
<td>true</td>
<td>string</td>
<td>订单ID ,字符串类型</td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>int</td>
<td>订单类型</td>
<td>1:报单 、 2:撤单</td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>订单已成交数量</td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>decimal</td>
<td>订单总委托数量</td>
<td></td>
</tr>
<tr>
<td>&lt;trade&gt;</td>
<td>true</td>
<td>object array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>成交唯一ID</td>
<td></td>
</tr>
<tr>
<td>trade_id</td>
<td>true</td>
<td>long</td>
<td>撮合结果id</td>
<td></td>
</tr>
<tr>
<td>trade_price</td>
<td>true</td>
<td>decimal</td>
<td>撮合价格</td>
<td></td>
</tr>
<tr>
<td>trade_volume</td>
<td>true</td>
<td>decimal</td>
<td>成交量</td>
<td></td>
</tr>
<tr>
<td>trade_turnover</td>
<td>true</td>
<td>decimal</td>
<td>成交金额</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>true</td>
<td>long</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>role</td>
<td>true</td>
<td>string</td>
<td>taker或maker</td>
<td></td>
</tr>
<tr>
<td>&lt;/trade&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='unsub-4'>取消撮合订单成交数据（unsub）</h2><h3 id='websocket-api-server-15'>成功建⽴和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来取消订阅数据:</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;unsub&quot;,</code></p>

<p><code>&quot;topic&quot;: &quot;matchOrders.$symbol-$partition&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>}</code></p>

<blockquote>
<p>正确的取消订阅请求:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"matchOrders.btc-usdt"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40sG903yz80oDFWr"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='c084539f16-3'>取消订阅请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>取消订阅固定值为unsub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (matchOrders.$symbol-$partition) 订阅、取消订阅某个品种下的撮合订单成交信息；$symbol-$partition为“品种代码-交易分区”（BTC-USDT、ETH-USDT...），如果值为 * 时代表订阅所有期权合约;</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>响应生成时间点，单位：毫秒</td>
<td></td>
</tr>
</tbody></table>
<h3 id='25b9181131-4'>订阅与取消订阅规则说明</h3>
<table><thead>
<tr>
<th>订阅(sub)</th>
<th>取消订阅(ubsub)</th>
<th>规则</th>
</tr>
</thead><tbody>
<tr>
<td>matchOrders.*</td>
<td>matchOrders.*</td>
<td>允许</td>
</tr>
<tr>
<td>matchOrders.symbol1-partion1</td>
<td>matchOrders.*</td>
<td>允许</td>
</tr>
<tr>
<td>matchOrders.symbol1-partion1</td>
<td>matchOrders.symbol1-partion1</td>
<td>允许</td>
</tr>
<tr>
<td>matchOrders.symbol1-partion1</td>
<td>matchOrders.symbol2-partion1</td>
<td>不允许</td>
</tr>
<tr>
<td>matchOrders.*</td>
<td>matchOrders.symbol1-partion1</td>
<td>不允许</td>
</tr>
</tbody></table>
<h1 id='websocket-5'>WebSocket系统状态更新接口</h1>
<ul>
<li>系统状态更新订阅WS地址：wss://api.hbdm.com/center-notification</li>
</ul>
<h2 id='639acfa81d'>订阅系统状态更新</h2><h3 id='websocket-api-server-16'>成功建立和 WebSocket API 的连接之后，向 Server 发送如下格式的数据来请求数据：</h3>
<p><code>{</code></p>

<p><code>&quot;op&quot;: &quot;sub&quot;,</code></p>

<p><code>&quot;cid&quot;: &quot;id generated by client&quot;,</code></p>

<p><code>&quot;topic &quot;: &quot;public.$service.heartbeat&quot;</code></p>

<p><code>}</code></p>

<blockquote>
<p>数据请求参数的例子：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id generated by client"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public.option.heartbeat"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='2eb6f47757'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>订阅固定值为sub</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>false</td>
<td>string</td>
<td>Client 请求唯一 ID</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>订阅主题名称，必填 (public.$service.heartbeat) 订阅某个业务的系统状态信息</td>
<td></td>
</tr>
</tbody></table>
<h3 id='sub-8'>sub订阅参数说明:</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>service</td>
<td>true</td>
<td>string</td>
<td>业务代码</td>
<td>option：期权</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notify"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public.option.heartbeat"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"init"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1580815422403</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"heartbeat"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"estimated_recovery_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1408076414000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='97ad64e404'>返回参数说明：</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>true</td>
<td>string</td>
<td>操作名称，推送固定值为 notify;</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>true</td>
<td>string</td>
<td>推送的主题</td>
<td></td>
</tr>
<tr>
<td>event</td>
<td>true</td>
<td>string</td>
<td>通知相关事件说明</td>
<td>订阅成功返回的初始系统状态信息（init），系统状态变化触发（update）</td>
</tr>
<tr>
<td>ts</td>
<td>true</td>
<td>long</td>
<td>服务端应答时间戳</td>
<td></td>
</tr>
<tr>
<td>&lt;data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>heartbeat</td>
<td>true</td>
<td>int</td>
<td>系统状态</td>
<td>1是可用，0为不可用(即停服维护)</td>
</tr>
<tr>
<td>estimated_recovery_time</td>
<td>true</td>
<td>long</td>
<td>系统预估恢复时间，单位：毫秒</td>
<td>当系统状态为可用时，返回空值</td>
</tr>
<tr>
<td>&lt;/data&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='e0361480e3-27'>备注</h3>
<ul>
<li>这个推送由于是轮询判断状态的，所以推送可能存在1—2秒的延迟。</li>
</ul>
<h1 id='websocket-6'>WebSocket附录</h1><h2 id='op'>操作类型（OP）说明</h2>
<table><thead>
<tr>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ping</td>
<td>⼼跳发起(server)</td>
</tr>
<tr>
<td>pong</td>
<td>心跳应答</td>
</tr>
<tr>
<td>auth</td>
<td>鉴权</td>
</tr>
<tr>
<td>sub</td>
<td>订阅消息</td>
</tr>
<tr>
<td>unsub</td>
<td>取消订阅消息</td>
</tr>
<tr>
<td>notify</td>
<td>推送订阅消息(server)</td>
</tr>
</tbody></table>
<h2 id='topic'>主题（topic）类型说明</h2>
<table><thead>
<tr>
<th>类型</th>
<th>使用操作类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>orders.$contract_code</td>
<td>sub,unsub</td>
<td>订阅、取消订阅指定交易易对的订单变更更消息，当 $contract_code 值为 * 时代表订阅所有交易易对</td>
</tr>
</tbody></table>
<h2 id='err-code'>响应码（Err-Code）说明</h2>
<table><thead>
<tr>
<th>返回码</th>
<th>返回描述</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Request successfully.</td>
</tr>
<tr>
<td>2001</td>
<td>Invalid authentication.</td>
</tr>
<tr>
<td>2002</td>
<td>Authentication required.</td>
</tr>
<tr>
<td>2003</td>
<td>Authentication failed.</td>
</tr>
<tr>
<td>2004</td>
<td>Number of visits exceeds limit.</td>
</tr>
<tr>
<td>2005</td>
<td>Connection has been authenticated.</td>
</tr>
<tr>
<td>2007</td>
<td>You don’t have access permission as you have not opened contracts trading.</td>
</tr>
<tr>
<td>2010</td>
<td>Topic error.</td>
</tr>
<tr>
<td>2011</td>
<td>Contract doesn&#39;t exist.</td>
</tr>
<tr>
<td>2012</td>
<td>Topic not subscribed.</td>
</tr>
<tr>
<td>2013</td>
<td>Authentication type doesn&#39;t exist.</td>
</tr>
<tr>
<td>2014</td>
<td>Repeated subscription.</td>
</tr>
<tr>
<td>2020</td>
<td>This contract does not support cross margin mode.</td>
</tr>
<tr>
<td>2021</td>
<td>Illegal parameter margin_account.</td>
</tr>
<tr>
<td>2030</td>
<td>Exceeds connection limit of single user.</td>
</tr>
<tr>
<td>2040</td>
<td>Missing required parameter.</td>
</tr>
</tbody></table>

<p><br>
<br>
<br>
<br></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
    <script>
      const lang_btn = document.getElementById('lang_box');
      const btn_spot = document.getElementById('btn_spot');
      const btn_dm = document.getElementById('btn_dm');
      const btn_coin_margined_swap = document.getElementById('btn_coin_margined_swap');
      const btn_usdt_swap = document.getElementById('btn_usdt_swap')
      const btn_option = document.getElementById('btn_option');
      const v1_url = document.getElementById('v1_url');
      const url = GetUrlRelativePath();

      if(url.indexOf('cn') != -1){
        //如果是中文环境
        lang_btn.innerHTML = 'English';
        btn_spot.innerHTML = '现货';
        btn_dm.innerHTML = '交割合约';
        btn_coin_margined_swap.innerHTML = '币本位永续合约';
        btn_usdt_swap.innerHTML = 'USDT本位永续合约';
        btn_option.innerHTML = '期权合约';
        lang_btn.href = url.replace('cn/', 'en/');
        btn_spot.href = btn_spot.href.replace('en/', 'cn/');
        btn_dm.href = btn_dm.href.replace('en/', 'cn/');
        btn_coin_margined_swap.href = btn_coin_margined_swap.href.replace('en/', 'cn/');
        btn_usdt_swap.href = btn_usdt_swap.href.replace('en/', 'cn/');
        btn_option.href = btn_option.href.replace('en/', 'cn/');
        v1_url.href = '/docs/spot/v1/cn/';
      }else{
        //如果是英文环境
        lang_btn.innerHTML = '中文';
        btn_spot.innerHTML = 'Spot';
        btn_dm.innerHTML = 'Futures';
        // btn_swap.innerHTML = 'SWAP API';
        btn_coin_margined_swap.innerHTML = 'Coin Margined Swap';
        btn_usdt_swap.innerHTML = 'USDT Margined Swap';
        btn_option.innerHTML = 'Option';
        lang_btn.href = url.replace('en/', 'cn/');
        btn_spot.href = btn_spot.href.replace('cn/', 'en/');
        btn_dm.href = btn_dm.href.replace('cn/', 'en/');
        // btn_swap.href = btn_swap.href.replace('cn/', 'en/');
        btn_coin_margined_swap.href = btn_coin_margined_swap.href.replace('cn/', 'en/');
        btn_usdt_swap.href = btn_usdt_swap.href.replace('cn/', 'en/');
        btn_option.href = btn_option.href.replace('cn/', 'en/');
        v1_url.href = '/docs/spot/v1/en/';
      }

      if(location.href.indexOf('docs/dm/v') > 0){
        btn_spot.className = '';
        btn_dm.className = 'current';
        btn_coin_margined_swap.className = '';
        btn_usdt_swap.className = '';
        btn_option.className = '';
      } 
      else if(location.href.indexOf('docs/coin_margined_swap/v') > 0){
        btn_spot.className = '';
        btn_dm.className = '';
        btn_coin_margined_swap.className = 'current';        
        btn_usdt_swap.className = '';
        btn_option.className = '';
      } else if(location.href.indexOf('docs/usdt_swap/v') > 0){
        btn_spot.className = '';        
        btn_dm.className = '';
        btn_coin_margined_swap.className = '';
        btn_usdt_swap.className = 'current';
        btn_option.className = '';
      } else if(location.href.indexOf('docs/option/v') > 0){
        btn_spot.className = '';
        btn_coin_margined_swap.className = '';
        btn_usdt_swap.className = '';
        btn_dm.className = '';
        btn_option.className = 'current';
      } else {
        btn_spot.className = 'current';
        btn_coin_margined_swap.className = '';
        btn_usdt_swap.className = '';
        btn_dm.className = '';
        btn_option.className = '';
      }
      lang_btn.style.display = 'block';
      function GetUrlRelativePath(){
        let url = document.location.toString();
        let arrUrl = url.split("//");
        let start = arrUrl[1].indexOf("/");
        let relUrl = arrUrl[1].substring(start);
        if(relUrl.indexOf("?") != -1){
          relUrl = relUrl.split("?")[0];
        }
        if(relUrl.indexOf("#") != -1){
          relUrl = relUrl.split("#")[0];
        }
        return relUrl;
  　　}
    </script>
  </body>
</html>
